(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return u});var r=n("mrSG"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:s})}catch(h){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=s),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.options,o=void 0===i?{}:i,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:s,options:o});try{for(var u=Object(r.g)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=Object(r.e)(c.value,2),h=l[1];s===this.normalizeInstanceIdentifier(l[0])&&h.resolve(a)}}catch(f){e={error:f}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return a},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&t(o,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i,o=this.onInitCallbacks.get(e);if(o)try{for(var s=Object(r.g)(o),a=s.next();!a.done;a=s.next()){var u=a.value;try{u(t,e)}catch(c){}}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===s?void 0:e),options:i}),this.instances.set(n,o),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=s),this.component?this.component.multipleInstances?t:s:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a});var i="8.7.0";r.a.registerVersion("firebase",i,"app"),r.a.SDK_VERSION=i},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return en}),n.d(e,"b",function(){return Ea}),n.d(e,"c",function(){return ba}),n.d(e,"d",function(){return ya}),n.d(e,"e",function(){return va}),n.d(e,"f",function(){return yu}),n.d(e,"g",function(){return au}),n.d(e,"h",function(){return vs}),n.d(e,"i",function(){return Pa}),n.d(e,"j",function(){return Go}),n.d(e,"k",function(){return Ca}),n.d(e,"l",function(){return Qo}),n.d(e,"m",function(){return fr}),n.d(e,"n",function(){return ta}),n.d(e,"o",function(){return Vi}),n.d(e,"p",function(){return un}),n.d(e,"q",function(){return tn}),n.d(e,"r",function(){return eo}),n.d(e,"s",function(){return fs}),n.d(e,"t",function(){return ds}),n.d(e,"u",function(){return Ia}),n.d(e,"v",function(){return As}),n.d(e,"w",function(){return cu}),n.d(e,"x",function(){return xs}),n.d(e,"y",function(){return nu}),n.d(e,"z",function(){return Fa}),n.d(e,"A",function(){return cn}),n.d(e,"B",function(){return Oa}),n.d(e,"C",function(){return Sa}),n.d(e,"D",function(){return Yo}),n.d(e,"E",function(){return Jo}),n.d(e,"F",function(){return mr}),n.d(e,"G",function(){return Xo}),n.d(e,"H",function(){return ar}),n.d(e,"I",function(){return hn}),n.d(e,"J",function(){return fu}),n.d(e,"K",function(){return Es}),n.d(e,"L",function(){return Ga}),n.d(e,"M",function(){return nn}),n.d(e,"N",function(){return es}),n.d(e,"O",function(){return ts}),n.d(e,"P",function(){return ks}),n.d(e,"Q",function(){return L}),n.d(e,"R",function(){return ru}),n.d(e,"S",function(){return tu}),n.d(e,"T",function(){return Xa}),n.d(e,"U",function(){return gu}),n.d(e,"V",function(){return $a}),n.d(e,"W",function(){return Ta}),n.d(e,"X",function(){return Hi}),n.d(e,"Y",function(){return Uo}),n.d(e,"Z",function(){return or}),n.d(e,"ab",function(){return Hn}),n.d(e,"bb",function(){return kn}),n.d(e,"cb",function(){return Dn}),n.d(e,"db",function(){return Mn}),n.d(e,"eb",function(){return Pn}),n.d(e,"fb",function(){return Rn}),n.d(e,"gb",function(){return Ln}),n.d(e,"hb",function(){return Po}),n.d(e,"ib",function(){return pu}),n.d(e,"jb",function(){return Lo}),n.d(e,"kb",function(){return Mo}),n.d(e,"lb",function(){return Nn}),n.d(e,"mb",function(){return q}),n.d(e,"nb",function(){return so}),n.d(e,"ob",function(){return _o}),n.d(e,"pb",function(){return wo}),n.d(e,"qb",function(){return Ro}),n.d(e,"rb",function(){return At}),n.d(e,"sb",function(){return m}),n.d(e,"tb",function(){return jn}),n.d(e,"ub",function(){return Ot}),n.d(e,"vb",function(){return Zr}),n.d(e,"wb",function(){return lo}),n.d(e,"xb",function(){return da}),n.d(e,"yb",function(){return Z}),n.d(e,"zb",function(){return ot}),n.d(e,"Ab",function(){return _}),n.d(e,"Bb",function(){return S}),n.d(e,"Cb",function(){return nt}),n.d(e,"Db",function(){return st}),n.d(e,"Eb",function(){return po}),n.d(e,"Fb",function(){return bo}),n.d(e,"Gb",function(){return vo}),n.d(e,"Hb",function(){return yo}),n.d(e,"Ib",function(){return jo}),n.d(e,"Jb",function(){return _n}),n.d(e,"Kb",function(){return Ye}),n.d(e,"Lb",function(){return ma}),n.d(e,"Mb",function(){return So}),n.d(e,"Nb",function(){return pa}),n.d(e,"Ob",function(){return To}),n.d(e,"Pb",function(){return Qs}),n.d(e,"Qb",function(){return Js}),n.d(e,"Rb",function(){return Ys}),n.d(e,"Sb",function(){return go}),n.d(e,"Tb",function(){return Io}),n.d(e,"Ub",function(){return Ks}),n.d(e,"Vb",function(){return fa}),n.d(e,"Wb",function(){return ur}),n.d(e,"Xb",function(){return rt}),n.d(e,"Yb",function(){return fo}),n.d(e,"Zb",function(){return Co}),n.d(e,"ac",function(){return xo}),n.d(e,"bc",function(){return Ao});var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("7o/Q");function u(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class l extends a.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class h extends o.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return u()(this)}}const f=(()=>{const t=h.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class d extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}function g(t){for(let e in t)if(t[e]===g)return e;throw Error("Could not find renamed property on target object.")}function m(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(m).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function y(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const v=g({__forward_ref__:g});function b(t){return t.__forward_ref__=b,t.toString=function(){return m(this())},t}function w(t){return"function"==typeof(e=t)&&e.hasOwnProperty(v)&&e.__forward_ref__===b?t():t;var e}function _(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function S(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function O(t){return E(t,I)||E(t,x)}function E(t,e){return t.hasOwnProperty(e)?t[e]:null}function T(t){return t&&(t.hasOwnProperty(C)||t.hasOwnProperty(A))?t[C]:null}const I=g({"\u0275prov":g}),C=g({"\u0275inj":g}),x=g({ngInjectableDef:g}),A=g({ngInjectorDef:g});var j=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let k;function N(t){const e=k;return k=t,e}function D(t,e,n){const r=O(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&j.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${m(t)}]`)}function R(t){return{toString:t}.toString()}var P=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),L=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const M="undefined"!=typeof globalThis&&globalThis,F="undefined"!=typeof window&&window,U="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,V="undefined"!=typeof global&&global,q=M||V||F||U,H={},B=[],z=g({"\u0275cmp":g}),G=g({"\u0275dir":g}),K=g({"\u0275pipe":g}),W=g({"\u0275mod":g}),$=g({"\u0275loc":g}),Q=g({"\u0275fac":g}),J=g({__NG_ELEMENT_ID__:g});let Y=0;function Z(t){return R(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===P.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||B,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||L.Emulated,id:"c",styles:t.styles||B,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=Y++,n.inputs=it(t.inputs,e),n.outputs=it(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(X):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(tt):null,n})}function X(t){return at(t)||function(t){return t[G]||null}(t)}function tt(t){return function(t){return t[K]||null}(t)}const et={};function nt(t){const e={type:t.type,bootstrap:t.bootstrap||B,declarations:t.declarations||B,imports:t.imports||B,exports:t.exports||B,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&R(()=>{et[t.id]=t.type}),e}function rt(t,e){return R(()=>{const n=ut(t,!0);n.declarations=e.declarations||B,n.imports=e.imports||B,n.exports=e.exports||B})}function it(t,e){if(null==t)return H;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const ot=Z;function st(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function at(t){return t[z]||null}function ut(t,e){const n=t[W]||null;if(!n&&!0===e)throw new Error(`Type ${m(t)} does not have '\u0275mod' property.`);return n}const ct=20,lt=10;function ht(t){return Array.isArray(t)&&"object"==typeof t[1]}function ft(t){return Array.isArray(t)&&!0===t[1]}function dt(t){return 0!=(8&t.flags)}function pt(t){return 2==(2&t.flags)}function gt(t){return 1==(1&t.flags)}function mt(t){return null!==t.template}function yt(t,e){return t.hasOwnProperty(Q)?t[Q]:null}class vt extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function bt(t){return"string"==typeof t?t:null==t?"":String(t)}function wt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():bt(t)}function _t(t,e){const n=e?" in "+e:"";throw new vt("201",`No provider for ${wt(t)} found${n}`)}class St{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Ot(){return Et}function Et(t){return t.type.prototype.ngOnChanges&&(t.setInput=It),Tt}function Tt(){const t=Ct(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===H)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function It(t,e,n,r){const i=Ct(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:H,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new St(u&&u.currentValue,e,s===H),t[r]=e}function Ct(t){return t.__ngSimpleChanges__||null}Ot.ngInherit=!0;let xt=void 0;function At(t){xt=t}function jt(t){return!!t.listen}const kt={createRenderer:(t,e)=>void 0!==xt?xt:"undefined"!=typeof document?document:void 0};function Nt(t){for(;Array.isArray(t);)t=t[0];return t}function Dt(t,e){return Nt(e[t.index])}function Rt(t,e){return t.data[e]}function Pt(t,e){return t[e]}function Lt(t,e){const n=e[t];return ht(n)?n:n[0]}function Mt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Ft(t){return 4==(4&t[2])}function Ut(t){return 128==(128&t[2])}function Vt(t,e){return null==e?null:t[e]}function qt(t){t[18]=0}function Ht(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Bt={lFrame:ce(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function zt(){return Bt.bindingsEnabled}function Gt(){return Bt.lFrame.lView}function Kt(){return Bt.lFrame.tView}function Wt(){let t=$t();for(;null!==t&&64===t.type;)t=t.parent;return t}function $t(){return Bt.lFrame.currentTNode}function Qt(t,e){const n=Bt.lFrame;n.currentTNode=t,n.isParent=e}function Jt(){return Bt.lFrame.isParent}function Yt(){return Bt.isInCheckNoChangesMode}function Zt(t){Bt.isInCheckNoChangesMode=t}function Xt(){const t=Bt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function te(){return Bt.lFrame.bindingIndex++}function ee(t,e){const n=Bt.lFrame;n.bindingIndex=n.bindingRootIndex=t,ne(e)}function ne(t){Bt.lFrame.currentDirectiveIndex=t}function re(){return Bt.lFrame.currentQueryIndex}function ie(t){Bt.lFrame.currentQueryIndex=t}function oe(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function se(t,e,n){if(n&j.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&j.Host||(r=oe(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Bt.lFrame=ue();return r.currentTNode=e,r.lView=t,!0}function ae(t){const e=ue(),n=t[1];Bt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ue(){const t=Bt.lFrame,e=null===t?null:t.child;return null===e?ce(t):e}function ce(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function le(){const t=Bt.lFrame;return Bt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const he=le;function fe(){const t=le();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function de(){return Bt.lFrame.selectedIndex}function pe(t){Bt.lFrame.selectedIndex=t}function ge(){const t=Bt.lFrame;return Rt(t.tView,t.selectedIndex)}function me(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function ye(t,e,n){we(t,e,3,n)}function ve(t,e,n,r){(3&t[2])===n&&we(t,e,n,r)}function be(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function we(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<i||-1==i)&&(_e(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function _e(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}const Se=-1;class Oe{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Ee(t,e,n){const r=jt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];Ie(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Te(t){return 3===t||4===t||6===t}function Ie(t){return 64===t.charCodeAt(0)}function Ce(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||xe(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function xe(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Ae(t){return t!==Se}function je(t){return 32767&t}function ke(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Ne=!0;function De(t){const e=Ne;return Ne=t,e}let Re=0;function Pe(t,e){const n=Me(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Le(r.data,t),Le(e,null),Le(r.blueprint,null));const i=Fe(t,e),o=t.injectorIndex;if(Ae(i)){const t=je(i),n=ke(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Le(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Me(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Fe(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Se;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Se}function Ue(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(J)&&(r=n[J]),null==r&&(r=n[J]=Re++);const i=255&r,o=1<<i,s=64&i,a=32&i,u=e.data;128&i?s?a?u[t+7]|=o:u[t+6]|=o:a?u[t+5]|=o:u[t+4]|=o:s?a?u[t+3]|=o:u[t+2]|=o:a?u[t+1]|=o:u[t]|=o}(t,e,n)}function Ve(t,e,n){if(n&j.Optional)return t;_t(e,"NodeInjector")}function qe(t,e,n,r){if(n&j.Optional&&void 0===r&&(r=null),0==(n&(j.Self|j.Host))){const i=t[9],o=N(void 0);try{return i?i.get(e,r,n&j.Optional):D(e,r,n&j.Optional)}finally{N(o)}}return Ve(r,e,n)}function He(t,e,n,r=j.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(J)?t[J]:void 0;return"number"==typeof e?e>=0?255&e:ze:e}(n);if("function"==typeof o){if(!se(e,t,r))return r&j.Host?Ve(i,n,r):qe(e,n,r,i);try{const t=o();if(null!=t||r&j.Optional)return t;_t(n)}finally{he()}}else if("number"==typeof o){let i=null,s=Me(t,e),a=Se,u=r&j.Host?e[16][6]:null;for((-1===s||r&j.SkipSelf)&&(a=-1===s?Fe(t,e):e[s+8],a!==Se&&Qe(r,!1)?(i=e[1],s=je(a),e=ke(a,e)):s=-1);-1!==s;){const t=e[1];if($e(o,s,t.data)){const t=Ge(s,e,n,i,r,u);if(t!==Be)return t}a=e[s+8],a!==Se&&Qe(r,e[1].data[s+8]===u)&&$e(o,s,e)?(i=t,s=je(a),e=ke(a,e)):s=-1}}}return qe(e,n,r,i)}const Be={};function ze(){return new Je(Wt(),Gt())}function Ge(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=Ke(a,s,n,null==r?pt(a)&&Ne:r!=s&&0!=(3&a.type),i&j.Host&&o===a);return null!==u?We(e,s,u,a):Be}function Ke(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&mt(t)&&t.type===n)return u}return null}function We(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Oe){const s=i;s.resolving&&function(t,e){throw new vt("200","Circular dependency in DI detected for "+t)}(wt(o[n]));const a=De(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?N(s.injectImpl):null;se(t,r,j.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=Et(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&N(u),De(a),s.resolving=!1,he()}}return i}function $e(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function Qe(t,e){return!(t&j.Self||t&j.Host&&e)}class Je{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return He(this._tNode,this._lView,t,void 0,e)}}function Ye(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Te(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Wt(),t)}const Ze="__parameters__";function Xe(t,e,n){return R(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(Ze)?t[Ze]:Object.defineProperty(t,Ze,{value:[]})[Ze];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class tn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=_({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const en=new tn("AnalyzeForEntryComponents"),nn=Function;function rn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),rn(r,e)):e!==t&&e.push(r)}return e}function on(t,e){t.forEach(t=>Array.isArray(t)?on(t,e):e(t))}function sn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function an(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const un=Xe("Inject",t=>({token:t})),cn=Xe("Optional"),ln=Xe("Self"),hn=Xe("SkipSelf"),fn=Xe("Host"),dn={},pn=/\n/gm,gn="__source",mn=g({provide:String,useValue:g});let yn,vn=void 0;function bn(t){const e=vn;return vn=t,e}function wn(t,e=j.Default){if(void 0===vn)throw new Error("inject() must be called from an injection context");return null===vn?D(t,void 0,e):vn.get(t,e&j.Optional?null:void 0,e)}function _n(t,e=j.Default){return(k||wn)(w(t),e)}function Sn(t){const e=[];for(let n=0;n<t.length;n++){const r=w(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=j.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof cn||"Optional"===i.ngMetadataName||i===cn?n|=j.Optional:i instanceof hn||"SkipSelf"===i.ngMetadataName||i===hn?n|=j.SkipSelf:i instanceof ln||"Self"===i.ngMetadataName||i===ln?n|=j.Self:i instanceof fn||"Host"===i.ngMetadataName||i===fn?n|=j.Host:t=i instanceof un||i===un?i.token:i}e.push(_n(t,n))}else e.push(_n(r))}return e}function On(t){var e;return(null===(e=function(){if(void 0===yn&&(yn=null,q.trustedTypes))try{yn=q.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return yn}())||void 0===e?void 0:e.createHTML(t))||t}class En{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see https://g.co/ng/security#xss)"}}class Tn extends En{getTypeName(){return"HTML"}}class In extends En{getTypeName(){return"Style"}}class Cn extends En{getTypeName(){return"Script"}}class xn extends En{getTypeName(){return"URL"}}class An extends En{getTypeName(){return"ResourceURL"}}function jn(t){return t instanceof En?t.changingThisBreaksApplicationSecurity:t}function kn(t,e){const n=Nn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Nn(t){return t instanceof En&&t.getTypeName()||null}function Dn(t){return new Tn(t)}function Rn(t){return new In(t)}function Pn(t){return new Cn(t)}function Ln(t){return new xn(t)}function Mn(t){return new An(t)}class Fn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(On(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Un{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=On(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=On(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Vn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,qn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Hn(t){return(t=String(t)).match(Vn)||t.match(qn)?t:"unsafe:"+t}function Bn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function zn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Gn=Bn("area,br,col,hr,img,wbr"),Kn=Bn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Wn=Bn("rp,rt"),$n=zn(Wn,Kn),Qn=zn(Gn,zn(Kn,Bn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),zn(Wn,Bn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),$n),Jn=Bn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Yn=Bn("srcset"),Zn=zn(Jn,Yn,Bn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Bn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Xn=Bn("script,style,template");class tr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Qn.hasOwnProperty(e))return this.sanitizedSomething=!0,!Xn.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!Zn.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;Jn[o]&&(s=Hn(s)),Yn[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Hn(t.trim())).join(", ")),this.buf.push(" ",e,'="',rr(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Qn.hasOwnProperty(e)&&!Gn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(rr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const er=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,nr=/([^\#-~ |!])/g;function rr(t){return t.replace(/&/g,"&amp;").replace(er,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(nr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ir;function or(t,e){let n=null;try{ir=ir||function(t){const e=new Un(t);return function(){try{return!!(new window.DOMParser).parseFromString(On(""),"text/html")}catch(t){return!1}}()?new Fn(e):e}(t);let r=e?String(e):"";n=ir.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=ir.getInertBodyElement(r)}while(r!==o);return(new tr).sanitizeChildren(sr(n)||n)}finally{if(n){const t=sr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function sr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var ar=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function ur(t){const e=function(){const t=Gt();return t&&t[12]}();return e?e.sanitize(ar.URL,t)||"":kn(t,"URL")?jn(t):Hn(bt(t))}function cr(t){return t.ngDebugContext}function lr(t){return t.ngOriginalError}function hr(t,...e){t.error(...e)}class fr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||hr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?cr(t)?cr(t):this._findContext(lr(t)):null}_findOriginalError(t){let e=lr(t);for(;e&&lr(e);)e=lr(e);return e}}function dr(t,e){t.__ngContext__=e}const pr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(q))();function gr(t){return t instanceof Function?t():t}var mr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function yr(t,e){return(void 0)(t,e)}function vr(t){const e=t[3];return ft(e)?e[3]:e}function br(t){return _r(t[13])}function wr(t){return _r(t[4])}function _r(t){for(;null!==t&&!ft(t);)t=t[4];return t}function Sr(t,e,n,r,i){if(null!=r){let o,s=!1;ft(r)?o=r:ht(r)&&(s=!0,r=r[0]);const a=Nt(r);0===t&&null!==n?null==i?Ar(e,n,a):xr(e,n,a,i||null,!0):1===t&&null!==n?xr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=kr(t,e);r&&function(t,e,n,r){jt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==Nt(n)&&Sr(e,t,r,o,i);for(let s=lt;s<n.length;s++){const i=n[s];Lr(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Or(t,e,n){return jt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Er(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Ht(i,-1)),n.splice(r,1)}function Tr(t,e){if(t.length<=lt)return;const n=lt+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Er(o,r),e>0&&(t[n-1][4]=r[4]);const s=an(t,lt+e);Lr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Ir(t,e){if(!(256&e[2])){const n=e[11];jt(n)&&n.destroyNode&&Lr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Cr(t[1],t);for(;e;){let n=null;if(ht(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ht(e)&&Cr(e[1],e),e=e[3];null===e&&(e=t),ht(e)&&Cr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Cr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Oe)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):Nt(e[t]),a=r[i=n[o+2]],u=n[o+3];"boolean"==typeof u?s.removeEventListener(n[o],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&jt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&ft(e[3])){n!==e[3]&&Er(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function xr(t,e,n,r,i){jt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Ar(t,e,n){jt(t)?t.appendChild(e,n):e.appendChild(n)}function jr(t,e,n,r,i){null!==r?xr(t,e,n,r,i):Ar(t,e,n)}function kr(t,e){return jt(t)?t.parentNode(e):e.parentNode}function Nr(t,e,n,r){const i=function(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===L.None||e===L.Emulated)return null}return Dt(r,n)}(t,e.parent,n)}(t,r,e),o=e[11],s=function(t,e,n){return function(t,e,n){return 40&t.type?Dt(t,n):null}(t,0,n)}(r.parent||e[6],0,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)jr(o,i,n[a],s,!1);else jr(o,i,n,s,!1)}function Dr(t,e){if(null!==e){const n=e.type;if(3&n)return Dt(e,t);if(4&n)return Rr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Dr(t,n);{const n=t[e.index];return ft(n)?Rr(-1,n):Nt(n)}}if(32&n)return yr(e,t)()||Nt(t[e.index]);{const n=t[16],r=n[6],i=vr(n),o=r.projection[e.projection];return null!=o?Dr(i,o):Dr(t,e.next)}}return null}function Rr(t,e){const n=lt+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Dr(t,r)}return e[7]}function Pr(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&dr(Nt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Pr(t,e,n.child,r,i,o,!1),Sr(e,t,i,a,o);else if(32&u){const s=yr(n,r);let u;for(;u=s();)Sr(e,t,i,u,o);Sr(e,t,i,a,o)}else 16&u?Mr(t,e,r,n,i,o):Sr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Lr(t,e,n,r,i,o){Pr(n,r,t.firstChild,e,i,o,!1)}function Mr(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Sr(e,t,i,a[u],o);else Pr(t,e,a,s[3],i,o,!0)}function Fr(t,e,n){jt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Ur(t,e,n){jt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Vr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const qr="ng-template";function Hr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Vr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Br(t){return 4===t.type&&t.value!==qr}function zr(t,e,n){return e===(4!==t.type||n?t.value:qr)}function Gr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Te(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!zr(t,u,n)||""===u&&1===e.length){if(Kr(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Hr(t.attrs,c,n)){if(Kr(r))return!1;s=!0}continue}const l=Wr(8&r?"class":u,i,Br(t),n);if(-1===l){if(Kr(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Vr(e,c,0)||2&r&&c!==t){if(Kr(r))return!1;s=!0}}}}else{if(!s&&!Kr(r)&&!Kr(u))return!1;if(s&&Kr(u))continue;s=!1,r=u|1&r}}return Kr(r)||s}function Kr(t){return 0==(1&t)}function Wr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function $r(t,e,n=!1){for(let r=0;r<e.length;r++)if(Gr(t,e[r],n))return!0;return!1}function Qr(t,e){return t?":not("+e.trim()+")":e}function Jr(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Kr(s)||(e+=Qr(o,i),i=""),r=s,o=o||!Kr(r);n++}return""!==i&&(e+=Qr(o,i)),e}const Yr={};function Zr(t){Xr(Kt(),Gt(),de()+t,Yt())}function Xr(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&ye(e,r,n)}else{const r=t.preOrderHooks;null!==r&&ve(e,r,0,n)}pe(n)}function ti(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];ie(i),n.contentQueries(2,e[o],o)}}}function ei(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,qt(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function ni(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=$t(),s=Jt(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,r,i),Bt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=Bt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Qt(o,!0),o}function ri(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ii(t,e,n){ae(e);try{const r=t.viewQuery;null!==r&&Di(1,r,n);const i=t.template;null!==i&&ai(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&ti(t,e),t.staticViewQueries&&Di(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)xi(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,fe()}}function oi(t,e,n,r){const i=e[2];if(256==(256&i))return;ae(e);const o=Yt();try{qt(e),Bt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&ai(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&ye(e,n,null)}else{const n=t.preOrderHooks;null!==n&&ve(e,n,0,null),be(e,0)}if(function(t){for(let e=br(t);null!==e;e=wr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Ht(r,1),n[2]|=1024}}}(e),function(t){for(let e=br(t);null!==e;e=wr(e))for(let t=lt;t<e.length;t++){const n=e[t],r=n[1];Ut(n)&&oi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&ti(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&ye(e,n)}else{const n=t.contentHooks;null!==n&&ve(e,n,1),be(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)pe(~r);else{const i=r,o=n[++t],s=n[++t];ee(o,i),s(2,e[i])}}}finally{pe(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Ii(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Di(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&ye(e,n)}else{const n=t.viewHooks;null!==n&&ve(e,n,2),be(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ht(e[3],-1))}finally{fe()}}function si(t,e,n,r){const i=e[10],o=!Yt(),s=Ft(e);try{o&&!s&&i.begin&&i.begin(),s&&ii(t,e,r),oi(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function ai(t,e,n,r,i){const o=de();try{pe(-1),2&r&&e.length>ct&&Xr(t,e,ct,Yt()),n(r,i)}finally{pe(o)}}function ui(t,e,n){zt()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Pe(n,e),dr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=mt(r);o&&Si(e,n,r);const u=We(e,t,a,n);dr(u,e),null!==s&&Oi(0,a-i,u,r,0,s),o&&(Lt(n.index,e)[8]=u)}}(t,e,n,Dt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Bt.lFrame.currentDirectiveIndex;try{pe(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ne(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||yi(r,i)}}finally{pe(-1),ne(s)}}(t,e,n))}function ci(t,e,n=Dt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function li(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=hi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function hi(t,e,n,r,i,o,s,a,u,c){const l=ct+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Yr);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function fi(t,e,n,r){const i=Pi(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Li(t).push(r,i.length-1))}function di(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function pi(t,e,n,r,i,o,s,a){const u=Dt(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(Fi(t,n,c,r,i),pt(e)&&function(t,e){const n=Lt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.value||"",r):i,jt(o)?o.setProperty(u,r,i):Ie(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function gi(t,e,n,r){let i=!1;if(zt()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];$r(n,s.selectors,!1)&&(i||(i=[]),Ue(Pe(n,e),t,s.type),mt(s)?(vi(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,wi(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=ri(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=Ce(n.mergedAttrs,c.hostAttrs),_i(t,n,e,u,c),bi(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||Br(e)?null:Ei(n,i);o.push(c),s=di(n,u,s),a=di(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new vt("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=Ce(n.mergedAttrs,n.attrs),i}function mi(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function yi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function vi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function bi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;mt(e)&&(n[""]=t)}}function wi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function _i(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=yt(i.type)),s=new Oe(o,mt(i),null);t.blueprint[r]=s,n[r]=s,mi(t,e,0,r,ri(t,n,i.hostVars,Yr),i)}function Si(t,e,n){const r=Dt(e,t),i=li(n),o=t[10],s=Ai(t,ei(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function Oi(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function Ei(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Ti(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Ii(t,e){const n=Lt(e,t);if(Ut(n)){const t=n[1];80&n[2]?oi(t,n,t.template,n[8]):n[5]>0&&Ci(n)}}function Ci(t){for(let n=br(t);null!==n;n=wr(n))for(let t=lt;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];oi(t,e,t.template,e[8])}else e[5]>0&&Ci(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Lt(e[n],t);Ut(r)&&r[5]>0&&Ci(r)}}function xi(t,e){const n=Lt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),ii(r,n,n[8])}function Ai(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function ji(t){for(;t;){t[2]|=64;const e=vr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function ki(t,e,n){const r=e[10];r.begin&&r.begin();try{oi(t,e,t.template,n)}catch(i){throw Mi(e,i),i}finally{r.end&&r.end()}}function Ni(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Mt(n),i=r[1];si(i,r,i.template,n)}}(t[8])}function Di(t,e,n){ie(0),e(t,n)}const Ri=(()=>Promise.resolve(null))();function Pi(t){return t[7]||(t[7]=[])}function Li(t){return t.cleanup||(t.cleanup=[])}function Mi(t,e){const n=t[9],r=n?n.get(fr,null):null;r&&r.handleError(e)}function Fi(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Ui(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=y(i,t):2==o&&(r=y(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Vi=new tn("INJECTOR",-1);class qi{get(t,e=dn){if(e===dn){const e=new Error(`NullInjectorError: No provider for ${m(t)}!`);throw e.name="NullInjectorError",e}return e}}const Hi=new tn("Set Injector scope."),Bi={},zi={},Gi=[];let Ki=void 0;function Wi(){return void 0===Ki&&(Ki=new qi),Ki}function $i(t,e=null,n=null,r){return new Qi(t,n,e||Wi(),r)}class Qi{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&on(e,n=>this.processProvider(n,t,e)),on([t],t=>this.processInjectorType(t,[],i)),this.records.set(Vi,Yi(void 0,this));const o=this.records.get(Hi);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:m(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=dn,n=j.Default){this.assertNotDestroyed();const r=bn(this);try{if(!(n&j.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof tn)&&O(t);e=n&&this.injectableDefInScope(n)?Yi(Ji(t),Bi):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&j.Self?Wi():this.parent).get(t,e=n&j.Optional&&e===dn?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(m(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[gn]&&i.unshift(e[gn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=m(e);if(Array.isArray(e))i=e.map(m).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):m(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(pn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{bn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(m(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=w(t)))return!1;let r=T(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=T(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{on(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];on(r,t=>this.processProvider(t,n,r||Gi))}}this.injectorDefTypes.add(o),this.records.set(o,Yi(r.factory,Bi));const a=r.providers;if(null!=a&&!s){const e=t;on(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Xi(t=w(t))?t:w(t&&t.provide);const i=function(t,e,n){return Zi(t)?Yi(void 0,t.useValue):Yi(function(t,e,n){let r=void 0;if(Xi(t)){const e=w(t);return yt(e)||Ji(e)}if(Zi(t))r=()=>w(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Sn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>_n(w(t.useExisting));else{const e=w(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return yt(e)||Ji(e);r=()=>new e(...Sn(t.deps))}var i;return r}(t),Bi)}(t);if(Xi(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=Yi(void 0,Bi,!0),e.factory=()=>Sn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===Bi&&(e.value=zi,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Ji(t){const e=O(t),n=null!==e?e.factory:yt(t);if(null!==n)return n;const r=T(t);if(null!==r)return r.factory;if(t instanceof tn)throw new Error(`Token ${m(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${m(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[I]||t[x]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Yi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Zi(t){return null!==t&&"object"==typeof t&&mn in t}function Xi(t){return"function"==typeof t}const to=function(t,e,n){return function(t,e=null,n=null,r){const i=$i(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let eo=(()=>{class t{static create(t,e){return Array.isArray(t)?to(t,e,""):to(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=dn,t.NULL=new qi,t.\u0275prov=_({token:t,providedIn:"any",factory:()=>_n(Vi)}),t.__NG_ELEMENT_ID__=-1,t})();function no(t,e){me(Mt(t)[1],Wt())}let ro=null;function io(){if(!ro){const t=q.Symbol;if(t&&t.iterator)ro=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(ro=n)}}}return ro}class oo{constructor(t){this.wrapped=t}static wrap(t){return new oo(t)}static unwrap(t){return oo.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof oo}}function so(t){return!!ao(t)&&(Array.isArray(t)||!(t instanceof Map)&&io()in t)}function ao(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function uo(t,e,n){return t[e]=n}function co(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function lo(t,e,n,r){const i=Gt();return co(i,te(),e)&&(Kt(),function(t,e,n,r,i,o){const s=Dt(t,e);!function(t,e,n,r,i,o,s){if(null==o)jt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?bt(o):s(o,r||"",i);jt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],s,o,t.value,n,r,i)}(ge(),i,t,e,n,r)),lo}function ho(t,e,n,r){return co(t,te(),n)?e+bt(n)+r:Yr}function fo(t,e,n,r,i,o,s,a){const u=Gt(),c=Kt(),l=t+ct,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=ni(e,t,4,s||null,Vt(c,a));gi(e,n,l,Vt(c,u)),me(e,l);const h=l.tViews=hi(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];Qt(h,!1);const f=u[11].createComment("");Nr(c,u,f,h),dr(f,u),Ai(u,u[l]=Ti(f,u,f,h)),gt(h)&&ui(c,u,h),null!=s&&ci(u,h,a)}function po(t,e=j.Default){const n=Gt();return null===n?_n(t,e):He(Wt(),n,w(t),e)}function go(t,e,n){const r=Gt();return co(r,te(),e)&&pi(Kt(),ge(),r,t,e,r[11],n,!1),go}function mo(t,e,n,r,i){const o=i?"class":"style";Fi(t,n,e.inputs[o],o,r)}function yo(t,e,n,r){const i=Gt(),o=Kt(),s=ct+t,a=i[11],u=i[s]=Or(a,e,Bt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=ni(e,t,2,i,Vt(a,o));return gi(e,n,u,Vt(a,s)),null!==u.attrs&&Ui(u,u.attrs,!1),null!==u.mergedAttrs&&Ui(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];Qt(c,!0);const l=c.mergedAttrs;null!==l&&Ee(a,u,l);const h=c.classes;null!==h&&Ur(a,u,h);const f=c.styles;null!==f&&Fr(a,u,f),64!=(64&c.flags)&&Nr(o,i,u,c),0===Bt.lFrame.elementDepthCount&&dr(u,i),Bt.lFrame.elementDepthCount++,gt(c)&&(ui(o,i,c),function(t,e,n){if(dt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&ci(i,c)}function vo(){let t=Wt();Jt()?Bt.lFrame.isParent=!1:(t=t.parent,Qt(t,!1));const e=t;Bt.lFrame.elementDepthCount--;const n=Kt();n.firstCreatePass&&(me(n,t),dt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&mo(n,e,Gt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&mo(n,e,Gt(),e.stylesWithoutHost,!1)}function bo(t,e,n,r){yo(t,e,n,r),vo()}function wo(t){return!!t&&"function"==typeof t.then}function _o(t){return!!t&&"function"==typeof t.subscribe}function So(t,e,n=!1,r){const i=Gt(),o=Kt(),s=Wt();return function(t,e,n,r,i,o,s=!1,a){const u=gt(r),c=t.firstCreatePass&&Li(t),l=Pi(e);let h=!0;if(3&r.type){const f=Dt(r,e),d=a?a(f):H,p=d.target||f,g=l.length,m=a?t=>a(Nt(t[r.index])).target:r.index;if(jt(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Eo(r,e,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,m,g,g+1)}}else o=Eo(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,m,g,s)}else o=Eo(r,e,o,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),So}function Oo(t,e,n){try{return!1!==e(n)}catch(r){return Mi(t,r),!1}}function Eo(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?Lt(t.index,e):e;0==(32&e[2])&&ji(s);let a=Oo(e,n,o),u=i.__ngNextListenerFn__;for(;u;)a=Oo(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function To(t=1){return function(t){return(Bt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Bt.lFrame.contextLView))[8]}(t)}function Io(t,e,n,r,i){const o=Gt(),s=ho(o,e,n,r);return s!==Yr&&pi(Kt(),ge(),o,t,s,o[11],i,!1),Io}function Co(t,e=""){const n=Gt(),r=Kt(),i=t+ct,o=r.firstCreatePass?ni(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return jt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Nr(r,n,s,o),Qt(o,!1)}function xo(t){return Ao("",t,""),xo}function Ao(t,e,n){const r=Gt(),i=ho(r,t,e,n);return i!==Yr&&function(t,e,n){const r=function(t,e){return Nt(e[t])}(e,t);!function(t,e,n){jt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,de(),i),Ao}function jo(t,e,n){const r=Gt();return co(r,te(),e)&&pi(Kt(),ge(),r,t,e,r[11],n,!0),jo}const ko=void 0;var No=["en",[["a","p"],["AM","PM"],ko],[["AM","PM"],ko,ko],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ko,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ko,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ko,"{1} 'at' {0}",ko],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Do={};function Ro(t,e,n){"string"!=typeof e&&(n=e,e=t[Uo.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Do[e]=t,n&&(Do[e][Uo.ExtraData]=n)}function Po(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Fo(e);if(n)return n;const r=e.split("-")[0];if(n=Fo(r),n)return n;if("en"===r)return No;throw new Error(`Missing locale data for the locale "${t}".`)}function Lo(t){return Po(t)[Uo.CurrencyCode]||null}function Mo(t){return Po(t)[Uo.PluralCase]}function Fo(t){return t in Do||(Do[t]=q.ng&&q.ng.common&&q.ng.common.locales&&q.ng.common.locales[t]),Do[t]}var Uo=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Vo="en-US";let qo=Vo;function Ho(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(qo=t.toLowerCase().replace(/_/g,"-"))}class Bo{}class zo{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${m(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Go=(()=>{class t{}return t.NULL=new zo,t})();function Ko(...t){}function Wo(t,e){return new Qo(Dt(t,e))}const $o=function(){return Wo(Wt(),Gt())};let Qo=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=$o,t})();class Jo{}let Yo=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Zo(),t})();const Zo=function(){const t=Gt(),e=Lt(Wt().index,t);return function(t){return t[11]}(ht(e)?e:t)};let Xo=(()=>{class t{}return t.\u0275prov=_({token:t,providedIn:"root",factory:()=>null}),t})();class ts{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const es=new ts("11.0.9");class ns{constructor(){}supports(t){return so(t)}create(t){return new is(t)}}const rs=(t,e)=>e;class is{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||rs}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<us(n,r,i)?e:n,s=us(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!so(t))throw new Error(`Error trying to diff '${m(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[io()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new os(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new as),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new as),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class os{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ss{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class as{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new ss,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function us(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class cs{constructor(){}supports(t){return t instanceof Map||ao(t)}create(){return new ls}}class ls{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||ao(t)))throw new Error(`Error trying to diff '${m(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new hs(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class hs{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let fs=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new hn,new cn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=_({token:t,providedIn:"root",factory:()=>new t([new ns])}),t})(),ds=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new hn,new cn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=_({token:t,providedIn:"root",factory:()=>new t([new cs])}),t})();function ps(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(Nt(o)),ft(o))for(let t=lt;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&ps(e[1],e,n,r)}const s=n.type;if(8&s)ps(t,e,n.child,r);else if(32&s){const t=yr(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=e[16],i=t[6].projection[n.projection];if(Array.isArray(i))r.push(...i);else{const e=vr(t);ps(e[1],e,i,r,!0)}}n=i?n.projectionNext:n.next}return r}class gs{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return ps(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(ft(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Tr(t,n),an(e,n))}this._attachedToViewContainer=!1}Ir(this._lView[1],this._lView)}onDestroy(t){fi(this._lView[1],this._lView,null,t)}markForCheck(){ji(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ki(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Zt(!0);try{ki(t,e,n)}finally{Zt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Lr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class ms extends gs{constructor(t){super(t),this._view=t}detectChanges(){Ni(this._view)}checkNoChanges(){!function(t){Zt(!0);try{Ni(t)}finally{Zt(!1)}}(this._view)}get context(){return null}}const ys=bs;let vs=(()=>{class t{}return t.__NG_ELEMENT_ID__=ys,t.__ChangeDetectorRef__=!0,t})();function bs(t=!1){return function(t,e,n){if(!n&&pt(t)){const n=Lt(t.index,e);return new gs(n,n)}return 47&t.type?new gs(e[16],e):null}(Wt(),Gt(),t)}const ws=[new cs],_s=new fs([new ns]),Ss=new ds(ws),Os=function(){return Cs(Wt(),Gt())};let Es=(()=>{class t{}return t.__NG_ELEMENT_ID__=Os,t})();const Ts=Es,Is=class extends Ts{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=ei(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),ii(e,n,t),new gs(n)}};function Cs(t,e){return 4&t.type?new Is(e,t,Wo(t,e)):null}class xs{}class As{}const js=function(){return Ls(Wt(),Gt())};let ks=(()=>{class t{}return t.__NG_ELEMENT_ID__=js,t})();const Ns=ks,Ds=class extends Ns{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Wo(this._hostTNode,this._hostLView)}get injector(){return new Je(this._hostTNode,this._hostLView)}get parentInjector(){const t=Fe(this._hostTNode,this._hostLView);if(Ae(t)){const e=ke(t,this._hostLView),n=je(t);return new Je(e[1].data[n+8],e)}return new Je(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Rs(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-lt}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(xs,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(ft(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Ds(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=lt+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-lt?(e[4]=n[i],sn(n,lt+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=Rr(i,o),a=n[11],u=kr(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Lr(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(),sn(Ps(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Rs(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Tr(this._lContainer,e);n&&(an(Ps(this._lContainer),e),Ir(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Tr(this._lContainer,e);return n&&null!=an(Ps(this._lContainer),e)?new gs(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Rs(t){return t[8]}function Ps(t){return t[8]||(t[8]=[])}function Ls(t,e){let n;const r=e[t.index];if(ft(r))n=r;else{let i;if(8&t.type)i=Nt(r);else{const n=e[11];i=n.createComment("");const r=Dt(t,e);xr(n,kr(n,r),i,function(t,e){return jt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Ti(r,e,i,t),Ai(e,n)}return new Ds(n,t,e)}const Ms={};class Fs extends Go{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=at(t);return new qs(e,this.ngModule)}}function Us(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Vs=new tn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>pr});class qs extends Bo{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Jr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Us(this.componentDef.inputs)}get outputs(){return Us(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,Ms,i);return o!==Ms||r===Ms?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Jo,kt),s=i.get(Xo,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(jt(t))return t.selectRootElement(e,n===L.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Or(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:pr,clean:Ri,playerHandler:null,flags:0},f=hi(0,null,null,1,0,null,null,null,null,null),d=ei(null,f,h,l,null,null,o,a,s,i);let p,g;ae(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=ni(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(Ui(a,u,!0),null!==t&&(Ee(i,t,u),null!==a.classes&&Ur(i,t,a.classes),null!==a.styles&&Fr(i,t,a.styles)));const c=r.createRenderer(t,e),l=ei(n,li(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(Ue(Pe(a,n),s,e.type),vi(s,a),wi(a,n.length,1)),Ai(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)Ee(a,c,["ng-version",es.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Kr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Ee(a,c,t),e&&e.length>0&&Ur(a,c,e.join(" "))}if(g=Rt(f,ct),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Wt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),_i(t,r,e,ri(t,e,1,null),n));const i=We(e,t,r.directiveStart,r);dr(i,e);const o=Dt(r,e);return o&&dr(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=Wt();e.contentQueries(1,s,t.directiveStart)}const a=Wt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(pe(a.index),mi(n[1],a,0,a.directiveStart,a.directiveEnd,e),yi(e,s)),s}(t,this.componentDef,d,h,[no]),ii(f,d,null)}finally{fe()}return new Hs(this.componentType,p,Wo(g,d),d,g)}}class Hs extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new ms(r),this.componentType=t}get injector(){return new Je(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Bs=new Map;class zs extends xs{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Fs(this);const n=ut(t),r=t[$]||null;r&&Ho(r),this._bootstrapComponents=gr(n.bootstrap),this._r3Injector=$i(t,e,[{provide:xs,useValue:this},{provide:Go,useValue:this.componentFactoryResolver}],m(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=eo.THROW_IF_NOT_FOUND,n=j.Default){return t===eo||t===xs||t===Vi?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Gs extends As{constructor(t){super(),this.moduleType=t,null!==ut(t)&&function(t){const e=new Set;!function t(n){const r=ut(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${m(e)} vs ${m(e.name)}`)}(i,Bs.get(i),n),Bs.set(i,n));const o=gr(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new zs(this.moduleType,t)}}function Ks(t,e,n,r){return $s(Gt(),Xt(),t,e,n,r)}function Ws(t,e){const n=t[e];return n===Yr?void 0:n}function $s(t,e,n,r,i,o){const s=e+n;return co(t,s,i)?uo(t,s+1,o?r.call(o,i):r(i)):Ws(t,s+1)}function Qs(t,e){const n=Kt();let r;const i=t+ct;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new vt("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=yt(r.type)),s=N(po);try{const t=De(!1),e=o();return De(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Gt(),i,e),e}finally{N(s)}}function Js(t,e,n){const r=t+ct,i=Gt(),o=Pt(i,r);return Xs(i,Zs(i,r)?$s(i,Xt(),e,o.transform,n,o):o.transform(n))}function Ys(t,e,n,r,i){const o=t+ct,s=Gt(),a=Pt(s,o);return Xs(s,Zs(s,o)?function(t,e,n,r,i,o,s,a){const u=e+n;return function(t,e,n,r,i){const o=function(t,e,n,r){const i=co(t,e,n);return co(t,e+1,r)||i}(t,e,n,r);return co(t,e+2,i)||o}(t,u,i,o,s)?uo(t,u+3,a?r.call(a,i,o,s):r(i,o,s)):Ws(t,u+3)}(s,Xt(),e,a.transform,n,r,i,a):a.transform(n,r,i))}function Zs(t,e){return t[1].data[e].pure}function Xs(t,e){return oo.isWrapped(e)&&(e=oo.unwrap(e),t[Bt.lFrame.bindingIndex]=Yr),e}const ta=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return t instanceof i.a&&t.add(a),a}};function ea(){return this._results[io()]()}class na{constructor(){this.dirty=!0,this._results=[],this.changes=new ta,this.length=0;const t=io(),e=na.prototype;e[t]||(e[t]=ea)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=rn(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class ra{constructor(t){this.queryList=t,this.matches=null}clone(){return new ra(this.queryList)}setDirty(){this.queryList.setDirty()}}class ia{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new ia(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==ga(t,e).matches&&this.queries[e].setDirty()}}class oa{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class sa{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new sa(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class aa{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new aa(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,ua(e,i)),this.matchTNodeWithReadOption(t,e,Ke(e,t,i,!1,!1))}else n===Es?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Ke(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Qo||r===ks||r===Es&&4&e.type)this.addMatch(e.index,-2);else{const n=Ke(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function ua(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function ca(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Wo(t,e):4&t.type?Cs(t,e):null}(e,t):-2===n?function(t,e,n){return n===Qo?Wo(e,t):n===Es?Cs(e,t):n===ks?Ls(e,t):void 0}(t,e,r):We(t,t[1],n,e)}function la(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:ca(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function ha(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=la(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=lt;t<s.length;t++){const e=s[t];e[17]===e[3]&&ha(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];ha(n[1],n,i,r)}}}}}return r}function fa(t){const e=Gt(),n=Kt(),r=re();ie(r+1);const i=ga(n,r);if(t.dirty&&Ft(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?ha(n,e,r,[]):la(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function da(t,e,n,r){!function(t,e,n,r,i,o,s,a){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new sa),t.queries.track(new aa(e,n))}(t,new oa(n,r,false,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),function(t,e){const n=new na;fi(t,e,n,n.destroy),null===e[19]&&(e[19]=new ia),e[19].queries.push(new ra(n))}(t,e)}(Kt(),Gt(),e,n,r,0,Wt(),t)}function pa(){return t=Gt(),e=re(),t[19].queries[e].queryList;var t,e}function ga(t,e){return t.queries.getByIndex(e)}function ma(t=j.Default){const e=bs(!0);if(null!=e||t&j.Optional)return e;_t("ChangeDetectorRef")}const ya=new tn("Application Initializer");let va=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Ko,this.reject=Ko,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();wo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(_n(ya,8))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const ba=new tn("AppId"),wa={provide:ba,useFactory:function(){return`${_a()}${_a()}${_a()}`},deps:[]};function _a(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Sa=new tn("Platform Initializer"),Oa=new tn("Platform ID"),Ea=new tn("appBootstrapListener");let Ta=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const Ia=new tn("LocaleId"),Ca=new tn("DefaultCurrencyCode");class xa{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Aa=function(t){return new Gs(t)},ja=Aa,ka=function(t){return Promise.resolve(Aa(t))},Na=function(t){const e=Aa(t),n=gr(ut(t).declarations).reduce((t,e)=>{const n=at(e);return n&&t.push(new qs(n)),t},[]);return new xa(e,n)},Da=Na,Ra=function(t){return Promise.resolve(Na(t))};let Pa=(()=>{class t{constructor(){this.compileModuleSync=ja,this.compileModuleAsync=ka,this.compileModuleAndAllComponentsSync=Da,this.compileModuleAndAllComponentsAsync=Ra}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const La=(()=>Promise.resolve(0))();function Ma(t){"undefined"==typeof Zone?La.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Fa{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ta(!1),this.onMicrotaskEmpty=new ta(!1),this.onStable=new ta(!1),this.onError=new ta(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=q.requestAnimationFrame,e=q.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(q,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,qa(t),Va(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),qa(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,a)=>{try{return Ha(t),n.invokeTask(i,o,s,a)}finally{e&&"eventTask"===o.type&&e(),Ba(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return Ha(t),e.invoke(r,i,o,s,a)}finally{Ba(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,qa(t),Va(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Fa.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Fa.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Ua,Ko,Ko);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Ua={};function Va(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function qa(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Ha(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ba(t){t._nesting--,Va(t)}class za{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ta,this.onMicrotaskEmpty=new ta,this.onStable=new ta,this.onError=new ta}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Ga=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Fa.assertNotInAngularZone(),Ma(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ma(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(_n(Fa))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})(),Ka=(()=>{class t{constructor(){this._applications=new Map,Ja.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Ja.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();class Wa{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function $a(t){Ja=t}let Qa,Ja=new Wa,Ya=!0,Za=!1;function Xa(){return Za=!0,Ya}function tu(){if(Za)throw new Error("Cannot enable prod mode after platform setup.");Ya=!1}const eu=new tn("AllowMultipleToken");class nu{constructor(t,e){this.name=t,this.token=e}}function ru(t,e,n=[]){const r="Platform: "+e,i=new tn(r);return(e=[])=>{let o=iu();if(!o||o.injector.get(eu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Hi,useValue:"platform"});!function(t){if(Qa&&!Qa.destroyed&&!Qa.injector.get(eu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Qa=t.get(ou);const e=t.get(Sa,null);e&&e.forEach(t=>t())}(eo.create({providers:t,name:r}))}return function(t){const e=iu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function iu(){return Qa&&!Qa.destroyed?Qa:null}let ou=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new za:("zone.js"===t?void 0:t)||new Fa({enableLongStackTrace:Xa(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Fa,useValue:n}];return n.run(()=>{const e=eo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(fr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{uu(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return wo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(va);return t.runInitializers(),t.donePromise.then(()=>(Ho(i.injector.get(Ia,Vo)||Vo),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=su({},e);return function(t,e,n){const r=new Gs(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(au);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${m(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(_n(eo))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function su(t,e){return Array.isArray(e)?e.reduce(su,t):Object.assign(Object.assign({},t),e)}let au=(()=>{class t{constructor(t,e,n,r,i,a){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Fa.assertNotInAngularZone(),Ma(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Fa.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(c,l.pipe(t=>{return u()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,f);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Bo?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(xs),i=n.create(eo.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(Ga,null),a=s&&i.injector.get(Ka);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),uu(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),Xa()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;uu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Ea,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(_n(Fa),_n(Ta),_n(eo),_n(fr),_n(Go),_n(va))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function uu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class cu{}class lu{}const hu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let fu=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||hu}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>du(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>du(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(_n(Pa),_n(lu,8))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function du(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const pu=function(t){return null},gu=ru(null,"core",[{provide:Oa,useValue:"unknown"},{provide:ou,deps:[eo]},{provide:Ka,deps:[]},{provide:Ta,deps:[]}]),mu=[{provide:au,useClass:au,deps:[Fa,Ta,eo,fr,Go,va]},{provide:Vs,deps:[Fa],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:va,useClass:va,deps:[[new cn,ya]]},{provide:Pa,useClass:Pa,deps:[]},wa,{provide:fs,useFactory:function(){return _s},deps:[]},{provide:ds,useFactory:function(){return Ss},deps:[]},{provide:Ia,useFactory:function(t){return Ho(t=t||"undefined"!=typeof $localize&&$localize.locale||Vo),t},deps:[[new un(Ia),new cn,new hn]]},{provide:Ca,useValue:"USD"}];let yu=(()=>{class t{constructor(t){}}return t.\u0275mod=nt({type:t}),t.\u0275inj=S({factory:function(e){return new(e||t)(_n(au))},providers:mu}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return a}),n.d(e,"g",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),s=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return t=this.error,new s.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return S}),n.d(e,"c",function(){return _}),n.d(e,"d",function(){return w}),n.d(e,"e",function(){return A}),n.d(e,"f",function(){return T}),n.d(e,"g",function(){return u}),n.d(e,"h",function(){return I}),n.d(e,"i",function(){return o}),n.d(e,"j",function(){return s}),n.d(e,"k",function(){return j}),n.d(e,"l",function(){return c}),n.d(e,"m",function(){return f}),n.d(e,"n",function(){return d}),n.d(e,"o",function(){return g}),n.d(e,"p",function(){return m}),n.d(e,"q",function(){return v}),n.d(e,"r",function(){return l}),n.d(e,"s",function(){return h}),n.d(e,"t",function(){return p}),n.d(e,"u",function(){return y}),n.d(e,"v",function(){return b});var r=n("mrSG"),i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function o(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var a=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function u(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",o=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object(r.a)({iss:"https://securetoken.google.com/"+n,aud:n,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[i.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),i.encodeString(JSON.stringify(a),!1),""].join(".")}function c(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function l(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(c())}function h(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function f(){return"object"==typeof self&&self.self===self}function d(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function p(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function g(){return c().indexOf("Electron/")>=0}function m(){var t=c();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function y(){return c().indexOf("MSAppHost/")>=0}function v(){return"indexedDB"in self&&null!=indexedDB}function b(){return new Promise(function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}})}function w(){return!(!navigator||!navigator.cookieEnabled)}var _=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,S.prototype.create),o}return Object(r.c)(e,t),e}(Error),S=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?O(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new _(i,a,r);return u},t}();function O(t,e){return t.replace(E,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var E=/\{\$([^}]+)}/g;function T(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function I(t,e){var n=new C(t,e);return n.subscribe.bind(n)}var C=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=x),void 0===r.error&&(r.error=x),void 0===r.complete&&(r.complete=x);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function x(){}function A(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function j(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return C}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return v}),n.d(e,"d",function(){return w}),n.d(e,"e",function(){return d}),n.d(e,"f",function(){return y}),n.d(e,"g",function(){return T}),n.d(e,"h",function(){return S}),n.d(e,"i",function(){return p}),n.d(e,"j",function(){return m}),n.d(e,"k",function(){return O});var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.q("angularfire2.app.options"),b=new u.q("angularfire2.app.nameOrConfig");class w{}const _=new u.O("6.1.5");function S(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&E("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const O=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{Object(u.T)()&&"undefined"!=typeof console&&console[t](...e)};function T(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const I={provide:w,useFactory:S,deps:[v,u.z,[new u.A,b]]};let C=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",_.full,t.toString()),c.a.registerVersion("angular",u.N.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275mod=u.Cb({type:t}),t.\u0275inj=u.Bb({factory:function(e){return new(e||t)(u.Jb(u.B))},providers:[I]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,o=n("mrSG"),s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.i)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e=f),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.f)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.7.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(s.f)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&Object(s.j)(u,o.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.j)(e,t)},createSubscribe:s.h,ErrorFactory:s.b,deepExtend:s.j}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.m)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.s)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var w=m;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.28",void 0),t.registerVersion("fire-js","")}(w),e.a=w},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyCVi8-LwpjuHKTwNRavCt1c_pZI9dMT3LY",authDomain:"docosummaries.firebaseapp.com",projectId:"docosummaries",storageBucket:"docosummaries.appspot.com",messagingSenderId:"546020506684",appId:"1:546020506684:web:704a45b3b1a019e1ab5739",measurementId:"G-XF4Q53XSXG"};let o=null;function s(){return o}const a=new r.q("DocumentToken");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ab)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.Jb)(h)}const l=new r.q("Location Initialized");let h=(()=>{class t extends u{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(a))},t.\u0275prov=Object(r.Ab)({factory:d,token:t,providedIn:"platform"}),t})();function f(){return!!window.history.pushState}function d(){return new h(Object(r.Jb)(a))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ab)({factory:v,token:t,providedIn:"root"}),t})();function v(t){const e=Object(r.Jb)(a).location;return new w(Object(r.Jb)(u),e&&e.origin||"")}const b=new r.q("appBaseHref");let w=(()=>{class t extends y{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(u),r.Jb(b,8))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends y{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(u),r.Jb(b,8))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})(),S=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=g(E(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+m(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,E(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(y),r.Jb(u))},t.normalizeQueryParams=m,t.joinWithSlash=p,t.stripTrailingSlash=g,t.\u0275prov=Object(r.Ab)({factory:O,token:t,providedIn:"root"}),t})();function O(){return new S(Object(r.Jb)(y),Object(r.Jb)(u))}function E(t){return t.replace(/\/index.html$/,"")}var T=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const I=r.kb;class C{}let x=(()=>{class t extends C{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(I(e||this.locale)(t)){case T.Zero:return"zero";case T.One:return"one";case T.Two:return"two";case T.Few:return"few";case T.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.u))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})();class A{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let j=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new A(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new k(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new k(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Eb(r.P),r.Eb(r.K),r.Eb(r.s))},t.\u0275dir=r.zb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class k{constructor(t,e){this.record=t,this.view=e}}let N=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new D,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){R("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){R("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Eb(r.P),r.Eb(r.K))},t.\u0275dir=r.zb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class D{constructor(){this.$implicit=null,this.ngIf=null}}function R(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.sb)(e)}'.`)}function P(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.sb)(t)}'`)}class L{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class M{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const F=new M,U=new L;let V=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(r.pb)(e))return F;if(Object(r.ob)(e))return U;throw P(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.Lb())},t.\u0275pipe=r.Db({name:"async",type:t,pure:!1}),t})(),q=(()=>{class t{transform(e,n,r){if(null==e)return null;if(!this.supports(e))throw P(t,e);return e.slice(n,r)}supports(t){return"string"==typeof t||Array.isArray(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Db({name:"slice",type:t,pure:!1}),t})(),H=(()=>{class t{}return t.\u0275mod=r.Cb({type:t}),t.\u0275inj=r.Bb({factory:function(e){return new(e||t)},providers:[{provide:C,useClass:x}]}),t})();function B(t){return"browser"===t}function z(t){return"server"===t}let G=(()=>{class t{}return t.\u0275prov=Object(r.Ab)({token:t,providedIn:"root",factory:()=>new K(Object(r.Jb)(a),window)}),t})();class K{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=W(this.window.history)||W(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function W(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class $ extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new $,o||(o=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=J||(J=document.querySelector("base"),J)?J.getAttribute("href"):null;return null==e?null:(n=e,Q||(Q=document.createElement("a")),Q.setAttribute("href",n),"/"===Q.pathname.charAt(0)?Q.pathname:"/"+Q.pathname);var n}resetBaseElement(){J=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let Q,J=null;const Y=new r.q("TRANSITION_ID"),Z=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Y,a,r.r],multi:!0}];class X{static init(){Object(r.V)(new X)}addToWindow(t){r.mb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.mb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.mb.getAllAngularRootElements=()=>t.getAllRootElements(),r.mb.frameworkStabilizers||(r.mb.frameworkStabilizers=[]),r.mb.frameworkStabilizers.push(t=>{const e=r.mb.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const tt=new r.q("EventManagerPlugins");let et=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(tt),r.Jb(r.z))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})();class nt{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let rt=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})(),it=(()=>{class t extends rt{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(a))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})();const ot={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},st=/%COMP%/g;function at(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?at(t,i,n):(i=i.replace(st,t),n.push(i))}return n}function ut(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let ct=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new lt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.Q.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new ht(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.Q.ShadowDom:return new ft(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=at(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(et),r.Jb(it),r.Jb(r.c))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})();class lt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(ot[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=ot[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=ot[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.F.DashCase|r.F.Important)?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,ut(n)):this.eventManager.addEventListener(t,e,ut(n))}}class ht extends lt{constructor(t,e,n,r){super(t),this.component=n;const i=at(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(st,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(st,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class ft extends lt{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=at(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let dt=(()=>{class t extends nt{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(a))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})();const pt=["alt","control","meta","shift"],gt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},mt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},yt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let vt=(()=>{class t extends nt{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(pt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&mt.hasOwnProperty(e)&&(e=mt[e]))}return gt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),pt.forEach(r=>{r!=n&&(0,yt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(a))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})();const bt=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){$.makeCurrent(),X.init()},multi:!0},{provide:a,useFactory:function(){return Object(r.rb)(document),document},deps:[]}],wt=Object(r.R)(r.U,"browser",bt),_t=[[],{provide:r.X,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:tt,useClass:dt,multi:!0,deps:[a,r.z,r.B]},{provide:tt,useClass:vt,multi:!0,deps:[a]},[],{provide:ct,useClass:ct,deps:[et,it,r.c]},{provide:r.E,useExisting:ct},{provide:rt,useExisting:it},{provide:it,useClass:it,deps:[a]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:et,useClass:et,deps:[tt,r.z]},[]];let St=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:Y,useExisting:r.c},Z]}}}return t.\u0275mod=r.Cb({type:t}),t.\u0275inj=r.Bb({factory:function(e){return new(e||t)(r.Jb(t,12))},providers:_t,imports:[H,r.f]}),t})();function Ot(){return new Et(Object(r.Jb)(a))}let Et=(()=>{class t{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(a))},t.\u0275prov=Object(r.Ab)({factory:Ot,token:t,providedIn:"root"}),t})();"undefined"!=typeof window&&window;var Tt=n("Cfvw"),It=n("LRne"),Ct=n("XNiG"),xt=n("9ppp");class At extends Ct.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new xt.a;return this._value}next(t){super.next(this._value=t)}}var jt=n("z+Ro"),kt=n("DH7j"),Nt=n("7o/Q");class Dt extends Nt.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Rt extends Nt.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Pt=n("SeVD"),Lt=n("HDdC");function Mt(t,e,n,r,i=new Rt(t,n,r)){if(!i.closed)return e instanceof Lt.a?e.subscribe(i):Object(Pt.a)(e)(i)}var Ft=n("yCtX");const Ut={};class Vt{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new qt(t,this.resultSelector))}}class qt extends Dt{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Ut),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Mt(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Ut?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Ht=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Bt=n("bHdf");function zt(...t){return Object(Bt.a)(1)(Object(It.a)(...t))}var Gt=n("EY2u");function Kt(t){return new Lt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(Tt.a)(n):Object(Gt.b)()).subscribe(e)})}var Wt=n("lJxs"),$t=n("zx2A");function Qt(t,e){return"function"==typeof e?n=>n.pipe(Qt((n,r)=>Object(Tt.a)(t(n,r)).pipe(Object(Wt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Jt(t))}class Jt{constructor(t){this.project=t}call(t,e){return e.subscribe(new Yt(t,this.project))}}class Yt extends $t.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new $t.a(this),r=this.destination;r.add(n),this.innerSubscription=Object($t.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const Zt=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Xt(t){return e=>0===t?Object(Gt.b)():e.lift(new te(t))}class te{constructor(t){if(this.total=t,this.total<0)throw new Zt}call(t,e){return e.subscribe(new ee(t,this.total))}}class ee extends Nt.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function ne(...t){const e=t[t.length-1];return Object(jt.a)(e)?(t.pop(),n=>zt(t,n,e)):e=>zt(t,e)}function re(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new ie(t,e,n))}}class ie{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new oe(t,this.accumulator,this.seed,this.hasSeed))}}class oe extends Nt.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function se(t,e){return function(n){return n.lift(new ae(t,e))}}class ae{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new ue(t,this.predicate,this.thisArg))}}class ue extends Nt.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function ce(t){return function(e){const n=new le(t),r=e.lift(n);return n.caught=r}}class le{constructor(t){this.selector=t}call(t,e){return e.subscribe(new he(t,this.selector,this.caught))}}class he extends $t.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new $t.a(this);this.add(r);const i=Object($t.c)(n,r);i!==r&&this.add(i)}}}var fe=n("5+tZ");function de(t,e){return Object(fe.a)(t,e,1)}function pe(t){return function(e){return 0===t?Object(Gt.b)():e.lift(new ge(t))}}class ge{constructor(t){if(this.total=t,this.total<0)throw new Zt}call(t,e){return e.subscribe(new me(t,this.total))}}class me extends Nt.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function ye(t=we){return e=>e.lift(new ve(t))}class ve{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new be(t,this.errorFactory))}}class be extends Nt.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(eb){t=eb}this.destination.error(t)}}}function we(){return new Ht}function _e(t=null){return e=>e.lift(new Se(t))}class Se{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Oe(t,this.defaultValue))}}class Oe extends Nt.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Ee=n("SpAZ");function Te(t,e){const n=arguments.length>=2;return r=>r.pipe(t?se((e,n)=>t(e,n,r)):Ee.a,Xt(1),n?_e(e):ye(()=>new Ht))}var Ie=n("vkgz"),Ce=n("quSY");class xe{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Ae(t,this.callback))}}class Ae extends Nt.a{constructor(t,e){super(t),this.add(new Ce.a(e))}}class je{constructor(t,e){this.id=t,this.url=e}}class ke extends je{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ne extends je{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class De extends je{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Re extends je{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Pe extends je{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Le extends je{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Me extends je{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Fe extends je{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ue extends je{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ve{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class qe{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class He{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Be{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ze{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ge{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ke{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const We="primary";class $e{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Qe(t){return new $e(t)}function Je(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Ye(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Ze(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Xe(t[i],e[i]))return!1;return!0}function Xe(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function tn(t){return Array.prototype.concat.apply([],t)}function en(t){return t.length>0?t[t.length-1]:null}function nn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function rn(t){return Object(r.ob)(t)?t:Object(r.pb)(t)?Object(Tt.a)(Promise.resolve(t)):Object(It.a)(t)}function on(t,e,n){return n?function(t,e){return Ze(t,e)}(t.queryParams,e.queryParams)&&sn(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Xe(t[n],e[n]))}(t.queryParams,e.queryParams)&&an(t.root,e.root)}function sn(t,e){if(!fn(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!sn(t.children[n],e.children[n]))return!1}return!0}function an(t,e){return un(t,e,e.segments)}function un(t,e,n){if(t.segments.length>n.length)return!!fn(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!fn(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!an(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!fn(t.segments,r)&&!!t.children.primary&&un(t.children.primary,e,i)}}class cn{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qe(this.queryParams)),this._queryParamMap}toString(){return gn.serialize(this)}}class ln{constructor(t,e){this.segments=t,this.children=e,this.parent=null,nn(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return mn(this)}}class hn{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Qe(this.parameters)),this._parameterMap}toString(){return On(this)}}function fn(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class dn{}class pn{parse(t){const e=new xn(t);return new cn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+yn(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${bn(e)}=${bn(t)}`).join("&"):`${bn(e)}=${bn(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const gn=new pn;function mn(t){return t.segments.map(t=>On(t)).join("/")}function yn(t,e){if(!t.hasChildren())return mn(t);if(e){const e=t.children.primary?yn(t.children.primary,!1):"",n=[];return nn(t.children,(t,e)=>{e!==We&&n.push(`${e}:${yn(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return nn(t.children,(t,r)=>{r===We&&(n=n.concat(e(t,r)))}),nn(t.children,(t,r)=>{r!==We&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===We?[yn(t.children.primary,!1)]:[`${n}:${yn(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${mn(t)}/${e[0]}`:`${mn(t)}/(${e.join("//")})`}}function vn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bn(t){return vn(t).replace(/%3B/gi,";")}function wn(t){return vn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _n(t){return decodeURIComponent(t)}function Sn(t){return _n(t.replace(/\+/g,"%20"))}function On(t){return`${wn(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${wn(t)}=${wn(e[t])}`).join("")}`;var e}const En=/^[^\/()?;=#]+/;function Tn(t){const e=t.match(En);return e?e[0]:""}const In=/^[^=?&#]+/,Cn=/^[^?&#]+/;class xn{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ln([],{}):new ln([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new ln(t,e)),n}parseSegment(){const t=Tn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new hn(_n(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Tn(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Tn(this.remaining);t&&(n=t,this.capture(n))}t[_n(e)]=_n(n)}parseQueryParam(t){const e=function(t){const e=t.match(In);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Cn);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Sn(e),i=Sn(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Tn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=We);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new ln([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class An{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=jn(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=jn(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=kn(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return kn(t,this._root).map(t=>t.value)}}function jn(t,e){if(t===e.value)return e;for(const n of e.children){const e=jn(t,n);if(e)return e}return null}function kn(t,e){if(t===e.value)return[e];for(const n of e.children){const r=kn(t,n);if(r.length)return r.unshift(e),r}return[]}class Nn{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Dn(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Rn extends An{constructor(t,e){super(t),this.snapshot=e,Vn(this,t)}toString(){return this.snapshot.toString()}}function Pn(t,e){const n=function(t,e){const n=new Fn([],{},{},"",{},We,e,null,t.root,-1,{});return new Un("",new Nn(n,[]))}(t,e),r=new At([new hn("",{})]),i=new At({}),o=new At({}),s=new At({}),a=new At(""),u=new Ln(r,i,s,a,o,We,e,n.root);return u.snapshot=n.root,new Rn(new Nn(u,[]),n)}class Ln{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Wt.a)(t=>Qe(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Wt.a)(t=>Qe(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Mn(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Fn{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Qe(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qe(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Un extends An{constructor(t,e){super(e),this.url=t,Vn(this,e)}toString(){return qn(this._root)}}function Vn(t,e){e.value._routerState=t,e.children.forEach(e=>Vn(t,e))}function qn(t){const e=t.children.length>0?` { ${t.children.map(qn).join(", ")} } `:"";return`${t.value}${e}`}function Hn(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ze(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Ze(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ze(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Ze(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Bn(t,e){return Ze(t.params,e.params)&&function(t,e){return fn(t,e)&&t.every((t,n)=>Ze(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Bn(t.parent,e.parent))}function zn(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return zn(t,e,r);return zn(t,e)})}(t,e,n);return new Nn(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return Gn(e,t),t}{const n=new Ln(new At((r=e.value).url),new At(r.params),new At(r.queryParams),new At(r.fragment),new At(r.data),r.outlet,r.component,r),i=e.children.map(e=>zn(t,e));return new Nn(n,i)}}var r}function Gn(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Gn(t.children[n],e.children[n])}function Kn(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Wn(t){return"object"==typeof t&&null!=t&&t.outlets}function $n(t,e,n,r,i){let o={};return r&&nn(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new cn(n.root===t?e:Qn(n.root,t,e),o,i)}function Qn(t,e,n){const r={};return nn(t.children,(t,i)=>{r[i]=t===e?n:Qn(t,e,n)}),new ln(t.segments,r)}class Jn{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Kn(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Wn);if(r&&r!==en(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Yn{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Zn(t,e,n){if(t||(t=new ln([],{})),0===t.segments.length&&t.hasChildren())return Xn(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(Wn(s))break;const a=""+s,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!rr(a,u,e))return o;r+=2}else{if(!rr(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new ln(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new ln(t.segments.slice(r.pathIndex),t.children),Xn(e,0,i)}return r.match&&0===i.length?new ln(t.segments,{}):r.match&&!t.hasChildren()?tr(t,e,n):r.match?Xn(t,0,i):tr(t,e,n)}function Xn(t,e,n){if(0===n.length)return new ln(t.segments,{});{const r=function(t){return Wn(t[0])?t[0].outlets:{[We]:t}}(n),i={};return nn(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Zn(t.children[r],e,n))}),nn(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new ln(t.segments,i)}}function tr(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Wn(o)){const t=er(o.outlets);return new ln(r,t)}if(0===i&&Kn(n[0])){r.push(new hn(t.segments[e].path,n[0])),i++;continue}const s=Wn(o)?o.outlets.primary:""+o,a=i<n.length-1?n[i+1]:null;s&&a&&Kn(a)?(r.push(new hn(s,nr(a))),i+=2):(r.push(new hn(s,{})),i++)}return new ln(r,{})}function er(t){const e={};return nn(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=tr(new ln([],{}),0,t))}),e}function nr(t){const e={};return nn(t,(t,n)=>e[n]=""+t),e}function rr(t,e,n){return t==n.path&&Ze(e,n.parameters)}class ir{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Hn(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Dn(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),nn(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Dn(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}activateChildRoutes(t,e,n){const r=Dn(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Ge(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Be(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Hn(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),or(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function or(t){Hn(t.value),t.children.forEach(or)}class sr{constructor(t,e){this.routes=t,this.module=e}}function ar(t){return"function"==typeof t}function ur(t){return t instanceof cn}const cr=Symbol("INITIAL_VALUE");function lr(){return Qt(t=>function(...t){let e=void 0,n=void 0;return Object(jt.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(kt.a)(t[0])&&(t=t[0]),Object(Ft.a)(t,n).lift(new Vt(e))}(t.map(t=>t.pipe(Xt(1),ne(cr)))).pipe(re((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==cr)return t;if(r===cr&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||ur(r))return r}return t},t)},cr),se(t=>t!==cr),Object(Wt.a)(t=>ur(t)?t:!0===t),Xt(1)))}let hr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.yb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Fb(0,"router-outlet")},directives:function(){return[oi]},encapsulation:2}),t})();function fr(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];dr(r,pr(e,r))}}function dr(t,e){t.children&&fr(t.children,e)}function pr(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function gr(t){const e=t.children&&t.children.map(gr),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==We&&(n.component=hr),n}function mr(t){return t.outlet||We}function yr(t,e){const n=t.filter(t=>mr(t)===e);return n.push(...t.filter(t=>mr(t)!==e)),n}const vr={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function br(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},vr):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Ye)(n,t,e);if(!i)return Object.assign({},vr);const o={};nn(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function wr(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>_r(t,e,n)&&mr(n)!==We)}(t,n,r)){const i=new ln(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&mr(o)!==We){const n=new ln([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[mr(o)]=n}return i}(t,e,r,new ln(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>_r(t,e,n))}(t,n,r)){const o=new ln(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(_r(t,n,a)&&!i[mr(a)]){const n=new ln([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[mr(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new ln(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function _r(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Sr(t,e,n,r){return!!(mr(t)===r||r!==We&&_r(e,n,t))&&("**"===t.path||br(e,t,n).matched)}function Or(t,e,n){return 0===e.length&&!t.children[n]}class Er{constructor(t){this.segmentGroup=t||null}}class Tr{constructor(t){this.urlTree=t}}function Ir(t){return new Lt.a(e=>e.error(new Er(t)))}function Cr(t){return new Lt.a(e=>e.error(new Tr(t)))}function xr(t){return new Lt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Ar{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){const t=wr(this.urlTree.root,[],[],this.config).segmentGroup,e=new ln(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,We).pipe(Object(Wt.a)(t=>this.createUrlTree(jr(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ce(t=>{if(t instanceof Tr)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Er)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,We).pipe(Object(Wt.a)(e=>this.createUrlTree(jr(e),t.queryParams,t.fragment))).pipe(ce(t=>{if(t instanceof Er)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new ln([],{[We]:t}):t;return new cn(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Wt.a)(t=>new ln([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(Tt.a)(r).pipe(de(r=>{const i=n.children[r],o=yr(e,r);return this.expandSegmentGroup(t,o,i,r).pipe(Object(Wt.a)(t=>({segment:t,outlet:r})))}),re((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?se((e,n)=>t(e,n,r)):Ee.a,pe(1),n?_e(e):ye(()=>new Ht))}())}expandSegment(t,e,n,r,i,o){return Object(Tt.a)(n).pipe(de(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(ce(t=>{if(t instanceof Er)return Object(It.a)(null);throw t}))),Te(t=>!!t),ce((t,n)=>{if(t instanceof Ht||"EmptyError"===t.name){if(Or(e,r,i))return Object(It.a)(new ln([],{}));throw new Er(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return Sr(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Ir(e):Ir(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Cr(i):this.lineralizeSegments(n,i).pipe(Object(fe.a)(n=>{const i=new ln(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=br(e,r,i);if(!s)return Ir(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Cr(l):this.lineralizeSegments(r,l).pipe(Object(fe.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(Wt.a)(t=>(n._loadedConfig=t,new ln(r,{})))):Object(It.a)(new ln(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=br(e,n,r);if(!o)return Ir(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(fe.a)(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:c}=wr(e,s,u,o),l=new ln(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe(Object(Wt.a)(t=>new ln(s,t)));if(0===o.length&&0===c.length)return Object(It.a)(new ln(s,{}));const h=mr(n)===i;return this.expandSegment(r,l,o,c,h?We:i,!0).pipe(Object(Wt.a)(t=>new ln(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(It.a)(new sr(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(It.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(fe.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Wt.a)(t=>(e._loadedConfig=t,t))):function(t){return new Lt.a(e=>e.error(Je(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(It.a)(new sr([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(It.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&ar(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!ar(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return rn(o)});return Object(It.a)(i).pipe(lr(),Object(Ie.a)(t=>{if(!ur(t))return;const e=Je(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(Wt.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(It.a)(n);if(r.numberOfChildren>1||!r.children.primary)return xr(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new cn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return nn(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return nn(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new ln(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function jr(t){const e={};for(const n of Object.keys(t.children)){const r=jr(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new ln(t.segments.concat(e.segments),e.children)}return t}(new ln(t.segments,e))}class kr{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Nr{constructor(t,e){this.component=t,this.route=e}}function Dr(t,e,n){const r=t._root;return Pr(r,e?e._root:null,n,[r.value])}function Rr(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Pr(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Dn(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!fn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!fn(t.url,e.url)||!Ze(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Bn(t,e)||!Ze(t.queryParams,e.queryParams);case"paramsChange":default:return!Bn(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new kr(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Pr(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Nr(a.outlet.component,s))}else s&&Lr(e,a,i),i.canActivateChecks.push(new kr(r)),Pr(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),nn(o,(t,e)=>Lr(t,n.getContext(e),i)),i}function Lr(t,e,n){const r=Dn(t),i=t.value;nn(r,(t,r)=>{Lr(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Nr(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Mr{}function Fr(t){return new Lt.a(e=>e.error(t))}class Ur{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=wr(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,We);if(null===e)return null;const n=new Fn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},We,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Nn(n,e),i=new Un(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=Mn(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=yr(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=function(t){const e=[];for(const n of t){if(!Vr(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return r.sort((t,e)=>t.value.outlet===We?-1:e.value.outlet===We?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return Or(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!Sr(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?en(n).parameters:{};i=new Fn(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Br(t),mr(t),t.component,t,qr(e),Hr(e)+n.length,zr(t))}else{const r=br(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new Fn(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Br(t),mr(t),t.component,t,qr(e),Hr(e)+o.length,zr(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=wr(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new Nn(i,t)]}if(0===a.length&&0===c.length)return[new Nn(i,[])];const l=mr(t)===r,h=this.processSegment(a,u,c,l?We:r);return null===h?null:[new Nn(i,h)]}}function Vr(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function qr(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Hr(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Br(t){return t.data||{}}function zr(t){return t.resolve||{}}function Gr(t){return Qt(e=>{const n=t(e);return n?Object(Tt.a)(n).pipe(Object(Wt.a)(()=>e)):Object(It.a)(e)})}class Kr extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Wr=new r.q("ROUTES");class $r{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(Wt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new sr(tn(r.injector.get(Wr)).map(gr),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(Tt.a)(this.loader.load(t)):rn(t()).pipe(Object(fe.a)(t=>t instanceof r.v?Object(It.a)(t):Object(Tt.a)(this.compiler.compileModuleAsync(t))))}}class Qr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Jr,this.attachRef=null}}class Jr{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Qr,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Yr{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Zr(t){throw t}function Xr(t,e,n){return e.parse("/")}function ti(t,e){return Object(It.a)(null)}let ei=(()=>{class t{constructor(t,e,n,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Ct.a,this.errorHandler=Zr,this.malformedUriErrorHandler=Xr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ti,afterPreactivation:ti},this.urlHandlingStrategy=new Yr,this.routeReuseStrategy=new Kr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(r.x),this.console=o.get(r.W);const c=o.get(r.z);this.isNgZoneEnabled=c instanceof r.z&&r.z.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new cn(new ln([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new $r(s,a,t=>this.triggerEvent(new Ve(t)),t=>this.triggerEvent(new qe(t))),this.routerState=Pn(this.currentUrlTree,this.rootComponentType),this.transitions=new At({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(se(t=>0!==t.id),Object(Wt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Qt(t=>{let n=!1,r=!1;return Object(It.a)(t).pipe(Object(Ie.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Qt(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(It.a)(t).pipe(Qt(t=>{const n=this.transitions.getValue();return e.next(new ke(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Gt.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,Qt(t=>function(t,e,n,r,i){return new Ar(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(Wt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(Ie.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(fe.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new Ur(t,e,n,r,i,o).recognize();return null===s?Fr(new Mr):Object(It.a)(s)}catch(eb){return Fr(eb)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(Wt.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(Ie.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new Pe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new ke(n,this.serializeUrl(r),i,o);e.next(a);const u=Pn(r,this.rootComponentType).snapshot;return Object(It.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Gt.a}),Gr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Ie.a)(t=>{const e=new Le(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Wt.a)(t=>Object.assign(Object.assign({},t),{guards:Dr(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(fe.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(It.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(Tt.a)(t).pipe(Object(fe.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(It.a)(!0);const s=o.map(o=>{const s=Rr(o,e,i);let a;if(function(t){return t&&ar(t.canDeactivate)}(s))a=rn(s.canDeactivate(t,e,n,r));else{if(!ar(s))throw new Error("Invalid CanDeactivate guard");a=rn(s(t,e,n,r))}return a.pipe(Te())});return Object(It.a)(s).pipe(lr())}(t.component,t.route,n,e,r)),Te(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(fe.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(Tt.a)(e).pipe(de(e=>zt(function(t,e){return null!==t&&e&&e(new He(t)),Object(It.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new ze(t)),Object(It.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Kt(()=>{const i=e.guards.map(i=>{const o=Rr(i,e.node,n);let s;if(function(t){return t&&ar(t.canActivateChild)}(o))s=rn(o.canActivateChild(r,t));else{if(!ar(o))throw new Error("Invalid CanActivateChild guard");s=rn(o(r,t))}return s.pipe(Te())});return Object(It.a)(i).pipe(lr())}));return Object(It.a)(i).pipe(lr())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(It.a)(!0);const i=r.map(r=>Kt(()=>{const i=Rr(r,e,n);let o;if(function(t){return t&&ar(t.canActivate)}(i))o=rn(i.canActivate(e,t));else{if(!ar(i))throw new Error("Invalid CanActivate guard");o=rn(i(e,t))}return o.pipe(Te())}));return Object(It.a)(i).pipe(lr())}(t,e.route,n))),Te(t=>!0!==t,!0))}(r,o,t,e):Object(It.a)(n)),Object(Wt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(Ie.a)(t=>{if(ur(t.guardsResult)){const e=Je(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new Me(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),se(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new De(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Gr(t=>{if(t.guards.canActivateChecks.length)return Object(It.a)(t).pipe(Object(Ie.a)(t=>{const e=new Fe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Qt(t=>{let n=!1;return Object(It.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(fe.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(It.a)(t);let o=0;return Object(Tt.a)(n).pipe(de(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(It.a)({});const o={};return Object(Tt.a)(i).pipe(Object(fe.a)(i=>function(t,e,n,r){const i=Rr(t,e,r);return rn(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Ie.a)(t=>{o[i]=t}))),pe(1),Object(fe.a)(()=>Object.keys(o).length===i.length?Object(It.a)(o):Gt.a))}(t._resolve,t,e,r).pipe(Object(Wt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Mn(t,n).resolve),null)))}(t.route,e,r,i)),Object(Ie.a)(()=>o++),pe(1),Object(fe.a)(e=>o===n.length?Object(It.a)(t):Gt.a))})),Object(Ie.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new De(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(Ie.a)(t=>{const e=new Ue(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Gr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Wt.a)(t=>{const e=function(t,e,n){const r=zn(t,e._root,n?n._root:void 0);return new Rn(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(Ie.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(Wt.a)(t=>(new ir(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),Object(Ie.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new De(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new xe(i))),ce(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=ur(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new De(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Re(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(Tl){t.reject(Tl)}}var i;return Gt.a}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){fr(t),this.config=t.map(gr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return $n(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Jn(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return nn(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Jn(n,e,r)}(n);if(o.toRoot())return $n(e.root,new ln([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new Yn(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Yn(t,t===e.root,0)}const r=Kn(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Yn(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?Xn(s.segmentGroup,s.index,o.commands):Zn(s.segmentGroup,s.index,o.commands);return $n(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=ur(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(eb){e=this.malformedUriErrorHandler(eb,this.urlSerializer,t)}return e}isActive(t,e){if(ur(t))return on(this.currentUrlTree,t,e);const n=this.parseUrl(t);return on(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Ne(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.M),r.Jb(dn),r.Jb(Jr),r.Jb(S),r.Jb(r.r),r.Jb(r.w),r.Jb(r.i),r.Jb(void 0))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})(),ni=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new Ct.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:ii(this.skipLocationChange),replaceUrl:ii(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ii(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Eb(ei),r.Eb(Ln),r.Kb("tabindex"),r.Eb(r.D),r.Eb(r.l))},t.\u0275dir=r.zb({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.Mb("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.ub]}),t})(),ri=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new Ct.a,this.subscription=t.events.subscribe(t=>{t instanceof Ne&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:ii(this.skipLocationChange),replaceUrl:ii(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ii(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Eb(ei),r.Eb(Ln),r.Eb(y))},t.\u0275dir=r.zb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Mb("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Ib("href",e.href,r.Wb),r.wb("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.ub]}),t})();function ii(t){return""===t||!!t}let oi=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||We,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new si(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Eb(Jr),r.Eb(r.P),r.Eb(r.j),r.Kb("name"),r.Eb(r.h))},t.\u0275dir=r.zb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class si{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Ln?this.route:t===Jr?this.childContexts:this.parent.get(t,e)}}class ai{}class ui{preload(t,e){return Object(It.a)(null)}}let ci=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new $r(e,n,e=>t.triggerEvent(new Ve(e)),e=>t.triggerEvent(new qe(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(se(t=>t instanceof Ne),de(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(Tt.a)(n).pipe(Object(Bt.a)(),Object(Wt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(fe.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(ei),r.Jb(r.w),r.Jb(r.i),r.Jb(r.r),r.Jb(ai))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})(),li=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ke?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ne&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ke&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Ke(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(ei),r.Jb(G),r.Jb(void 0))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})();const hi=new r.q("ROUTER_CONFIGURATION"),fi=new r.q("ROUTER_FORROOT_GUARD"),di=[S,{provide:dn,useClass:pn},{provide:ei,useFactory:function(t,e,n,r,i,o,a,u={},c,l){const h=new ei(null,t,e,n,r,i,o,tn(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[dn,Jr,S,r.r,r.w,r.i,Wr,hi,[class{},new r.A],[class{},new r.A]]},Jr,{provide:Ln,useFactory:function(t){return t.routerState.root},deps:[ei]},{provide:r.w,useClass:r.J},ci,ui,class{preload(t,e){return e().pipe(ce(()=>Object(It.a)(null)))}},{provide:hi,useValue:{enableTracing:!1}}];function pi(){return new r.y("Router",ei)}let gi=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[di,bi(e),{provide:fi,useFactory:vi,deps:[[ei,new r.A,new r.I]]},{provide:hi,useValue:n||{}},{provide:y,useFactory:yi,deps:[u,[new r.p(b),new r.A],hi]},{provide:li,useFactory:mi,deps:[ei,G,hi]},{provide:ai,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:ui},{provide:r.y,multi:!0,useFactory:pi},[wi,{provide:r.d,multi:!0,useFactory:_i,deps:[wi]},{provide:Oi,useFactory:Si,deps:[wi]},{provide:r.b,multi:!0,useExisting:Oi}]]}}static forChild(e){return{ngModule:t,providers:[bi(e)]}}}return t.\u0275mod=r.Cb({type:t}),t.\u0275inj=r.Bb({factory:function(e){return new(e||t)(r.Jb(fi,8),r.Jb(ei,8))}}),t})();function mi(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new li(t,e,n)}function yi(t,e,n={}){return n.useHash?new _(t,e):new w(t,e)}function vi(t){return"guarded"}function bi(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Wr,multi:!0,useValue:t}]}let wi=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Ct.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(ei),r=this.injector.get(hi);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(It.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(hi),n=this.injector.get(ci),i=this.injector.get(li),o=this.injector.get(ei),s=this.injector.get(r.g);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.r))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})();function _i(t){return t.appInitializer.bind(t)}function Si(t){return t.bootstrapListener.bind(t)}const Oi=new r.q("Router Initializer");let Ei=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.yb({type:t,selectors:[["ng-component"]],decls:6,vars:0,template:function(t,e){1&t&&(r.Hb(0,"p"),r.Zb(1,"About works"),r.Gb(),r.Hb(2,"p"),r.Zb(3,"Add Description"),r.Gb(),r.Hb(4,"p"),r.Zb(5,"Add Contributers"),r.Gb())},styles:[""]}),t})(),Ti=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.yb({type:t,selectors:[["ng-component"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Hb(0,"p"),r.Zb(1,"contact form works!"),r.Gb())},styles:[""]}),t})();var Ii=n("mrSG"),Ci=n("D0XW");function xi(){return t=>t.lift(new Ai)}class Ai{call(t,e){return e.subscribe(new ji(t))}}class ji extends Nt.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}function ki(t,e){return n=>n.lift(new Ni(t,e))}class Ni{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Di(t,this.compare,this.keySelector))}}class Di extends Nt.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var Ri=n("pxpQ"),Pi=n("spgP"),Li=n("Jgta"),Mi=n("zIRd"),Fi=n("qOnz"),Ui=n("q/0M"),Vi=function(t,e){return(Vi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function qi(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Hi,Bi="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},zi=zi||{},Gi=Bi||self;function Ki(){}function Wi(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function $i(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Qi="closure_uid_"+(1e9*Math.random()>>>0),Ji=0;function Yi(t,e,n){return t.call.apply(t.bind,arguments)}function Zi(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Xi(t,e,n){return(Xi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Yi:Zi).apply(null,arguments)}function to(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function eo(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function no(){this.s=this.s,this.o=this.o}var ro={};no.prototype.s=!1,no.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,Qi)&&t[Qi]||(t[Qi]=++Ji)}(this);delete ro[t]}},no.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var io=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},oo=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function so(t){return Array.prototype.concat.apply([],arguments)}function ao(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function uo(t){return/^[\s\xa0]*$/.test(t)}var co,lo=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function ho(t,e){return-1!=t.indexOf(e)}function fo(t,e){return t<e?-1:t>e?1:0}t:{var po=Gi.navigator;if(po){var go=po.userAgent;if(go){co=go;break t}}co=""}function mo(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function yo(t){var e={};for(var n in t)e[n]=t[n];return e}var vo="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bo(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<vo.length;o++)n=vo[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function wo(t){return wo[" "](t),t}wo[" "]=Ki;var _o,So,Oo=ho(co,"Opera"),Eo=ho(co,"Trident")||ho(co,"MSIE"),To=ho(co,"Edge"),Io=To||Eo,Co=ho(co,"Gecko")&&!(ho(co.toLowerCase(),"webkit")&&!ho(co,"Edge"))&&!(ho(co,"Trident")||ho(co,"MSIE"))&&!ho(co,"Edge"),xo=ho(co.toLowerCase(),"webkit")&&!ho(co,"Edge");function Ao(){var t=Gi.document;return t?t.documentMode:void 0}t:{var jo="",ko=(So=co,Co?/rv:([^\);]+)(\)|;)/.exec(So):To?/Edge\/([\d\.]+)/.exec(So):Eo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(So):xo?/WebKit\/(\S+)/.exec(So):Oo?/(?:Version)[ \/]?(\S+)/.exec(So):void 0);if(ko&&(jo=ko?ko[1]:""),Eo){var No=Ao();if(null!=No&&No>parseFloat(jo)){_o=String(No);break t}}_o=jo}var Do={};var Ro=Gi.document&&Eo&&(Ao()||parseInt(_o,10))||void 0,Po=function(){if(!Gi.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Gi.addEventListener("test",Ki,e),Gi.removeEventListener("test",Ki,e)}catch(n){}return t}();function Lo(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function Mo(t,e){if(Lo.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Co){t:{try{wo(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Fo[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Mo.Z.h.call(this)}}Lo.prototype.h=function(){this.defaultPrevented=!0},eo(Mo,Lo);var Fo={2:"touch",3:"pen",4:"mouse"};Mo.prototype.h=function(){Mo.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Uo="closure_listenable_"+(1e6*Math.random()|0),Vo=0;function qo(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++Vo,this.ca=this.fa=!1}function Ho(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Bo(t){this.src=t,this.g={},this.h=0}function zo(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],o=io(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Ho(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Go(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}Bo.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=Go(t,e,r,i);return-1<s?(e=t[s],n||(e.fa=!1)):((e=new qo(e,this.src,o,!!r,i)).fa=n,t.push(e)),e};var Ko="closure_lm_"+(1e6*Math.random()|0),Wo={};function $o(t,e,n,r,i){if(r&&r.once)return Jo(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)$o(t,e[o],n,r,i);return null}return n=rs(n),t&&t[Uo]?t.N(e,n,$i(r)?!!r.capture:!!r,i):Qo(t,e,n,!1,r,i)}function Qo(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=$i(i)?!!i.capture:!!i,a=es(t);if(a||(t[Ko]=a=new Bo(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=ts;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Po||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Xo(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Jo(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Jo(t,e[o],n,r,i);return null}return n=rs(n),t&&t[Uo]?t.O(e,n,$i(r)?!!r.capture:!!r,i):Qo(t,e,n,!0,r,i)}function Yo(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Yo(t,e[o],n,r,i);else r=$i(r)?!!r.capture:!!r,n=rs(n),t&&t[Uo]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=Go(o=t.g[e],n,r,i))&&(Ho(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=es(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Go(e,n,r,i)),(n=-1<t?e[t]:null)&&Zo(n))}function Zo(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[Uo])zo(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Xo(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=es(e))?(zo(n,t),0==n.h&&(n.src=null,e[Ko]=null)):Ho(t)}}}function Xo(t){return t in Wo?Wo[t]:Wo[t]="on"+t}function ts(t,e){if(t.ca)t=!0;else{e=new Mo(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&Zo(t),t=n.call(r,e)}return t}function es(t){return(t=t[Ko])instanceof Bo?t:null}var ns="__closure_events_fn_"+(1e9*Math.random()>>>0);function rs(t){return"function"==typeof t?t:(t[ns]||(t[ns]=function(e){return t.handleEvent(e)}),t[ns])}function is(){no.call(this),this.i=new Bo(this),this.P=this,this.I=null}function os(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new Lo(e,t);else if(e instanceof Lo)e.target=e.target||t;else{var i=e;bo(e=new Lo(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=ss(s,r,!0,e)&&i}if(i=ss(s=e.g=t,r,!0,e)&&i,i=ss(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=ss(s=e.g=n[o],r,!1,e)&&i}function ss(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ca&&s.capture==n){var a=s.listener,u=s.ia||s.src;s.fa&&zo(t.i,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}eo(is,no),is.prototype[Uo]=!0,is.prototype.removeEventListener=function(t,e,n,r){Yo(this,t,e,n,r)},is.prototype.M=function(){if(is.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Ho(n[r]);delete e.g[t],e.h--}}this.I=null},is.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},is.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var as=Gi.JSON.stringify;function us(){var t=ms,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var cs,ls=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=hs.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),hs=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,this.g=(t=this.g).next,t.next=null):t=this.i(),t},t}())(function(){return new fs},function(t){return t.reset()}),fs=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function ds(t){Gi.setTimeout(function(){throw t},0)}function ps(t,e){cs||function(){var t=Gi.Promise.resolve(void 0);cs=function(){t.then(ys)}}(),gs||(cs(),gs=!0),ms.add(t,e)}var gs=!1,ms=new ls;function ys(){for(var t;t=us();){try{t.h.call(t.g)}catch(n){ds(n)}var e=hs;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}gs=!1}function vs(t,e){is.call(this),this.h=t||1,this.g=e||Gi,this.j=Xi(this.kb,this),this.l=Date.now()}function bs(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function ws(t,e,n){if("function"==typeof t)n&&(t=Xi(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Xi(t.handleEvent,t)}return 2147483647<Number(e)?-1:Gi.setTimeout(t,e||0)}function _s(t){t.g=ws(function(){t.g=null,t.i&&(t.i=!1,_s(t))},t.j);var e=t.h;t.h=null,t.m.apply(null,e)}eo(vs,is),(Hi=vs.prototype).da=!1,Hi.S=null,Hi.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),os(this,"tick"),this.da&&(bs(this),this.start()))}},Hi.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Hi.M=function(){vs.Z.M.call(this),bs(this),delete this.g};var Ss=function(t){function e(e,n){var r=t.call(this)||this;return r.m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Vi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:_s(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(Gi.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(no);function Os(t){no.call(this),this.h=t,this.g={}}eo(Os,no);var Es=[];function Ts(t,e,n,r){Array.isArray(n)||(n&&(Es[0]=n.toString()),n=Es);for(var i=0;i<n.length;i++){var o=$o(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function Is(t){mo(t.g,function(t,e){this.g.hasOwnProperty(e)&&Zo(t)},t),t.g={}}function Cs(){this.g=!0}function xs(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return as(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}Os.prototype.M=function(){Os.Z.M.call(this),Is(this)},Os.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Cs.prototype.Aa=function(){this.g=!1},Cs.prototype.info=function(){};var As={},js=null;function ks(){return js=js||new is}function Ns(t){Lo.call(this,As.Ma,t)}function Ds(t){var e=ks();os(e,new Ns(e,t))}function Rs(t,e){Lo.call(this,As.STAT_EVENT,t),this.stat=e}function Ps(t){var e=ks();os(e,new Rs(e,t))}function Ls(t,e){Lo.call(this,As.Na,t),this.size=e}function Ms(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Gi.setTimeout(function(){t()},e)}As.Ma="serverreachability",eo(Ns,Lo),As.STAT_EVENT="statevent",eo(Rs,Lo),As.Na="timingevent",eo(Ls,Lo);var Fs={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Us={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Vs(){}function qs(){}Vs.prototype.h=null;var Hs,Bs={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function zs(){Lo.call(this,"d")}function Gs(){Lo.call(this,"c")}function Ks(){}function Ws(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new Os(this),this.P=Qs,this.W=new vs(t=Io?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new $s}function $s(){this.i=null,this.g="",this.h=!1}eo(zs,Lo),eo(Gs,Lo),eo(Ks,Vs),Ks.prototype.g=function(){return new XMLHttpRequest},Ks.prototype.i=function(){return{}},Hs=new Ks;var Qs=45e3,Js={},Ys={};function Zs(t,e,n){t.K=1,t.v=_a(ga(e)),t.s=n,t.U=!0,Xs(t,null)}function Xs(t,e){t.F=Date.now(),ra(t),t.A=ga(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),Ra(n.h,"t",r),t.C=0,n=t.l.H,t.h=new $s,t.g=Pu(t.l,n?e:null,!t.s),0<t.O&&(t.L=new Ss(Xi(t.Ia,t,t.g),t.O)),Ts(t.V,t.g,"readystatechange",t.gb),e=t.H?yo(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Ds(1),function(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.u,t.A,t.m,t.X,t.s)}function ta(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function ea(t,e,n){for(var r,i=!0;!t.I&&t.C<n.length;){if((r=na(t,n))==Ys){4==e&&(t.o=4,Ps(14),i=!1),xs(t.j,t.m,null,"[Incomplete Response]");break}if(r==Js){t.o=4,Ps(15),xs(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}xs(t.j,t.m,r,null),ua(t,r)}ta(t)&&r!=Ys&&r!=Js&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Ps(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Cu(e),e.L=!0,Ps(11))):(xs(t.j,t.m,n,"[Invalid Chunked Response]"),aa(t),sa(t))}function na(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Ys:(n=Number(e.substring(n,r)),isNaN(n)?Js:(r+=1)+n>e.length?Ys:(e=e.substr(r,n),t.C=r+n,e))}function ra(t){t.Y=Date.now()+t.P,ia(t,t.P)}function ia(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Ms(Xi(t.eb,t),e)}function oa(t){t.B&&(Gi.clearTimeout(t.B),t.B=null)}function sa(t){0==t.l.G||t.I||ju(t.l,t)}function aa(t){oa(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,bs(t.W),Is(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function ua(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||qa(n.i,t)))if(n.I=t.N,!t.J&&qa(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;Au(n),vu(n)}Iu(n),Ps(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Ms(Xi(n.ab,n),6e3));if(1>=Va(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else Nu(n,11)}else if((t.J||n.g==t)&&Au(n),!uo(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var o=i[e];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var s=o[3];null!=s&&(n.ma=s,n.h.info("VER="+n.ma));var a=o[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"==typeof u&&0<u&&(n.K=r=1.5*u,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=t.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(ho(l,"spdy")||ho(l,"quic")||ho(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(Ha(h,h.h),h.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,wa(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=t;if((r=n).oa=Ru(r,r.H?r.la:null,r.W),d.J){Ba(r.i,d);var p=d,g=r.K;g&&p.setTimeout(g),p.B&&(oa(p),ra(p)),r.g=d}else Tu(r);0<n.l.length&&_u(n)}else"stop"!=o[0]&&"close"!=o[0]||Nu(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?Nu(n,7):yu(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}Ds(4)}catch(o){}}function ca(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Wi(t)||"string"==typeof t)oo(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(Wi(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(Wi(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function la(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof la)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function ha(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];fa(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)fa(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function fa(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Hi=Ws.prototype).setTimeout=function(t){this.P=t},Hi.gb=function(t){t=t.target;var e=this.L;e&&3==fu(t)?e.l():this.Ia(t)},Hi.Ia=function(t){try{if(t==this.g)t:{var e=fu(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||Io||this.g&&(this.h.h||this.g.ga()||du(this.g)))){this.I||4!=e||7==n||Ds(8==n||0>=r?3:2),oa(this);var i=this.g.ba();this.N=i;e:if(ta(this)){var o=du(this.g);t="";var s=o.length,a=4==fu(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){aa(this),sa(this);var u="";break e}this.h.i=new Gi.TextDecoder}for(n=0;n<s;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:a&&n==s-1});o.splice(0,s),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){e:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!uo(c)){var h=c;break e}}h=null}if(!(i=h)){this.i=!1,this.o=3,Ps(12),aa(this),sa(this);break t}xs(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ua(this,i)}this.U?(ea(this,e,u),Io&&this.i&&3==e&&(Ts(this.V,this.W,"tick",this.fb),this.W.start())):(xs(this.j,this.m,u,null),ua(this,u)),4==e&&aa(this),this.i&&!this.I&&(4==e?ju(this.l,this):(this.i=!1,ra(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Ps(12)):(this.o=0,Ps(13)),aa(this),sa(this)}}}catch(e){}},Hi.fb=function(){if(this.g){var t=fu(this.g),e=this.g.ga();this.C<e.length&&(oa(this),ea(this,t,e),this.i&&4!=t&&ra(this))}},Hi.cancel=function(){this.I=!0,aa(this)},Hi.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ds(3),Ps(17)),aa(this),this.o=2,sa(this)):ia(this,this.Y-t)},(Hi=la.prototype).R=function(){ha(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},Hi.T=function(){return ha(this),this.g.concat()},Hi.get=function(t,e){return fa(this.h,t)?this.h[t]:e},Hi.set=function(t,e){fa(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},Hi.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var da=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function pa(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof pa){this.g=void 0!==e?e:t.g,ma(this,t.j),this.s=t.s,ya(this,t.i),va(this,t.m),this.l=t.l,e=t.h;var n=new ja;n.i=e.i,e.g&&(n.g=new la(e.g),n.h=e.h),ba(this,n),this.o=t.o}else t&&(n=String(t).match(da))?(this.g=!!e,ma(this,n[1]||"",!0),this.s=Sa(n[2]||""),ya(this,n[3]||"",!0),va(this,n[4]),this.l=Sa(n[5]||"",!0),ba(this,n[6]||"",!0),this.o=Sa(n[7]||"")):(this.g=!!e,this.h=new ja(null,this.g))}function ga(t){return new pa(t)}function ma(t,e,n){t.j=n?Sa(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ya(t,e,n){t.i=n?Sa(e,!0):e}function va(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function ba(t,e,n){e instanceof ja?(t.h=e,function(t,e){e&&!t.j&&(ka(t),t.i=null,t.g.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Na(this,e),Ra(this,n,t))},t)),t.j=e}(t.h,t.g)):(n||(e=Oa(e,xa)),t.h=new ja(e,t.g))}function wa(t,e,n){t.h.set(e,n)}function _a(t){return wa(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Sa(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Oa(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Ea),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ea(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}pa.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Oa(e,Ta,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Oa(e,Ta,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(Oa(n,"/"==n.charAt(0)?Ca:Ia,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Oa(n,Aa)),t.join("")};var Ta=/[#\/\?@]/g,Ia=/[#\?:]/g,Ca=/[#\?]/g,xa=/[#\?@]/g,Aa=/#/g;function ja(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ka(t){t.g||(t.g=new la,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Na(t,e){ka(t),e=Pa(t,e),fa(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,fa((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&ha(t)))}function Da(t,e){return ka(t),e=Pa(t,e),fa(t.g.h,e)}function Ra(t,e,n){Na(t,e),0<n.length&&(t.i=null,t.g.set(Pa(t,e),ao(n)),t.h+=n.length)}function Pa(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(Hi=ja.prototype).add=function(t,e){ka(this),this.i=null,t=Pa(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},Hi.forEach=function(t,e){ka(this),this.g.forEach(function(n,r){oo(n,function(n){t.call(e,n,r,this)},this)},this)},Hi.T=function(){ka(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Hi.R=function(t){ka(this);var e=[];if("string"==typeof t)Da(this,t)&&(e=so(e,this.g.get(Pa(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=so(e,t[n])}return e},Hi.set=function(t,e){return ka(this),this.i=null,Da(this,t=Pa(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},Hi.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},Hi.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.i=t.join("&")};var La=function(){return function(t,e){this.h=t,this.g=e}}();function Ma(t){this.l=t||Fa,t=Gi.PerformanceNavigationTiming?0<(t=Gi.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Gi.g&&Gi.g.Ea&&Gi.g.Ea()&&Gi.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Fa=10;function Ua(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Va(t){return t.h?1:t.g?t.g.size:0}function qa(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Ha(t,e){t.g?t.g.add(e):t.h=e}function Ba(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function za(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var r=t.i;try{for(var i=qi(t.g.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.D)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return ao(t.i)}function Ga(){}function Ka(){this.g=new Ga}function Wa(t,e,n){var r=n||"";try{ca(t,function(t,n){var i=t;$i(t)&&(i=as(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(eb){throw e.push(r+"type="+encodeURIComponent("_badmap")),eb}}function $a(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}function Qa(t){this.l=t.$b||null,this.j=t.ib||!1}function Ja(t,e){is.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Ya,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ma.prototype.cancel=function(){var t,e;if(this.i=za(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=qi(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},Ga.prototype.stringify=function(t){return Gi.JSON.stringify(t,void 0)},Ga.prototype.parse=function(t){return Gi.JSON.parse(t,void 0)},eo(Qa,Vs),Qa.prototype.g=function(){return new Ja(this.l,this.j)},Qa.prototype.i=function(t){return function(){return t}}({}),eo(Ja,is);var Ya=0;function Za(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Xa(t){t.readyState=4,t.l=null,t.j=null,t.A=null,tu(t)}function tu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(Hi=Ja.prototype).open=function(t,e){if(this.readyState!=Ya)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,tu(this)},Hi.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Gi).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Hi.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Xa(this)),this.readyState=Ya},Hi.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,tu(this)),this.g&&(this.readyState=3,tu(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Gi.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Za(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},Hi.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Xa(this):tu(this),3==this.readyState&&Za(this)}},Hi.Ua=function(t){this.g&&(this.response=this.responseText=t,Xa(this))},Hi.Ta=function(t){this.g&&(this.response=t,Xa(this))},Hi.ha=function(){this.g&&Xa(this)},Hi.setRequestHeader=function(t,e){this.v.append(t,e)},Hi.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},Hi.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Ja.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var eu=Gi.JSON.parse;function nu(t){is.call(this),this.headers=new la,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ru,this.K=this.L=!1}eo(nu,is);var ru="",iu=/^https?$/i,ou=["POST","PUT"];function su(t){return"content-type"==t.toLowerCase()}function au(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,uu(t),lu(t)}function uu(t){t.D||(t.D=!0,os(t,"complete"),os(t,"error"))}function cu(t){if(t.h&&void 0!==zi&&(!t.C[1]||4!=fu(t)||2!=t.ba()))if(t.v&&4==fu(t))ws(t.Fa,0,t);else if(os(t,"readystatechange"),4==fu(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.H).match(da)[1]||null;if(!o&&Gi.self&&Gi.self.location){var s=Gi.self.location.protocol;o=s.substr(0,s.length-1)}i=!iu.test(o?o.toLowerCase():"")}e=i}if(e)os(t,"complete"),os(t,"success");else{t.m=6;try{var a=2<fu(t)?t.g.statusText:""}catch(u){a=""}t.j=a+" ["+t.ba()+"]",uu(t)}}finally{lu(t)}}}function lu(t,e){if(t.g){hu(t);var n=t.g,r=t.C[0]?Ki:null;t.g=null,t.C=null,e||os(t,"ready");try{n.onreadystatechange=r}catch(eb){}}}function hu(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Gi.clearTimeout(t.A),t.A=null)}function fu(t){return t.g?t.g.readyState:0}function du(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case ru:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function pu(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return mo(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):wa(t,e,n))}function gu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function mu(t){this.za=0,this.l=[],this.h=new Cs,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=gu("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=gu("baseRetryDelayMs",5e3,t),this.$a=gu("retryDelaySeedMs",1e4,t),this.Ya=gu("forwardChannelMaxRetries",2,t),this.ra=gu("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new Ma(t&&t.concurrentRequestLimit),this.Ca=new Ka,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function yu(t){if(bu(t),3==t.G){var e=t.V++,n=ga(t.F);wa(n,"SID",t.J),wa(n,"RID",e),wa(n,"TYPE","terminate"),Ou(t,n),(e=new Ws(t,t.h,e,void 0)).K=2,e.v=_a(ga(n)),n=!1,Gi.navigator&&Gi.navigator.sendBeacon&&(n=Gi.navigator.sendBeacon(e.v.toString(),"")),!n&&Gi.Image&&((new Image).src=e.v,n=!0),n||(e.g=Pu(e.l,null),e.g.ea(e.v)),e.F=Date.now(),ra(e)}Du(t)}function vu(t){t.g&&(Cu(t),t.g.cancel(),t.g=null)}function bu(t){vu(t),t.u&&(Gi.clearTimeout(t.u),t.u=null),Au(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Gi.clearTimeout(t.m),t.m=null)}function wu(t,e){t.l.push(new La(t.Za++,e)),3==t.G&&_u(t)}function _u(t){Ua(t.i)||t.m||(t.m=!0,ps(t.Ha,t),t.C=0)}function Su(t,e){var n;n=e?e.m:t.V++;var r=ga(t.F);wa(r,"SID",t.J),wa(r,"RID",n),wa(r,"AID",t.U),Ou(t,r),t.o&&t.s&&pu(r,t.o,t.s),n=new Ws(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=Eu(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),Ha(t.i,n),Zs(n,r,e)}function Ou(t,e){t.j&&ca({},function(t,n){wa(e,n,t)})}function Eu(t,e,n){n=Math.min(t.l.length,n);var r=t.j?Xi(t.j.Oa,t.j,t):null;t:for(var i=t.l,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].h)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),a=!1;else try{Wa(l,s,"req"+c+"_")}catch(gc){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function Tu(t){t.g||t.u||(t.Y=1,ps(t.Ga,t),t.A=0)}function Iu(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=Ms(Xi(t.Ga,t),ku(t,t.A)),t.A++,0))}function Cu(t){null!=t.B&&(Gi.clearTimeout(t.B),t.B=null)}function xu(t){t.g=new Ws(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=ga(t.oa);wa(e,"RID","rpc"),wa(e,"SID",t.J),wa(e,"CI",t.N?"0":"1"),wa(e,"AID",t.U),Ou(t,e),wa(e,"TYPE","xmlhttp"),t.o&&t.s&&pu(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=_a(ga(e)),n.s=null,n.U=!0,Xs(n,t)}function Au(t){null!=t.v&&(Gi.clearTimeout(t.v),t.v=null)}function ju(t,e){var n=null;if(t.g==e){Au(t),Cu(t),t.g=null;var r=2}else{if(!qa(t.i,e))return;n=e.D,Ba(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;os(r=ks(),new Ls(r,n,e,i)),_u(t)}else Tu(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Va(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=Ms(Xi(t.Ha,t,e),ku(t,t.C)),t.C++,0)))}(t,e)||2==r&&Iu(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Nu(t,5);break;case 4:Nu(t,10);break;case 3:Nu(t,6);break;default:Nu(t,2)}}function ku(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Nu(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=Xi(t.jb,t);n||(n=new pa("//www.google.com/images/cleardot.gif"),Gi.location&&"http"==Gi.location.protocol||ma(n,"https"),_a(n)),function(t,e){var n=new Cs;if(Gi.Image){var r=new Image;r.onload=to($a,n,r,"TestLoadImage: loaded",!0,e),r.onerror=to($a,n,r,"TestLoadImage: error",!1,e),r.onabort=to($a,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=to($a,n,r,"TestLoadImage: timeout",!1,e),Gi.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Ps(2);t.G=0,t.j&&t.j.va(e),Du(t),bu(t)}function Du(t){t.G=0,t.I=-1,t.j&&(0==za(t.i).length&&0==t.l.length||(t.i.i.length=0,ao(t.l),t.l.length=0),t.j.ua())}function Ru(t,e,n){var r=function(t){return t instanceof pa?ga(t):new pa(t,void 0)}(n);if(""!=r.i)e&&ya(r,e+"."+r.i),va(r,r.m);else{var i=Gi.location;r=function(t,e,n,r){var i=new pa(null,void 0);return t&&ma(i,t),e&&ya(i,e),n&&va(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&mo(t.aa,function(t,e){wa(r,e,t)}),n=t.sa,(e=t.D)&&n&&wa(r,e,n),wa(r,"VER",t.ma),Ou(t,r),r}function Pu(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new nu(n&&t.Ba&&!t.qa?new Qa({ib:!0}):t.qa)).L=t.H,e}function Lu(){}function Mu(){if(Eo&&!(10<=Number(Ro)))throw Error("Environmental error: no available transport.")}function Fu(t,e){is.call(this),this.g=new mu(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!uo(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!uo(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new qu(this)}function Uu(t){zs.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function Vu(){Gs.call(this),this.status=1}function qu(t){this.g=t}(Hi=nu.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Hs.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:Hs),this.g.onreadystatechange=Xi(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){return void au(this,o)}t=n||"";var i=new la(this.headers);r&&ca(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=su,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=Gi.FormData&&t instanceof Gi.FormData,!(0<=io(ou,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.g.setRequestHeader(e,t)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{hu(this),0<this.B&&((this.K=function(t){return Eo&&function(){return t=Do,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){for(var t=0,e=lo(String(_o)).split("."),n=lo("9").split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var o=e[i]||"",s=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==o[0].length&&0==s[0].length)break;t=fo(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||fo(0==o[2].length,0==s[2].length)||fo(o[2],s[2]),o=o[3],s=s[3]}while(0==t)}return 0<=t}();var t}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Xi(this.pa,this)):this.A=ws(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){au(this,o)}},Hi.pa=function(){void 0!==zi&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,os(this,"timeout"),this.abort(8))},Hi.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,os(this,"complete"),os(this,"abort"),lu(this))},Hi.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),lu(this,!0)),nu.Z.M.call(this)},Hi.Fa=function(){this.s||(this.F||this.v||this.l?cu(this):this.cb())},Hi.cb=function(){cu(this)},Hi.ba=function(){try{return 2<fu(this)?this.g.status:-1}catch(So){return-1}},Hi.ga=function(){try{return this.g?this.g.responseText:""}catch(So){return""}},Hi.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),eu(e)}},Hi.Da=function(){return this.m},Hi.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Hi=mu.prototype).ma=8,Hi.G=1,Hi.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},Hi.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new Ws(this,this.h,t,void 0),n=this.s;if(this.P&&(n?bo(n=yo(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break t}if(4096===r||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=Eu(this,e,r),wa(i=ga(this.F),"RID",t),wa(i,"CVER",22),this.D&&wa(i,"X-HTTP-Session-Id",this.D),Ou(this,i),this.o&&n&&pu(i,this.o,n),Ha(this.i,e),this.Ra&&wa(i,"TYPE","init"),this.ja?(wa(i,"$req",r),wa(i,"SID","null"),e.$=!0,Zs(e,i,null)):Zs(e,i,r),this.G=2}}else 3==this.G&&(t?Su(this,t):0==this.l.length||Ua(this.i)||Su(this))},Hi.Ga=function(){if(this.u=null,xu(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Ms(Xi(this.bb,this),t)}},Hi.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ps(10),vu(this),xu(this))},Hi.ab=function(){null!=this.v&&(this.v=null,vu(this),Iu(this),Ps(19))},Hi.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Ps(2)):(this.h.info("Failed to ping google.com"),Ps(1))},(Hi=Lu.prototype).xa=function(){},Hi.wa=function(){},Hi.va=function(){},Hi.ua=function(){},Hi.Oa=function(){},Mu.prototype.g=function(t,e){return new Fu(t,e)},eo(Fu,is),Fu.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),ps(Xi(t.hb,t,e))),Ps(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=Ru(t,null,t.W),_u(t)},Fu.prototype.close=function(){yu(this.g)},Fu.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,wu(this.g,e)}else this.v?((e={}).__data__=as(t),wu(this.g,e)):wu(this.g,t)},Fu.prototype.M=function(){this.g.j=null,delete this.j,yu(this.g),delete this.g,Fu.Z.M.call(this)},eo(Uu,zs),eo(Vu,Gs),eo(qu,Lu),qu.prototype.xa=function(){os(this.g,"a")},qu.prototype.wa=function(t){os(this.g,new Uu(t))},qu.prototype.va=function(t){os(this.g,new Vu(t))},qu.prototype.ua=function(){os(this.g,"b")},Mu.prototype.createWebChannel=Mu.prototype.g,Fu.prototype.send=Fu.prototype.u,Fu.prototype.open=Fu.prototype.m,Fu.prototype.close=Fu.prototype.close,Fs.NO_ERROR=0,Fs.TIMEOUT=8,Fs.HTTP_ERROR=6,Us.COMPLETE="complete",qs.EventType=Bs,Bs.OPEN="a",Bs.CLOSE="b",Bs.ERROR="c",Bs.MESSAGE="d",is.prototype.listen=is.prototype.N,nu.prototype.listenOnce=nu.prototype.O,nu.prototype.getLastError=nu.prototype.La,nu.prototype.getLastErrorCode=nu.prototype.Da,nu.prototype.getStatus=nu.prototype.ba,nu.prototype.getResponseJson=nu.prototype.Qa,nu.prototype.getResponseText=nu.prototype.ga,nu.prototype.send=nu.prototype.ea;var Hu=Fs,Bu=Us,zu=As,Gu=Qa,Ku=qs,Wu=nu,$u=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();$u.o=-1;var Qu={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ju=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Ii.c)(e,t),e}(Error),Yu=new Ui.b("@firebase/firestore");function Zu(){return Yu.logLevel}function Xu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Yu.logLevel<=Ui.a.DEBUG){var r=e.map(nc);Yu.debug.apply(Yu,Object(Ii.f)(["Firestore (8.7.0): "+t],r))}}function tc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Yu.logLevel<=Ui.a.ERROR){var r=e.map(nc);Yu.error.apply(Yu,Object(Ii.f)(["Firestore (8.7.0): "+t],r))}}function ec(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Yu.logLevel<=Ui.a.WARN){var r=e.map(nc);Yu.warn.apply(Yu,Object(Ii.f)(["Firestore (8.7.0): "+t],r))}}function nc(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(eb){return t}}function rc(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.7.0) INTERNAL ASSERTION FAILED: "+t;throw tc(e),new Error(e)}function ic(t,e){t||rc()}function oc(t,e){return t}function sc(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var ac=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=sc(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function uc(t,e){return t<e?-1:t>e?1:0}function cc(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function lc(t){return t+"\0"}var hc=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ju(Qu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ju(Qu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ju(Qu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ju(Qu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?uc(this.nanoseconds,t.nanoseconds):uc(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),fc=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new hc(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function dc(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function pc(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function gc(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var mc=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&rc(),void 0===n?n=t.length-e:n>t.length-e&&rc(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),yc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ii.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Ju(Qu.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(mc),vc=/^[_a-zA-Z][_a-zA-Z0-9]*$/,bc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ii.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return vc.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Ju(Qu.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Ju(Qu.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Ju(Qu.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Ju(Qu.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(mc),wc=function(){function t(t){this.fields=t,t.sort(bc.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return cc(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),_c=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return uc(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();_c.EMPTY_BYTE_STRING=new _c("");var Sc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oc(t){if(ic(!!t),"string"==typeof t){var e=0,n=Sc.exec(t);if(ic(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ec(t.seconds),nanos:Ec(t.nanos)}}function Ec(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Tc(t){return"string"==typeof t?_c.fromBase64String(t):_c.fromUint8Array(t)}function Ic(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Cc(t){var e=t.mapValue.fields.__previous_value__;return Ic(e)?Cc(e):e}function xc(t){var e=Oc(t.mapValue.fields.__local_write_time__.timestampValue);return new hc(e.seconds,e.nanos)}function Ac(t){return null==t}function jc(t){return 0===t&&1/t==-1/0}function kc(t){return"number"==typeof t&&Number.isInteger(t)&&!jc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Nc=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(yc.fromString(e))},t.fromName=function(e){return new t(yc.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===yc.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return yc.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new yc(e.slice()))},t}();function Dc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ic(t)?4:10:rc()}function Rc(t,e){var n=Dc(t);if(n!==Dc(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xc(t).isEqual(xc(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Oc(t.timestampValue),r=Oc(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Tc(t.bytesValue).isEqual(Tc(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Ec(t.geoPointValue.latitude)===Ec(e.geoPointValue.latitude)&&Ec(t.geoPointValue.longitude)===Ec(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Ec(t.integerValue)===Ec(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Ec(t.doubleValue),r=Ec(e.doubleValue);return n===r?jc(n)===jc(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return cc(t.arrayValue.values||[],e.arrayValue.values||[],Rc);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(dc(n)!==dc(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Rc(n[i],r[i])))return!1;return!0}(t,e);default:return rc()}}function Pc(t,e){return void 0!==(t.values||[]).find(function(t){return Rc(t,e)})}function Lc(t,e){var n=Dc(t),r=Dc(e);if(n!==r)return uc(n,r);switch(n){case 0:return 0;case 1:return uc(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Ec(t.integerValue||t.doubleValue),r=Ec(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Mc(t.timestampValue,e.timestampValue);case 4:return Mc(xc(t),xc(e));case 5:return uc(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Tc(t),r=Tc(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=uc(n[i],r[i]);if(0!==o)return o}return uc(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=uc(Ec(t.latitude),Ec(e.latitude));return 0!==n?n:uc(Ec(t.longitude),Ec(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Lc(n[i],r[i]);if(o)return o}return uc(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=uc(r[s],o[s]);if(0!==a)return a;var u=Lc(n[r[s]],i[o[s]]);if(0!==u)return u}return uc(r.length,o.length)}(t.mapValue,e.mapValue);default:throw rc()}}function Mc(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return uc(t,e);var n=Oc(t),r=Oc(e),i=uc(n.seconds,r.seconds);return 0!==i?i:uc(n.nanos,r.nanos)}function Fc(t){return Uc(t)}function Uc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Oc(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Tc(t.bytesValue).toBase64():"referenceValue"in t?Nc.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Uc(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Uc(t.fields[o])}return e+"}"}(t.mapValue):rc();var e}function Vc(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function qc(t){return!!t&&"integerValue"in t}function Hc(t){return!!t&&"arrayValue"in t}function Bc(t){return!!t&&"nullValue"in t}function zc(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gc(t){return!!t&&"mapValue"in t}function Kc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue)return{timestampValue:Object.assign({},Oc(t.timestampValue))};if(t.mapValue){var e={mapValue:{fields:{}}};return pc(t.mapValue.fields,function(t,n){return e.mapValue.fields[t]=Kc(n)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Kc(t.arrayValue.values[r]);return n}return Object.assign({},t)}var Wc=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!Gc(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Kc(e)},t.prototype.setAll=function(t){var e=this,n=bc.emptyPath(),r={},i=[];t.forEach(function(t,o){if(!n.isImmediateParentOf(o)){var s=e.getFieldsMap(n);e.applyChanges(s,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=Kc(t):i.push(o.lastSegment())});var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());Gc(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return Rc(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];Gc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){pc(e,function(e,n){return t[e]=n});for(var r=0,i=n;r<i.length;r++)delete t[i[r]]},t.prototype.clone=function(){return new t(Kc(this.value))},t}();function $c(t){var e=[];return pc(t.fields,function(t,n){var r=new bc([t]);if(Gc(n)){var i=$c(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new wc(e)}var Qc=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,fc.min(),Wc.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Wc.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Wc.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Wc.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Wc.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Jc=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function Yc(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Jc(t,e,n,r,i,o,s)}function Zc(t){var e=oc(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Fc(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),Ac(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=hl(e.startAt)),e.endAt&&(n+="|ub:",n+=hl(e.endAt)),e.h=n}return e.h}function Xc(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!dl(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Rc(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!gl(t.startAt,e.startAt)&&gl(t.endAt,e.endAt)}function tl(t){return Nc.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var el=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Ii.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new nl(t,n,r):"array-contains"===n?new sl(t,r):"in"===n?new al(t,r):"not-in"===n?new ul(t,r):"array-contains-any"===n?new cl(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new rl(t,n):new il(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(Lc(e,this.value)):null!==e&&Dc(this.value)===Dc(e)&&this.m(Lc(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return rc()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),nl=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Nc.fromName(r.referenceValue),i}return Object(Ii.c)(e,t),e.prototype.matches=function(t){var e=Nc.comparator(t.key,this.key);return this.m(e)},e}(el),rl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=ol(0,n),r}return Object(Ii.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(el),il=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=ol(0,n),r}return Object(Ii.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(el);function ol(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Nc.fromName(t.referenceValue)})}var sl=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Ii.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Hc(e)&&Pc(e.arrayValue,this.value)},e}(el),al=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Ii.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&Pc(this.value.arrayValue,e)},e}(el),ul=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Ii.c)(e,t),e.prototype.matches=function(t){if(Pc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!Pc(this.value.arrayValue,e)},e}(el),cl=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Ii.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Hc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Pc(e.value.arrayValue,t)})},e}(el),ll=function(t,e){this.position=t,this.before=e};function hl(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Fc(t)}).join(",")}var fl=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function dl(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function pl(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?Nc.comparator(Nc.fromName(s.referenceValue),n.key):Lc(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function gl(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Rc(t.position[n],e.position[n]))return!1;return!0}var ml=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function yl(t,e,n,r,i,o,s,a){return new ml(t,e,n,r,i,o,s,a)}function vl(t){return new ml(t)}function bl(t){return!Ac(t.limit)&&"F"===t.limitType}function wl(t){return!Ac(t.limit)&&"L"===t.limitType}function _l(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Sl(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Ol(t){return null!==t.collectionGroup}function El(t){var e=oc(t);if(null===e.p){e.p=[];var n=Sl(e),r=_l(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new fl(n)),e.p.push(new fl(bc.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new fl(bc.keyField(),u))}}}return e.p}function Tl(t){var e=oc(t);if(!e.T)if("F"===e.limitType)e.T=Yc(e.path,e.collectionGroup,El(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=El(e);r<i.length;r++){var o=i[r];n.push(new fl(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new ll(e.endAt.position,!e.endAt.before):null,a=e.startAt?new ll(e.startAt.position,!e.startAt.before):null;e.T=Yc(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.T}function Il(t,e,n){return new ml(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Cl(t,e){return Xc(Tl(t),Tl(e))&&t.limitType===e.limitType}function xl(t){return Zc(Tl(t))+"|lt:"+t.limitType}function Al(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Fc(e.value);var e}).join(", ")+"]"),Ac(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+hl(t.startAt)),t.endAt&&(e+=", endAt: "+hl(t.endAt)),"Target("+e+")"}(Tl(t))+"; limitType="+t.limitType+")"}function jl(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Nc.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!pl(t.startAt,El(t),e)||t.endAt&&pl(t.endAt,El(t),e))}(t,e)}function kl(t){return function(e,n){for(var r=!1,i=0,o=El(t);i<o.length;i++){var s=o[i],a=Nl(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function Nl(t,e,n){var r=t.field.isKeyField()?Nc.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?Lc(r,i):rc()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return rc()}}function Dl(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jc(e)?"-0":e}}function Rl(t){return{integerValue:""+t}}function Pl(t,e){return kc(e)?Rl(e):Dl(t,e)}var Ll=function(){this._=void 0};function Ml(t,e,n){return t instanceof Vl?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof ql?Hl(t,e):t instanceof Bl?zl(t,e):function(t,e){var n=Ul(t,e),r=Kl(n)+Kl(t.A);return qc(n)&&qc(t.A)?Rl(r):Dl(t.R,r)}(t,e)}function Fl(t,e,n){return t instanceof ql?Hl(t,e):t instanceof Bl?zl(t,e):n}function Ul(t,e){return t instanceof Gl?qc(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Vl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ii.c)(e,t),e}(Ll),ql=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Ii.c)(e,t),e}(Ll);function Hl(t,e){for(var n=Wl(e),r=function(t){n.some(function(e){return Rc(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Bl=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Ii.c)(e,t),e}(Ll);function zl(t,e){for(var n=Wl(e),r=function(t){n=n.filter(function(e){return!Rc(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Gl=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Object(Ii.c)(e,t),e}(Ll);function Kl(t){return Ec(t.integerValue||t.doubleValue)}function Wl(t){return Hc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var $l=function(t,e){this.field=t,this.transform=e},Ql=function(t,e){this.version=t,this.transformResults=e},Jl=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Yl(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Zl=function(){};function Xl(t,e,n){t instanceof ih?function(t,e,n){var r=t.value.clone(),i=ah(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof oh?function(t,e,n){if(Yl(t.precondition,e)){var r=ah(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(sh(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function th(t,e,n){t instanceof ih?function(t,e,n){if(Yl(t.precondition,e)){var r=t.value.clone(),i=uh(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(rh(e),r).setHasLocalMutations()}}(t,e,n):t instanceof oh?function(t,e,n){if(Yl(t.precondition,e)){var r=uh(t.fieldTransforms,n,e),i=e.data;i.setAll(sh(t)),i.setAll(r),e.convertToFoundDocument(rh(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){Yl(t.precondition,e)&&e.convertToNoDocument(fc.min())}(t,e)}function eh(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=Ul(o.transform,s||null);null!=a&&(null==n&&(n=Wc.empty()),n.set(o.field,a))}return n||null}function nh(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&cc(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof ql&&e instanceof ql||t instanceof Bl&&e instanceof Bl?cc(t.elements,e.elements,Rc):t instanceof Gl&&e instanceof Gl?Rc(t.A,e.A):t instanceof Vl&&e instanceof Vl}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function rh(t){return t.isFoundDocument()?t.version:fc.min()}var ih=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Object(Ii.c)(e,t),e}(Zl),oh=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return Object(Ii.c)(e,t),e}(Zl);function sh(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function ah(t,e,n){var r=new Map;ic(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Fl(s,a,n[i]))}return r}function uh(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,Ml(a,u,e))}return r}var ch,lh,hh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(Ii.c)(e,t),e}(Zl),fh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(Ii.c)(e,t),e}(Zl),dh=function(t){this.count=t};function ph(t){switch(t){case Qu.OK:return rc();case Qu.CANCELLED:case Qu.UNKNOWN:case Qu.DEADLINE_EXCEEDED:case Qu.RESOURCE_EXHAUSTED:case Qu.INTERNAL:case Qu.UNAVAILABLE:case Qu.UNAUTHENTICATED:return!1;case Qu.INVALID_ARGUMENT:case Qu.NOT_FOUND:case Qu.ALREADY_EXISTS:case Qu.PERMISSION_DENIED:case Qu.FAILED_PRECONDITION:case Qu.ABORTED:case Qu.OUT_OF_RANGE:case Qu.UNIMPLEMENTED:case Qu.DATA_LOSS:return!0;default:return rc()}}function gh(t){if(void 0===t)return tc("GRPC error has no .code"),Qu.UNKNOWN;switch(t){case ch.OK:return Qu.OK;case ch.CANCELLED:return Qu.CANCELLED;case ch.UNKNOWN:return Qu.UNKNOWN;case ch.DEADLINE_EXCEEDED:return Qu.DEADLINE_EXCEEDED;case ch.RESOURCE_EXHAUSTED:return Qu.RESOURCE_EXHAUSTED;case ch.INTERNAL:return Qu.INTERNAL;case ch.UNAVAILABLE:return Qu.UNAVAILABLE;case ch.UNAUTHENTICATED:return Qu.UNAUTHENTICATED;case ch.INVALID_ARGUMENT:return Qu.INVALID_ARGUMENT;case ch.NOT_FOUND:return Qu.NOT_FOUND;case ch.ALREADY_EXISTS:return Qu.ALREADY_EXISTS;case ch.PERMISSION_DENIED:return Qu.PERMISSION_DENIED;case ch.FAILED_PRECONDITION:return Qu.FAILED_PRECONDITION;case ch.ABORTED:return Qu.ABORTED;case ch.OUT_OF_RANGE:return Qu.OUT_OF_RANGE;case ch.UNIMPLEMENTED:return Qu.UNIMPLEMENTED;case ch.DATA_LOSS:return Qu.DATA_LOSS;default:return rc()}}(lh=ch||(ch={}))[lh.OK=0]="OK",lh[lh.CANCELLED=1]="CANCELLED",lh[lh.UNKNOWN=2]="UNKNOWN",lh[lh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lh[lh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lh[lh.NOT_FOUND=5]="NOT_FOUND",lh[lh.ALREADY_EXISTS=6]="ALREADY_EXISTS",lh[lh.PERMISSION_DENIED=7]="PERMISSION_DENIED",lh[lh.UNAUTHENTICATED=16]="UNAUTHENTICATED",lh[lh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lh[lh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lh[lh.ABORTED=10]="ABORTED",lh[lh.OUT_OF_RANGE=11]="OUT_OF_RANGE",lh[lh.UNIMPLEMENTED=12]="UNIMPLEMENTED",lh[lh.INTERNAL=13]="INTERNAL",lh[lh.UNAVAILABLE=14]="UNAVAILABLE",lh[lh.DATA_LOSS=15]="DATA_LOSS";var mh=function(){function t(t,e){this.comparator=t,this.root=e||vh.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vh.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vh.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new yh(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new yh(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new yh(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new yh(this.root,t,this.comparator,!0)},t}(),yh=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),vh=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw rc();if(this.right.isRed())throw rc();var t=this.left.check();if(t!==this.right.check())throw rc();return t+(this.isRed()?0:1)},t}();vh.EMPTY=null,vh.RED=!0,vh.BLACK=!1,vh.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw rc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw rc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw rc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw rc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw rc()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new vh(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var bh=function(){function t(t){this.comparator=t,this.data=new mh(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new wh(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new wh(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),wh=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),_h=new mh(Nc.comparator);function Sh(){return _h}var Oh=new mh(Nc.comparator);function Eh(){return Oh}var Th=new mh(Nc.comparator);function Ih(){return Th}var Ch=new bh(Nc.comparator);function xh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Ch,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Ah=new bh(uc);function jh(){return Ah}var kh=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,Nh.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(fc.min(),r,jh(),Sh(),xh())},t}(),Nh=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(_c.EMPTY_BYTE_STRING,n,xh(),xh(),xh())},t}(),Dh=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},Rh=function(t,e){this.targetId=t,this.V=e},Ph=function(t,e,n,r){void 0===n&&(n=_c.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Lh=function(){function t(){this.S=0,this.D=Uh(),this.C=_c.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=xh(),e=xh(),n=xh();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:rc()}}),new Nh(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=Uh()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),Mh=function(){function t(t){this.W=t,this.G=new Map,this.H=Sh(),this.J=Fh(),this.Y=new bh(uc)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:rc()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(tl(i))if(0===n){var o=new Nc(i.path);this.tt(e,o,Qc.newNoDocument(o,fc.min()))}else ic(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var o=e.ot(i);if(o){if(r.current&&tl(o.target)){var s=new Nc(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,Qc.newNoDocument(s,t))}r.$&&(n.set(i,r.M()),r.L())}});var r=xh();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new kh(t,n,this.Y,this.H,r);return this.H=Sh(),this.J=Fh(),this.Y=new bh(uc),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Lh,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new bh(uc),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||Xu("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Lh),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function Fh(){return new mh(Nc.comparator)}function Uh(){return new mh(Nc.comparator)}var Vh={asc:"ASCENDING",desc:"DESCENDING"},qh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Hh=function(t,e){this.databaseId=t,this.I=e};function Bh(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function zh(t,e){return t.I?e.toBase64():e.toUint8Array()}function Gh(t,e){return Bh(t,e.toTimestamp())}function Kh(t){return ic(!!t),fc.fromTimestamp(function(t){var e=Oc(t);return new hc(e.seconds,e.nanos)}(t))}function Wh(t,e){return function(t){return new yc(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function $h(t){var e=yc.fromString(t);return ic(bf(e)),e}function Qh(t,e){return Wh(t.databaseId,e.path)}function Jh(t,e){var n=$h(e);if(n.get(1)!==t.databaseId.projectId)throw new Ju(Qu.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ju(Qu.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Nc(tf(n))}function Yh(t,e){return Wh(t.databaseId,e)}function Zh(t){var e=$h(t);return 4===e.length?yc.emptyPath():tf(e)}function Xh(t){return new yc(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function tf(t){return ic(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function ef(t,e,n){return{name:Qh(t,e),fields:n.value.mapValue.fields}}function nf(t,e,n){var r=Jh(t,e.name),i=Kh(e.updateTime),o=new Wc({mapValue:{fields:e.fields}}),s=Qc.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function rf(t,e){var n;if(e instanceof ih)n={update:ef(t,e.key,e.value)};else if(e instanceof hh)n={delete:Qh(t,e.key)};else if(e instanceof oh)n={update:ef(t,e.key,e.data),updateMask:vf(e.fieldMask)};else{if(!(e instanceof fh))return rc();n={verify:Qh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Vl)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ql)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Bl)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Gl)return{fieldPath:e.field.canonicalString(),increment:n.A};throw rc()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Gh(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:rc()}(t,e.precondition)),n}function of(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Jl.updateTime(Kh(t.updateTime)):void 0!==t.exists?Jl.exists(t.exists):Jl.none()}(e.currentDocument):Jl.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(ic("REQUEST_TIME"===e.setToServerValue),n=new Vl):"appendMissingElements"in e?n=new ql(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Bl(e.removeAllFromArray.values||[]):"increment"in e?n=new Gl(t,e.increment):rc();var r=bc.fromServerFormat(e.fieldPath);return new $l(r,n)}(t,e)}):[];if(e.update){var i=Jh(t,e.update.name),o=new Wc({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new wc((t.fieldPaths||[]).map(function(t){return bc.fromServerFormat(t)}))}(e.updateMask);return new oh(i,o,s,n,r)}return new ih(i,o,n,r)}if(e.delete){var a=Jh(t,e.delete);return new hh(a,n)}if(e.verify){var u=Jh(t,e.verify);return new fh(u,n)}return rc()}function sf(t,e){return{documents:[Yh(t,e.path)]}}function af(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Yh(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Yh(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(zc(t.value))return{unaryFilter:{field:pf(t.field),op:"IS_NAN"}};if(Bc(t.value))return{unaryFilter:{field:pf(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(zc(t.value))return{unaryFilter:{field:pf(t.field),op:"IS_NOT_NAN"}};if(Bc(t.value))return{unaryFilter:{field:pf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pf(t.field),op:df(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:pf(t.field),direction:ff(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.I||Ac(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=lf(e.startAt)),e.endAt&&(n.structuredQuery.endAt=lf(e.endAt)),n}function uf(t){var e=Zh(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ic(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=cf(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new fl(gf(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return Ac(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=hf(n.startAt));var l=null;return n.endAt&&(l=hf(n.endAt)),yl(e,i,a,s,u,"F",c,l)}function cf(t){return t?void 0!==t.unaryFilter?[yf(t)]:void 0!==t.fieldFilter?[mf(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return cf(t)}).reduce(function(t,e){return t.concat(e)}):rc():[]}function lf(t){return{before:t.before,values:t.position}}function hf(t){return new ll(t.values||[],!!t.before)}function ff(t){return Vh[t]}function df(t){return qh[t]}function pf(t){return{fieldPath:t.canonicalString()}}function gf(t){return bc.fromServerFormat(t.fieldPath)}function mf(t){return el.create(gf(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return rc()}}(t.fieldFilter.op),t.fieldFilter.value)}function yf(t){switch(t.unaryFilter.op){case"IS_NAN":var e=gf(t.unaryFilter.field);return el.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=gf(t.unaryFilter.field);return el.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=gf(t.unaryFilter.field);return el.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=gf(t.unaryFilter.field);return el.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return rc()}}function vf(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function bf(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function wf(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Sf(e)),e=_f(t.get(n),e);return Sf(e)}function _f(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Sf(t){return t+"\x01\x01"}function Of(t){var e=t.length;if(ic(e>=2),2===e)return ic("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),yc.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&rc(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:rc()}o=s+2}return new yc(r)}var Ef=function(t,e){this.seconds=t,this.nanoseconds=e},Tf=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Tf.store="owner",Tf.key="owner";var If=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};If.store="mutationQueues",If.keyPath="userId";var Cf=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Cf.store="mutations",Cf.keyPath="batchId",Cf.userMutationsIndex="userMutationsIndex",Cf.userMutationsKeyPath=["userId","batchId"];var xf=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,wf(e)]},t.key=function(t,e,n){return[t,wf(e),n]},t}();xf.store="documentMutations",xf.PLACEHOLDER=new xf;var Af=function(t,e){this.path=t,this.readTime=e},jf=function(t,e){this.path=t,this.version=e},kf=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};kf.store="remoteDocuments",kf.readTimeIndex="readTimeIndex",kf.readTimeIndexPath="readTime",kf.collectionReadTimeIndex="collectionReadTimeIndex",kf.collectionReadTimeIndexPath=["parentPath","readTime"];var Nf=function(t){this.byteSize=t};Nf.store="remoteDocumentGlobal",Nf.key="remoteDocumentGlobalKey";var Df=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Df.store="targets",Df.keyPath="targetId",Df.queryTargetsIndexName="queryTargetsIndex",Df.queryTargetsKeyPath=["canonicalId","targetId"];var Rf=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Rf.store="targetDocuments",Rf.keyPath=["targetId","path"],Rf.documentTargetsIndex="documentTargetsIndex",Rf.documentTargetsKeyPath=["path","targetId"];var Pf=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Pf.key="targetGlobalKey",Pf.store="targetGlobal";var Lf=function(t,e){this.collectionId=t,this.parent=e};Lf.store="collectionParents",Lf.keyPath=["collectionId","parent"];var Mf=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Mf.store="clientMetadata",Mf.keyPath="clientId";var Ff=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Ff.store="bundles",Ff.keyPath="bundleId";var Uf=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Uf.store="namedQueries",Uf.keyPath="name";var Vf=Object(Ii.f)(Object(Ii.f)([],Object(Ii.f)(Object(Ii.f)([],Object(Ii.f)(Object(Ii.f)([],Object(Ii.f)(Object(Ii.f)([],[If.store,Cf.store,xf.store,kf.store,Df.store,Tf.store,Pf.store,Rf.store]),[Mf.store])),[Nf.store])),[Lf.store])),[Ff.store,Uf.store]),qf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Hf=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),Bf=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},zf=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&rc(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),Gf=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Bf,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new $f(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Xf(e.target.error);n.ft.reject(new $f(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new $f(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Xu("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Jf(e)},t}(),Kf=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(Fi.l)())&&tc("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Xu("SimpleDb","Removing database:",t),Yf(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(Fi.l)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Object(Ii.b)(this,void 0,void 0,function(){var e,n=this;return Object(Ii.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Xu("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new $f(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Ju(Qu.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new $f(t,n))},i.onupgradeneeded=function(t){Xu("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Xu("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Ii.b)(this,void 0,void 0,function(){var i,o,s,a,u;return Object(Ii.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Object(Ii.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=Gf.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),zf.reject(t)}).toPromise(),u={},s.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return Xu("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Wf=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Yf(this.Pt.delete())},t}(),$f=function(t){function e(e,n){var r=this;return(r=t.call(this,Qu.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Ii.c)(e,t),e}(Ju);function Qf(t){return"IndexedDbTransactionError"===t.name}var Jf=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Xu("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Xu("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Yf(n)},t.prototype.add=function(t){return Xu("SimpleDb","ADD",this.store.name,t,t),Yf(this.store.add(t))},t.prototype.get=function(t){var e=this;return Yf(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Xu("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Xu("SimpleDb","DELETE",this.store.name,t),Yf(this.store.delete(t))},t.prototype.count=function(){return Xu("SimpleDb","COUNT",this.store.name),Yf(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){Xu("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new zf(function(n,r){e.onerror=function(t){var e=Xf(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new zf(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Wf(i),s=e(i.primaryKey,i.value,o);if(s instanceof zf){var a=s.catch(function(t){return o.done(),zf.reject(t)});n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return zf.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Yf(t){return new zf(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Xf(t.target.error);n(e)}})}var Zf=!1;function Xf(t){var e=Kf._t(Object(Fi.l)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Ju("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Zf||(Zf=!0,setTimeout(function(){throw r},0)),r}}return t}var td=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Object(Ii.c)(e,t),e}(Hf);function ed(t,e){var n=oc(t);return Kf.It(n.Mt,e)}var nd=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Xl(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&th(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&th(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(fc.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},xh())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&cc(this.mutations,t.mutations,function(t,e){return nh(t,e)})&&cc(this.baseMutations,t.baseMutations,function(t,e){return nh(t,e)})},t}(),rd=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){ic(e.mutations.length===r.length);for(var i=Ih(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),id=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=fc.min()),void 0===o&&(o=fc.min()),void 0===s&&(s=_c.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),od=function(t){this.Lt=t};function sd(t,e){if(e.document)return nf(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Nc.fromSegments(e.noDocument.path),r=hd(e.noDocument.readTime),i=Qc.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=Nc.fromSegments(e.unknownDocument.path);return r=hd(e.unknownDocument.version),Qc.newUnknownDocument(o,r)}return rc()}function ad(t,e,n){var r=ud(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:Qh(t,e.key),fields:e.data.value.mapValue.fields,updateTime:Bh(t,e.version.toTimestamp())}}(t.Lt,e),s=e.hasCommittedMutations;return new kf(null,null,o,s,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=ld(e.version);return s=e.hasCommittedMutations,new kf(null,new Af(a,u),null,s,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=ld(e.version);return new kf(new jf(c,l),null,null,!0,r,i)}return rc()}function ud(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function cd(t){var e=new hc(t[0],t[1]);return fc.fromTimestamp(e)}function ld(t){var e=t.toTimestamp();return new Ef(e.seconds,e.nanoseconds)}function hd(t){var e=new hc(t.seconds,t.nanoseconds);return fc.fromTimestamp(e)}function fd(t,e){for(var n=(e.baseMutations||[]).map(function(e){return of(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return of(t.Lt,e)}),o=hc.fromMillis(e.localWriteTimeMs);return new nd(e.batchId,o,n,i)}function dd(t){var e,n,r=hd(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?hd(t.lastLimboFreeSnapshotVersion):fc.min();return void 0!==t.query.documents?(ic(1===(n=t.query).documents.length),e=Tl(vl(Zh(n.documents[0])))):e=function(t){return Tl(uf(t))}(t.query),new id(e,t.targetId,0,t.lastListenSequenceNumber,r,i,_c.fromBase64String(t.resumeToken))}function pd(t,e){var n,r=ld(e.snapshotVersion),i=ld(e.lastLimboFreeSnapshotVersion);n=tl(e.target)?sf(t.Lt,e.target):af(t.Lt,e.target);var o=e.resumeToken.toBase64();return new Df(e.targetId,Zc(e.target),r,o,e.sequenceNumber,i,n)}function gd(t){var e=uf({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Il(e,e.limit,"L"):e}var md=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return yd(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:hd(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return yd(t).put({bundleId:(n=e).id,createTime:ld(Kh(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return vd(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:gd(e.bundledQuery),readTime:hd(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return vd(t).put(function(t){return{name:t.name,readTime:ld(Kh(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function yd(t){return ed(t,Ff.store)}function vd(t){return ed(t,Uf.store)}var bd=function(){function t(){this.Bt=new wd}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),zf.resolve()},t.prototype.getCollectionParents=function(t,e){return zf.resolve(this.Bt.getEntries(e))},t}(),wd=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new bh(yc.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new bh(yc.comparator)).toArray()},t}(),_d=function(){function t(){this.qt=new wd}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var o={collectionId:r,parent:wf(i)};return Sd(t).put(o)}return zf.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[lc(e),""],!1,!0);return Sd(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Of(o.parent))}return n})},t}();function Sd(t){return ed(t,Lf.store)}var Od={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ed=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Td(t,e,n){var r=t.store(Cf.store),i=t.store(xf.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){ic(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=xf.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return zf.waitFor(o).next(function(){return c})}function Id(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw rc();e=t.noDocument}return JSON.stringify(e).length}Ed.DEFAULT_COLLECTION_PERCENTILE=10,Ed.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ed.DEFAULT=new Ed(41943040,Ed.DEFAULT_COLLECTION_PERCENTILE,Ed.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ed.DISABLED=new Ed(-1,0,0);var Cd=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return t.Qt=function(e,n,r,i){return ic(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ad(t).$t({index:Cf.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=jd(t),s=Ad(t);return s.add({}).next(function(a){ic("number"==typeof a);for(var u=new nd(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return rf(t.Lt,e)}),i=n.mutations.map(function(e){return rf(t.Lt,e)});return new Cf(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new bh(function(t,e){return uc(t.canonicalString(),e.canonicalString())}),f=0,d=r;f<d.length;f++){var p=d[f],g=xf.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(g,xf.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Kt[a]=u.keys()}),zf.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Ad(t).get(e).next(function(t){return t?(ic(t.userId===n.userId),fd(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?zf.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Kt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Ad(t).$t({index:Cf.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(ic(e.batchId>=r),o=fd(n.R,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Ad(t).$t({index:Cf.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ad(t).Nt(Cf.userMutationsIndex,n).next(function(t){return t.map(function(t){return fd(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=xf.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return jd(t).$t({range:i},function(r,i,s){var a=r[0],u=r[2],c=Of(r[1]);if(a===n.userId&&e.path.isEqual(c))return Ad(t).get(u).next(function(t){if(!t)throw rc();ic(t.userId===n.userId),o.push(fd(n.R,t))});s.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new bh(uc),i=[];return e.forEach(function(e){var o=xf.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=jd(t).$t({range:s},function(t,i,o){var s=t[0],a=t[2],u=Of(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),zf.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=xf.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new bh(uc);return jd(t).$t({range:s},function(t,e,o){var s=t[0],u=t[2],c=Of(t[1]);s===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Ad(t).get(e).next(function(t){if(null===t)throw rc();ic(t.userId===n.userId),r.push(fd(n.R,t))}))}),zf.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return Td(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),zf.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return zf.resolve();var r=IDBKeyRange.lowerBound(xf.prefixForUser(e.userId)),i=[];return jd(t).$t({range:r},function(t,n,r){if(t[0]===e.userId){var o=Of(t[1]);i.push(o)}else r.done()}).next(function(){ic(0===i.length)})})},t.prototype.containsKey=function(t,e){return xd(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return kd(t).get(this.userId).next(function(t){return t||new If(e.userId,-1,"")})},t}();function xd(t,e,n){var r=xf.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return jd(t).$t({range:o,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function Ad(t){return ed(t,Cf.store)}function jd(t){return ed(t,xf.store)}function kd(t){return ed(t,If.store)}var Nd=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),Dd=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new Nd(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return fc.fromTimestamp(new hc(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return Rd(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return ic(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return Rd(t).$t(function(s,a){var u=dd(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))}).next(function(){return zf.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return Rd(t).$t(function(t,n){var r=dd(n);e(r)})},t.prototype.Xt=function(t){return Pd(t).get(Pf.key).next(function(t){return ic(null!==t),t})},t.prototype.Zt=function(t,e){return Pd(t).put(Pf.key,e)},t.prototype.te=function(t,e){return Rd(t).put(pd(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=Zc(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Rd(t).$t({range:r,index:Df.queryTargetsIndexName},function(t,n,r){var o=dd(n);Xc(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=Ld(t);return e.forEach(function(e){var s=wf(e.path);i.push(o.put(new Rf(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))}),zf.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Ld(t);return zf.forEach(e,function(e){var o=wf(e.path);return zf.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Ld(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Ld(t),i=xh();return r.$t({range:n,kt:!0},function(t,e,n){var r=Of(t[1]),o=new Nc(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=wf(e.path),r=IDBKeyRange.bound([n],[lc(n)],!1,!0),i=0;return Ld(t).$t({index:Rf.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return Rd(t).get(e).next(function(t){return t?dd(t):null})},t}();function Rd(t){return ed(t,Df.store)}function Pd(t){return ed(t,Pf.store)}function Ld(t){return ed(t,Rf.store)}function Md(t){return Object(Ii.b)(this,void 0,void 0,function(){return Object(Ii.d)(this,function(e){if(t.code!==Qu.FAILED_PRECONDITION||t.message!==qf)throw t;return Xu("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Fd(t,e){var n=t[1],r=e[1],i=uc(t[0],e[0]);return 0===i?uc(n,r):i}var Ud=function(){function t(t){this.ne=t,this.buffer=new bh(Fd),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Fd(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Vd=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;Xu("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(Ii.b)(e,void 0,void 0,function(){var e;return Object(Ii.d)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Qf(e=n.sent())?(Xu("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Md(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),qd=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return zf.resolve($u.o);var r=new Ud(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Xu("LruGarbageCollector","Garbage collection skipped; disabled"),zf.resolve(Od)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(Xu("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Od):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(Xu("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),Zu()<=Ui.a.DEBUG&&Xu("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),zf.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),Hd=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new qd(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return Bd(t,n)},t.prototype.removeReference=function(t,e,n){return Bd(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Bd(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return kd(t).Ot(function(r){return xd(t,r,e).next(function(t){return t&&(n=!0),zf.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,function(s,a){if(a<=e){var u=n._e(t,s).next(function(e){if(!e)return o++,r.getEntry(t,s).next(function(){return r.removeEntry(s),Ld(t).delete([0,wf(s.path)])})});i.push(u)}}).next(function(){return zf.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Bd(t,e)},t.prototype.we=function(t,e){var n,r=Ld(t),i=$u.o;return r.$t({index:Rf.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==$u.o&&e(new Nc(Of(n)),i),i=s,n=o):i=$u.o}).next(function(){i!==$u.o&&e(new Nc(Of(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Bd(t,e){return Ld(t).put(function(t,e){return new Rf(0,wf(t.path),e)}(e,t.currentSequenceNumber))}var zd=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){pc(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return gc(this.inner)},t}(),Gd=function(){function t(){this.changes=new zd(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:fc.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Qc.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?zf.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Kd=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Qd(t).put(Jd(e),n)},t.prototype.removeEntry=function(t,e){var n=Qd(t),r=Jd(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return Qd(t).get(Jd(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return Qd(t).get(Jd(e)).next(function(t){return{document:n.ye(e,t),size:Id(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=Sh();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=Sh(),i=new mh(Nc.comparator);return this.pe(t,e,function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,Id(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return zf.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Qd(t).$t({range:r},function(t,e,r){for(var s=Nc.fromSegments(t);o&&Nc.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Sh(),o=e.path.length+1,s={};if(n.isEqual(fc.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=ud(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=kf.collectionReadTimeIndex}return Qd(t).$t(s,function(t,n,s){if(t.length===o){var a=sd(r.R,n);e.path.isPrefixOf(a.key.path)?jl(e,a)&&(i=i.insert(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new Wd(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return $d(t).get(Nf.key).next(function(t){return ic(!!t),t})},t.prototype.me=function(t,e){return $d(t).put(Nf.key,e)},t.prototype.ye=function(t,e){if(e){var n=sd(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(fc.min()))return n}return Qc.newInvalidDocument(t)},t}(),Wd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new zd(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(Ii.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new bh(function(t,e){return uc(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=ad(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=Id(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=ad(e.Ie.R,Qc.newNoDocument(o,fc.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),zf.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(Gd);function $d(t){return ed(t,Nf.store)}function Qd(t){return ed(t,kf.store)}function Jd(t){return t.path.toArray()}var Yd=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;ic(n<r&&n>=0&&r<=11);var o=new Gf("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Tf.store)}(t),function(t){t.createObjectStore(If.store,{keyPath:If.keyPath}),t.createObjectStore(Cf.store,{keyPath:Cf.keyPath,autoIncrement:!0}).createIndex(Cf.userMutationsIndex,Cf.userMutationsKeyPath,{unique:!0}),t.createObjectStore(xf.store)}(t),Zd(t),function(t){t.createObjectStore(kf.store)}(t));var s=zf.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Rf.store),t.deleteObjectStore(Df.store),t.deleteObjectStore(Pf.store)}(t),Zd(t)),s=s.next(function(){return function(t){var e=t.store(Pf.store),n=new Pf(0,0,fc.min().toTimestamp(),0);return e.put(Pf.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(Cf.store).Nt().next(function(n){t.deleteObjectStore(Cf.store),t.createObjectStore(Cf.store,{keyPath:Cf.keyPath,autoIncrement:!0}).createIndex(Cf.userMutationsIndex,Cf.userMutationsKeyPath,{unique:!0});var r=e.store(Cf.store),i=n.map(function(t){return r.put(t)});return zf.waitFor(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(Mf.store,{keyPath:Mf.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.Re(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(Nf.store)}(t),i.be(o)})),n<7&&r>=7&&(s=s.next(function(){return i.ve(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Pe(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(kf.store);e.createIndex(kf.readTimeIndex,kf.readTimeIndexPath,{unique:!1}),e.createIndex(kf.collectionReadTimeIndex,kf.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Ve(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(Ff.store,{keyPath:Ff.keyPath})}(t),function(t){t.createObjectStore(Uf.store,{keyPath:Uf.keyPath})}(t)})),s},t.prototype.be=function(t){var e=0;return t.store(kf.store).$t(function(t,n){e+=Id(n)}).next(function(){var n=new Nf(e);return t.store(Nf.store).put(Nf.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(If.store),r=t.store(Cf.store);return n.Nt().next(function(n){return zf.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Cf.userMutationsIndex,i).next(function(r){return zf.forEach(r,function(r){ic(r.userId===n.userId);var i=fd(e.R,r);return Td(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(Rf.store),n=t.store(kf.store);return t.store(Pf.store).get(Pf.key).next(function(t){var r=[];return n.$t(function(n,i){var o=new yc(n),s=function(t){return[0,wf(t)]}(o);r.push(e.get(s).next(function(n){return n?zf.resolve():function(n){return e.put(new Rf(0,wf(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return zf.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(Lf.store,{keyPath:Lf.keyPath});var n=e.store(Lf.store),r=new wd,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:wf(i)})}};return e.store(kf.store).$t({kt:!0},function(t,e){var n=new yc(t);return i(n.popLast())}).next(function(){return e.store(xf.store).$t({kt:!0},function(t,e){var n=Of(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(Df.store);return n.$t(function(t,r){var i=dd(r),o=pd(e.R,i);return n.put(o)})},t}();function Zd(t){t.createObjectStore(Rf.store,{keyPath:Rf.keyPath}).createIndex(Rf.documentTargetsIndex,Rf.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Df.store,{keyPath:Df.keyPath}).createIndex(Df.queryTargetsIndexName,Df.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Pf.store)}var Xd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",tp=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Ju(Qu.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Hd(this,i),this.Le=n+"main",this.R=new od(u),this.Be=new Kf(this.Le,11,new Yd(this.R)),this.qe=new Dd(this.referenceDelegate,this.R),this.Ut=new _d,this.Ue=function(t,e){return new Kd(t,e)}(this.R,this.Ut),this.Ke=new md,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&tc("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Ju(Qu.FAILED_PRECONDITION,Xd);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new $u(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(Ii.b)(e,void 0,void 0,function(){return Object(Ii.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return Object(Ii.b)(e,void 0,void 0,function(){return Object(Ii.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Object(Ii.b)(e,void 0,void 0,function(){return Object(Ii.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return np(e).put(new Mf(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(Qf(e))return Xu("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Xu("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return ep(t).get(Tf.key).next(function(t){return zf.resolve(e.tn(t))})},t.prototype.en=function(t){return np(t).delete(this.clientId)},t.prototype.nn=function(){return Object(Ii.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(Ii.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=ed(t,Mf.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return zf.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)this.Qe.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?zf.resolve(!0):ep(t).get(Tf.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Ju(Qu.FAILED_PRECONDITION,Xd);return!1}}return!(!e.networkEnabled||!e.inForeground)||np(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Xu("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(Ii.b)(this,void 0,void 0,function(){var t=this;return Object(Ii.d)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Tf.store,Mf.store],function(e){var n=new td(e,$u.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return np(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Cd.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Xu("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",Vf,function(o){return r=new td(o,i.Ne?i.Ne.next():$u.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw tc("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new Ju(Qu.FAILED_PRECONDITION,qf);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return ep(t).get(Tf.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Ju(Qu.FAILED_PRECONDITION,Xd)})},t.prototype.Ze=function(t){var e=new Tf(this.clientId,this.allowTabSynchronization,Date.now());return ep(t).put(Tf.key,e)},t.yt=function(){return Kf.yt()},t.prototype.Xe=function(t){var e=this,n=ep(t);return n.get(Tf.key).next(function(t){return e.tn(t)?(Xu("IndexedDbPersistence","Releasing primary lease."),n.delete(Tf.key)):zf.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(tc("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return Xu("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return tc("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){tc("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function ep(t){return ed(t,Tf.store)}function np(t){return ed(t,Mf.store)}function rp(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var ip=function(t,e){this.progress=t,this.wn=e},op=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return Nc.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Ol(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new Nc(e)).next(function(t){var e=Eh();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=Eh();return this.Ut.getCollectionParents(t,i).next(function(s){return zf.forEach(s,function(s){var a=function(t,e){return new ml(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c);null==l&&(l=Qc.newInvalidDocument(c),r=r.insert(c,l)),th(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){jl(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=xh(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof oh&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),sp=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=xh(),i=xh(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),ap=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(fc.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(o){var s=i.Cn(e,o);return(bl(e)||wl(e))&&i.Nn(e.limitType,s,r,n)?i.Dn(t,e):(Zu()<=Ui.a.DEBUG&&Xu("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Al(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return s.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new bh(kl(t));return e.forEach(function(e,r){jl(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Zu()<=Ui.a.DEBUG&&Xu("QueryEngine","Using full collection scan to execute query:",Al(e)),this.Sn.getDocumentsMatchingQuery(t,e,fc.min())},t}(),up=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new mh(uc),this.kn=new zd(function(t){return Zc(t)},Xc),this.$n=fc.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new op(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function cp(t,e,n,r){return new up(t,e,n,r)}function lp(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Ii.d)(this,function(s){switch(s.label){case 0:return n=oc(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n._n.getAllMutationBatches(t).next(function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new op(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],s=xh(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return i.pn(t,s).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function hp(t,e){var n=oc(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=zf.resolve();return o.forEach(function(t){s=s.next(function(){return r.getEntry(e,t)}).next(function(e){var o=n.docVersions.get(t);ic(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),s.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function fp(t){var e=oc(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function dp(t,e){var n=oc(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var s=[];e.targetChanges.forEach(function(e,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return ic(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&s.push(n.qe.updateTargetData(t,c))}}});var a=Sh();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),s.push(pp(t,o,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(fc.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});s.push(u)}return zf.waitFor(s).next(function(){return o.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.Fn=i,t})}function pp(t,e,n,r,i){var o=xh();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=Sh();return n.forEach(function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(fc.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):Xu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function gp(t,e){var n=oc(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function mp(t,e){var n=oc(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?zf.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new id(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function yp(t,e,n){return Object(Ii.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Ii.d)(this,function(a){switch(a.label){case 0:r=oc(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Qf(s=a.sent()))throw s;return Xu("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function vp(t,e,n){var r=oc(t),i=fc.min(),o=xh();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=oc(t),i=r.kn.get(n);return void 0!==i?zf.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,Tl(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:fc.min(),n?o:xh())}).next(function(t){return{documents:t,Bn:o}})})}function bp(t,e){var n=oc(t),r=oc(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function wp(t){var e=oc(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=oc(t),i=Sh(),o=ud(n),s=Qd(e),a=IDBKeyRange.lowerBound(o,!0);return s.$t({index:kf.readTimeIndex,range:a},function(t,e){var n=sd(r.R,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{wn:i,readTime:cd(o)}})}(e.On,t,e.$n)}).then(function(t){var n=t.wn;return e.$n=t.readTime,n})}function _p(t){return Object(Ii.b)(this,void 0,void 0,function(){var e;return Object(Ii.d)(this,function(n){return[2,(e=oc(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Qd(t),n=fc.min();return e.$t({index:kf.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=cd(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.$n=t})]})})}function Sp(t,e,n,r){return Object(Ii.b)(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,f,d;return Object(Ii.d)(this,function(p){switch(p.label){case 0:for(i=oc(t),o=xh(),s=Sh(),a=Ih(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,e.Un(l)),a=a.insert(h,e.Kn(l.metadata.readTime));return f=i.On.newChangeBuffer({trackRemovals:!0}),[4,mp(i,function(t){return Tl(vl(yc.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return pp(t,f,s,fc.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next(function(){return i.qe.addMatchingKeys(t,o,d.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function Op(t,e,n){return void 0===n&&(n=xh()),Object(Ii.b)(this,void 0,void 0,function(){var r,i;return Object(Ii.d)(this,function(o){switch(o.label){case 0:return[4,mp(t,Tl(gd(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=oc(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=Kh(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(t,e);var s=r.withResumeToken(_c.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(s.targetId,s),i.qe.updateTargetData(t,s).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(t,e)})})]}})})}var Ep=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return zf.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Qn.set(e.id,{id:(n=e).id,version:n.version,createTime:Kh(n.createTime)}),zf.resolve()},t.prototype.getNamedQuery=function(t,e){return zf.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:gd(t.bundledQuery),readTime:Kh(t.readTime)}}(e)),zf.resolve()},t}(),Tp=function(){function t(){this.Wn=new bh(Ip.Gn),this.zn=new bh(Ip.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Ip(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new Ip(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new Nc(new yc([])),r=new Ip(n,t),i=new Ip(n,t+1),o=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),o.push(t.key)}),o},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new Nc(new yc([])),n=new Ip(e,t),r=new Ip(e,t+1),i=xh();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new Ip(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Ip=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return Nc.comparator(t.key,e.key)||uc(t.ns,e.ns)},t.Hn=function(t,e){return uc(t.ns,e.ns)||Nc.comparator(t.key,e.key)},t}(),Cp=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new bh(Ip.Gn)}return t.prototype.checkEmpty=function(t){return zf.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new nd(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new Ip(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return zf.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return zf.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return zf.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return zf.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return zf.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Ip(e,0),i=new Ip(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);o.push(e)}),zf.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new bh(uc);return e.forEach(function(t){var e=new Ip(t,0),i=new Ip(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),zf.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;Nc.isDocumentKey(i)||(i=i.child(""));var o=new Ip(new Nc(i),0),s=new bh(uc);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)},o),zf.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;ic(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return zf.forEach(e.mutations,function(i){var o=new Ip(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new Ip(e,0),r=this.rs.firstAfterOrEqual(n);return zf.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return zf.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),xp=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new mh(Nc.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return zf.resolve(n?n.document.clone():Qc.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Sh();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Qc.newInvalidDocument(t))}),zf.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Sh(),i=new Nc(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;c.compareTo(n)<=0||jl(e,u)&&(r=r.insert(u.key,u.clone()))}return zf.resolve(r)},t.prototype.fs=function(t,e){return zf.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new Ap(this)},t.prototype.getSize=function(t){return zf.resolve(this.size)},t}(),Ap=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(Ii.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),zf.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(Gd),jp=function(){function t(t){this.persistence=t,this.ds=new zd(function(t){return Zc(t)},Xc),this.lastRemoteSnapshotVersion=fc.min(),this.highestTargetId=0,this.ws=0,this._s=new Tp,this.targetCount=0,this.ys=Nd.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),zf.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return zf.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return zf.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),zf.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),zf.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new Nd(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,zf.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),zf.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,zf.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),zf.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return zf.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return zf.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),zf.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),zf.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),zf.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return zf.resolve(n)},t.prototype.containsKey=function(t,e){return zf.resolve(this._s.containsKey(e))},t}(),kp=function(){function t(t,e){var n=this;this.gs={},this.Ne=new $u(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new jp(this),this.Ut=new bd,this.Ue=function(t,e){return new xp(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new od(e),this.Ke=new Ep(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Cp(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;Xu("MemoryPersistence","Starting transaction:",t);var i=new Np(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return zf.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),Np=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(Ii.c)(e,t),e}(Hf),Dp=function(){function t(t){this.persistence=t,this.As=new Tp,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw rc()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),zf.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),zf.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),zf.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return zf.forEach(this.vs,function(r){var i=Nc.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return zf.or([function(){return zf.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),Rp=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function Pp(t,e){return"firestore_clients_"+t+"_"+e}function Lp(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Mp(t,e){return"firestore_targets_"+t+"_"+e}Rp.UNAUTHENTICATED=new Rp(null),Rp.GOOGLE_CREDENTIALS=new Rp("google-credentials-uid"),Rp.FIRST_PARTY=new Rp("first-party-uid");var Fp=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Ju(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(tc("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Up=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Ju(i.error.code,i.error.message)),o?new t(e,i.state,r):(tc("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Vp=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=jh(),s=0;i&&s<r.activeTargetIds.length;++s)i=kc(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(tc("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),qp=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(tc("SharedClientState","Failed to parse online state: "+e),null)},t}(),Hp=function(){function t(){this.activeTargetIds=jh()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Bp=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new mh(uc),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=Pp(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new Hp),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ks=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Ii.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,u,c,l=this;return Object(Ii.d)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(Pp(this.persistenceKey,r)))&&(o=Vp.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Qs(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.$s;u<c.length;u++)this.Fs(c[u]);return this.$s=[],this.window.addEventListener("pagehide",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Mp(this.persistenceKey,t));if(n){var r=Up.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Mp(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Xu("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Xu("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Xu("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Xu("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void tc("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Object(Ii.b)(e,void 0,void 0,function(){var t,e,r,i,o,s;return Object(Ii.d)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=$u.o;if(null!=t)try{var n=JSON.parse(t);ic("number"==typeof n),e=n}catch(t){tc("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==$u.o&&this.sequenceNumberHandler(s);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new Fp(this.currentUser,t,e,n),i=Lp(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=Lp(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=Mp(this.persistenceKey,t),i=new Up(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return Vp.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return Fp.Vs(new Rp(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return Up.Vs(r,e)},t.prototype.js=function(t){return qp.Vs(t)},t.prototype.ii=function(t){return Object(Ii.b)(this,void 0,void 0,function(){return Object(Ii.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Xu("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.syncEngine.hi(s,a).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=jh();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),zp=function(){function t(){this.li=new Hp,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new Hp,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),Gp=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),Kp=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Xu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){Xu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Wp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},$p=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Qp=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return Object(Ii.c)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,o){var s=new Wu;s.listenOnce(Bu.COMPLETE,function(){try{switch(s.getLastErrorCode()){case Hu.NO_ERROR:var e=s.getResponseJson();Xu("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Hu.TIMEOUT:Xu("Connection",'RPC "'+t+'" timed out'),o(new Ju(Qu.DEADLINE_EXCEEDED,"Request time out"));break;case Hu.HTTP_ERROR:var n=s.getStatus();if(Xu("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Qu).indexOf(e)>=0?e:Qu.UNKNOWN}(r.status);o(new Ju(a,r.message))}else o(new Ju(Qu.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Ju(Qu.UNAVAILABLE,"Connection failed."));break;default:rc()}}finally{Xu("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Mu,i=ks(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Gu({})),this.Fi(o.initMessageHeaders,e),Object(Fi.r)()||Object(Fi.t)()||Object(Fi.o)()||Object(Fi.p)()||Object(Fi.u)()||Object(Fi.n)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Xu("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new $p({Ei:function(t){c?Xu("Connection","Not sending because WebChannel is closed:",t):(u||(Xu("Connection","Opening WebChannel transport."),a.open(),u=!0),Xu("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,Ku.EventType.OPEN,function(){c||Xu("Connection","WebChannel transport opened.")}),h(a,Ku.EventType.CLOSE,function(){c||(c=!0,Xu("Connection","WebChannel transport closed"),l.Vi())}),h(a,Ku.EventType.ERROR,function(t){c||(c=!0,ec("Connection","WebChannel transport errored:",t),l.Vi(new Ju(Qu.UNAVAILABLE,"The operation could not be completed")))}),h(a,Ku.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];ic(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Xu("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=ch[t];if(void 0!==e)return gh(e)}(i),s=r.message;void 0===o&&(o=Qu.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new Ju(o,s)),a.close()}else Xu("Connection","WebChannel received:",n),l.Si(n)}}),h(i,zu.STAT_EVENT,function(t){10===t.stat?Xu("Connection","Detected buffering proxy"):11===t.stat&&Xu("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);Xu("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then(function(t){return Xu("RestConnection","Received: ",t),t},function(e){throw ec("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.7.0",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+Wp[t]},t}());function Jp(){return"undefined"!=typeof window?window:null}function Yp(){return"undefined"!=typeof document?document:null}function Zp(t){return new Hh(t,!0)}var Xp=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&Xu("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),tg=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Xp(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(Ii.b)(this,void 0,void 0,function(){return Object(Ii.d)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(Ii.b)(this,void 0,void 0,function(){return Object(Ii.d)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(Ii.b)(this,void 0,void 0,function(){return Object(Ii.d)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Qu.RESOURCE_EXHAUSTED?(tc(e.toString()),tc("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===Qu.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new Ju(Qu.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Object(Ii.b)(t,void 0,void 0,function(){return Object(Ii.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return Xu("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(Xu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),eg=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return Object(Ii.c)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:rc()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(ic(void 0===e||"string"==typeof e),_c.fromBase64String(e||"")):(ic(void 0===e||e instanceof Uint8Array),_c.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Qu.UNKNOWN:gh(t.code);return new Ju(e,t.message||"")}(a);n=new Ph(r,i,o,s||null)}else if("documentChange"in e){i=Jh(t,(r=e.documentChange).document.name),o=Kh(r.document.updateTime);var a=new Wc({mapValue:{fields:r.document.fields}}),u=(s=Qc.newFoundDocument(i,o,a),r.targetIds||[]);n=new Dh(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=Jh(t,(r=e.documentDelete).document),o=r.readTime?Kh(r.readTime):fc.min(),a=Qc.newNoDocument(i,o),n=new Dh([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Jh(t,(r=e.documentRemove).document),n=new Dh([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return rc();var c=e.filter;i=new dh(r=c.count||0),n=new Rh(o=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return fc.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?fc.min():e.readTime?Kh(e.readTime):fc.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Xh(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=tl(r)?{documents:sf(t,r)}:{query:af(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=zh(t,e.resumeToken):e.snapshotVersion.compareTo(fc.min())>0&&(n.readTime=Bh(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return rc()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Xh(this.R),e.removeTarget=t,this.cr(e)},e}(tg),ng=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return Object(Ii.c)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(ic(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(ic(void 0!==e),t.map(function(t){return function(t,e){var n=Kh(t.updateTime?t.updateTime:e);return n.isEqual(fc.min())&&(n=Kh(e)),new Ql(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=Kh(t.commitTime);return this.listener.Tr(n,e)}return ic(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Xh(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return rf(e.R,t)})};this.cr(n)},e}(tg),rg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(Ii.c)(e,t),e.prototype.br=function(){if(this.Rr)throw new Ju(Qu.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Qu.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Ju(Qu.UNKNOWN,t.toString())})},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.$i(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Qu.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Ju(Qu.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),ig=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(tc(e),this.Vr=!1):Xu("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),og=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return Object(Ii.b)(o,void 0,void 0,function(){return Object(Ii.d)(this,function(t){switch(t.label){case 0:return pg(this)?(Xu("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Ii.b)(this,void 0,void 0,function(){var e;return Object(Ii.d)(this,function(n){switch(n.label){case 0:return(e=oc(t)).Or.add(4),[4,ag(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,sg(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new ig(n,r)};function sg(t){return Object(Ii.b)(this,void 0,void 0,function(){var e,n;return Object(Ii.d)(this,function(r){switch(r.label){case 0:if(!pg(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function ag(t){return Object(Ii.b)(this,void 0,void 0,function(){var e,n;return Object(Ii.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function ug(t,e){var n=oc(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),dg(n)?fg(n):Ag(n).er()&&lg(n,e))}function cg(t,e){var n=oc(t),r=Ag(n);n.$r.delete(e),r.er()&&hg(n,e),0===n.$r.size&&(r.er()?r.ir():pg(n)&&n.Br.set("Unknown"))}function lg(t,e){t.qr.U(e.targetId),Ag(t).mr(e)}function hg(t,e){t.qr.U(e),Ag(t).yr(e)}function fg(t){t.qr=new Mh({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),Ag(t).start(),t.Br.Sr()}function dg(t){return pg(t)&&!Ag(t).tr()&&t.$r.size>0}function pg(t){return 0===oc(t).Or.size}function gg(t){t.qr=void 0}function mg(t){return Object(Ii.b)(this,void 0,void 0,function(){return Object(Ii.d)(this,function(e){return t.$r.forEach(function(e,n){lg(t,e)}),[2]})})}function yg(t,e){return Object(Ii.b)(this,void 0,void 0,function(){return Object(Ii.d)(this,function(n){return gg(t),dg(t)?(t.Br.Nr(e),fg(t)):t.Br.set("Unknown"),[2]})})}function vg(t,e,n){return Object(Ii.b)(this,void 0,void 0,function(){var r,i,o;return Object(Ii.d)(this,function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof Ph&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Ii.d)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.$r.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.$r.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Xu("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,bg(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Dh?t.qr.X(e):e instanceof Rh?t.qr.rt(e):t.qr.et(e),n.isEqual(fc.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,fp(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(_c.EMPTY_BYTE_STRING,n.snapshotVersion)),hg(t,e);var r=new id(n.target,e,1,n.sequenceNumber);lg(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Xu("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,bg(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function bg(t,e,n){return Object(Ii.b)(this,void 0,void 0,function(){var r=this;return Object(Ii.d)(this,function(i){switch(i.label){case 0:if(!Qf(e))throw e;return t.Or.add(1),[4,ag(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return fp(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(Ii.b)(r,void 0,void 0,function(){return Object(Ii.d)(this,function(e){switch(e.label){case 0:return Xu("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,sg(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function wg(t,e){return e().catch(function(n){return bg(t,n,e)})}function _g(t){return Object(Ii.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(Ii.d)(this,function(s){switch(s.label){case 0:e=oc(t),n=jg(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return pg(t)&&t.kr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,gp(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=jg(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,bg(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return Sg(e)&&Og(e),[2]}})})}function Sg(t){return pg(t)&&!jg(t).tr()&&t.kr.length>0}function Og(t){jg(t).start()}function Eg(t){return Object(Ii.b)(this,void 0,void 0,function(){return Object(Ii.d)(this,function(e){return jg(t).Ar(),[2]})})}function Tg(t){return Object(Ii.b)(this,void 0,void 0,function(){var e,n,r;return Object(Ii.d)(this,function(i){for(e=jg(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function Ig(t,e,n){return Object(Ii.b)(this,void 0,void 0,function(){var r,i;return Object(Ii.d)(this,function(o){switch(o.label){case 0:return r=t.kr.shift(),i=rd.from(r,e,n),[4,wg(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,_g(t)];case 2:return o.sent(),[2]}})})}function Cg(t,e){return Object(Ii.b)(this,void 0,void 0,function(){return Object(Ii.d)(this,function(n){switch(n.label){case 0:return e&&jg(t).pr?[4,function(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r;return Object(Ii.d)(this,function(i){switch(i.label){case 0:return ph(r=e.code)&&r!==Qu.ABORTED?(n=t.kr.shift(),jg(t).sr(),[4,wg(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,_g(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Sg(t)&&Og(t),[2]}})})}function xg(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n;return Object(Ii.d)(this,function(r){switch(r.label){case 0:return n=oc(t),e?(n.Or.delete(2),[4,sg(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,ag(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Ag(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=oc(t);return r.br(),new eg(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:mg.bind(null,t),Ri:yg.bind(null,t),_r:vg.bind(null,t)}),t.Mr.push(function(n){return Object(Ii.b)(e,void 0,void 0,function(){return Object(Ii.d)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),dg(t)?fg(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),gg(t),e.label=3;case 3:return[2]}})})})),t.Ur}function jg(t){var e=this;return t.Kr||(t.Kr=function(t,e,n){var r=oc(t);return r.br(),new ng(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Eg.bind(null,t),Ri:Cg.bind(null,t),Ir:Tg.bind(null,t),Tr:Ig.bind(null,t)}),t.Mr.push(function(n){return Object(Ii.b)(e,void 0,void 0,function(){return Object(Ii.d)(this,function(e){switch(e.label){case 0:return n?(t.Kr.sr(),[4,_g(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:e.sent(),t.kr.length>0&&(Xu("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Kr}var kg=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Bf,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ju(Qu.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Ng(t,e){if(tc("AsyncQueue",e+": "+t),Qf(t))return new Ju(Qu.UNAVAILABLE,e+": "+t);throw t}var Dg=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||Nc.comparator(e.key,n.key)}:function(t,e){return Nc.comparator(t.key,e.key)},this.keyedMap=Eh(),this.sortedSet=new mh(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Rg=function(){function t(){this.Qr=new mh(Nc.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):rc():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),Pg=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,Dg.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Cl(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Lg=function(){this.Wr=void 0,this.listeners=[]},Mg=function(){this.queries=new zd(function(t){return xl(t)},Cl),this.onlineState="Unknown",this.Gr=new Set};function Fg(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(Ii.d)(this,function(c){switch(c.label){case 0:if(n=oc(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new Lg),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=Ng(a,"Initialization of query '"+Al(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&Hg(n),[2]}})})}function Ug(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Ii.d)(this,function(a){return n=oc(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function Vg(t,e){for(var n=oc(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(s)&&(r=!0);a.Wr=s}}r&&Hg(n)}function qg(t,e,n){var r=oc(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Hg(t){t.Gr.forEach(function(t){t.next()})}var Bg=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Pg(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=Pg.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),zg=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),Gg=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Jh(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?nf(this.R,t.document,!1):Qc.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},t.prototype.Kn=function(t){return Kh(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new Gg(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||xh()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(Ii.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(Ii.d)(this,function(o){switch(o.label){case 0:return[4,Sp(this.localStore,new Gg(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,Op(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new ip(Object.assign({},this.progress),t))]}})})}}();var Kg=function(t){this.key=t},Wg=function(t){this.key=t},$g=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=xh(),this.mutatedKeys=xh(),this.lo=kl(t),this.fo=new Dg(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new Rg,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=bl(this.query)&&i.size===this.query.limit?i.last():null,c=wl(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=jl(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),bl(this.query)||wl(this.query))for(;s.size>this.query.limit;){var l=bl(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rc()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new Pg(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Rg,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=xh(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new Wg(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new Kg(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=xh();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return Pg.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Qg=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Jg=function(t){this.key=t,this.bo=!1},Yg=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new zd(function(t){return xl(t)},Cl),this.Vo=new Map,this.So=new Set,this.Do=new mh(Nc.comparator),this.Co=new Map,this.No=new Tp,this.xo={},this.Fo=new Map,this.ko=Nd.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function Zg(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Ii.d)(this,function(a){switch(a.label){case 0:return n=Cm(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,mp(n.localStore,Tl(e))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,Xg(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.isPrimaryClient&&ug(n.remoteStore,o),a.label=4;case 4:return[2,r]}})})}function Xg(t,e,n,r){return Object(Ii.b)(this,void 0,void 0,function(){var i,o,s,a,u,c;return Object(Ii.d)(this,function(l){switch(l.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return Object(Ii.b)(this,void 0,void 0,function(){var i,o,s;return Object(Ii.d)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,vp(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(fm(t,e.targetId,s.To),s.snapshot)]}})})}(t,e,n,r)},[4,vp(t.localStore,e,!0)];case 1:return i=l.sent(),o=new $g(e,i.Bn),s=o._o(i.documents),a=Nh.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),fm(t,n,u.To),c=new Qg(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function tm(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r,i;return Object(Ii.d)(this,function(o){switch(o.label){case 0:return n=oc(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!Cl(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,yp(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),cg(n.remoteStore,r.targetId),lm(n,r.targetId)}).catch(Md)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return lm(n,r.targetId),[4,yp(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function em(t,e,n){return Object(Ii.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Ii.d)(this,function(a){switch(a.label){case 0:r=xm(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=oc(t),i=hc.now(),o=e.reduce(function(t,e){return t.add(e.key)},xh());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=eh(c,n.get(c.key));null!=l&&s.push(new oh(c.key,l,$c(l.value.mapValue),Jl.exists(!0)))}return r._n.addMutationBatch(t,i,s,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new mh(uc)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,gm(r,i.changes)];case 3:return a.sent(),[4,_g(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=Ng(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function nm(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r;return Object(Ii.d)(this,function(i){switch(i.label){case 0:n=oc(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,dp(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(ic(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?ic(r.bo):t.removedDocuments.size>0&&(ic(r.bo),r.bo=!1))}),[4,gm(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Md(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function rm(t,e,n){var r=oc(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=oc(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)}),r&&Hg(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function im(t,e,n){return Object(Ii.b)(this,void 0,void 0,function(){var r,i,o,s,a,u;return Object(Ii.d)(this,function(c){switch(c.label){case 0:return(r=oc(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new mh(Nc.comparator)).insert(o,Qc.newNoDocument(o,fc.min())),a=xh().add(o),u=new kh(fc.min(),new Map,new bh(uc),s,a),[4,nm(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),pm(r),[3,4];case 2:return[4,yp(r.localStore,e,!1).then(function(){return lm(r,e,n)}).catch(Md)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function om(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r,i;return Object(Ii.d)(this,function(o){switch(o.label){case 0:n=oc(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,hp(n.localStore,e)];case 2:return i=o.sent(),cm(n,r,null),um(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,gm(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Md(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function sm(t,e,n){return Object(Ii.b)(this,void 0,void 0,function(){var r,i;return Object(Ii.d)(this,function(o){switch(o.label){case 0:r=oc(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=oc(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return ic(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=o.sent(),cm(r,e,n),um(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,gm(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Md(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function am(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Ii.d)(this,function(a){switch(a.label){case 0:pg((n=oc(t)).remoteStore)||Xu("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=oc(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=a.sent(),s=Ng(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function um(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function cm(t,e,n){var r=oc(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function lm(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||hm(t,e)})}function hm(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(cg(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),pm(t))}function fm(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Kg?(t.No.addReference(o.key,e),dm(t,o)):o instanceof Wg?(Xu("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||hm(t,o.key)):rc()}}function dm(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Xu("SyncEngine","New document in limbo: "+n),t.So.add(r),pm(t))}function pm(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new Nc(yc.fromString(e)),r=t.ko.next();t.Co.set(r,new Jg(n)),t.Do=t.Do.insert(n,r),ug(t.remoteStore,new id(Tl(vl(n.path)),r,2,$u.o))}}function gm(t,e,n){return Object(Ii.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Ii.d)(this,function(a){switch(a.label){case 0:return r=oc(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){s.push(r.Oo(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=sp.Pn(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return Object(Ii.d)(this,function(l){switch(l.label){case 0:n=oc(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return zf.forEach(e,function(e){return zf.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return zf.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Qf(r=l.sent()))throw r;return Xu("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.Fn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(a,c));return[2]}})})}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function mm(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r;return Object(Ii.d)(this,function(i){switch(i.label){case 0:return(n=oc(t)).currentUser.isEqual(e)?[3,3]:(Xu("SyncEngine","User change. New user:",e.toKey()),[4,lp(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new Ju(Qu.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,gm(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function ym(t,e){var n=oc(t),r=n.Co.get(e);if(r&&r.bo)return xh().add(r.key);var i=xh(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Po.get(a[s]);i=i.unionWith(u.view.wo)}return i}function vm(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r,i;return Object(Ii.d)(this,function(o){switch(o.label){case 0:return[4,vp((n=oc(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&fm(n,e.targetId,i.To),i)]}})})}function bm(t){return Object(Ii.b)(this,void 0,void 0,function(){var e;return Object(Ii.d)(this,function(n){return[2,wp((e=oc(t)).localStore).then(function(t){return gm(e,t)})]})})}function wm(t,e,n,r){return Object(Ii.b)(this,void 0,void 0,function(){var i,o;return Object(Ii.d)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=oc(t),r=oc(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):zf.resolve(null)})})}((i=oc(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,_g(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(cm(i,e,r||null),um(i,e),function(t,e){oc(oc(t)._n).Gt(e)}(i.localStore,e)):rc(),s.label=4;case 4:return[4,gm(i,o)];case 5:return s.sent(),[3,7];case 6:Xu("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function _m(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(Ii.d)(this,function(c){switch(c.label){case 0:return Cm(n=oc(t)),xm(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Sm(n,r.toArray())]);case 1:return i=c.sent(),n.$o=!0,[4,xg(n.remoteStore,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)ug(n.remoteStore,s[o]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then(function(){return lm(n,e),yp(n.localStore,e,!0)}),cg(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,Sm(n,a)];case 5:return c.sent(),function(t){var e=oc(t);e.Co.forEach(function(t,n){cg(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new mh(Nc.comparator)}(n),n.$o=!1,[4,xg(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function Sm(t,e,n){return Object(Ii.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,h,f,d,p;return Object(Ii.d)(this,function(g){switch(g.label){case 0:n=oc(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Vo.get(a=s[o]))&&0!==c.length?[4,mp(n.localStore,Tl(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Po.get(h[l]),[4,vm(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,bp(n.localStore,a)];case 8:return p=g.sent(),[4,mp(n.localStore,p)];case 9:return u=g.sent(),[4,Xg(n,Om(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function Om(t){return yl(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Em(t){var e=oc(t);return oc(oc(e.localStore).persistence).fn()}function Tm(t,e,n,r){return Object(Ii.b)(this,void 0,void 0,function(){var i,o,s;return Object(Ii.d)(this,function(a){switch(a.label){case 0:return(i=oc(t)).$o?(Xu("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,wp(i.localStore)];case 3:return o=a.sent(),s=kh.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,gm(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,yp(i.localStore,e,!0)];case 6:return a.sent(),lm(i,e,r),[3,8];case 7:rc(),a.label=8;case 8:return[2]}})})}function Im(t,e,n){return Object(Ii.b)(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h;return Object(Ii.d)(this,function(f){switch(f.label){case 0:if(!(r=Cm(t)).$o)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Vo.has(s=o[i])?(Xu("SyncEngine","Adding an already active target "+s),[3,5]):[4,bp(r.localStore,s)]:[3,6];case 2:return a=f.sent(),[4,mp(r.localStore,a)];case 3:return u=f.sent(),[4,Xg(r,Om(a),u.targetId,!1)];case 4:f.sent(),ug(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(Ii.d)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,yp(r.localStore,t,!1).then(function(){cg(r.remoteStore,t),lm(r,t)}).catch(Md)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Cm(t){var e=oc(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=nm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ym.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=im.bind(null,e),e.vo._r=Vg.bind(null,e.eventManager),e.vo.Mo=qg.bind(null,e.eventManager),e}function xm(t){var e=oc(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=om.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sm.bind(null,e),e}var Am=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Ii.b)(this,void 0,void 0,function(){return Object(Ii.d)(this,function(e){switch(e.label){case 0:return this.R=Zp(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){return cp(this.persistence,new ap,t.initialUser,this.R)},t.prototype.qo=function(t){return new kp(Dp.bs,this.R)},t.prototype.Bo=function(t){return new zp},t.prototype.terminate=function(){return Object(Ii.b)(this,void 0,void 0,function(){return Object(Ii.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),jm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Ii.c)(e,t),e.prototype.initialize=function(e){return Object(Ii.b)(this,void 0,void 0,function(){return Object(Ii.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,_p(this.localStore)];case 2:return n.sent(),[4,this.Qo.initialize(this,e)];case 3:return n.sent(),[4,xm(this.Qo.syncEngine)];case 4:return n.sent(),[4,_g(this.Qo.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Ko=function(t){return cp(this.persistence,new ap,t.initialUser,this.R)},e.prototype.Uo=function(t){return new Vd(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=rp(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Ed.withCacheSize(this.cacheSizeBytes):Ed.DEFAULT;return new tp(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Jp(),Yp(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new zp},e}(Am),km=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Qo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Ii.c)(e,t),e.prototype.initialize=function(e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r=this;return Object(Ii.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof Bp?(this.sharedClientState.syncEngine={ui:wm.bind(null,n),ai:Tm.bind(null,n),hi:Im.bind(null,n),fn:Em.bind(null,n),ci:bm.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return Object(Ii.b)(r,void 0,void 0,function(){return Object(Ii.d)(this,function(e){switch(e.label){case 0:return[4,_m(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=Jp();if(!Bp.yt(e))throw new Ju(Qu.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=rp(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Bp(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(jm),Nm=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n=this;return Object(Ii.d)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return rm(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=mm.bind(null,this.syncEngine),[4,xg(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new Mg},t.prototype.createDatastore=function(t){var e=Zp(t.databaseInfo.databaseId),n=new Qp(t.databaseInfo);return function(t,e,n){return new rg(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return rm(s.syncEngine,t,0)},o=Kp.yt()?new Kp:new Gp,new og(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new Yg(t,e,n,r,i,o);return s&&(a.$o=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(Ii.b)(this,void 0,void 0,function(){var e;return Object(Ii.d)(this,function(n){switch(n.label){case 0:return e=oc(t),Xu("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,ag(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),Dm=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Rm=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new Bf,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(Ii.b)(this,void 0,void 0,function(){return Object(Ii.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return Object(Ii.b)(this,void 0,void 0,function(){return Object(Ii.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return Object(Ii.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(Ii.d)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new zg(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return Object(Ii.b)(this,void 0,void 0,function(){var t,e;return Object(Ii.d)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return Object(Ii.b)(this,void 0,void 0,function(){var e;return Object(Ii.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(Ii.b)(this,void 0,void 0,function(){var t,e;return Object(Ii.d)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(Ii.b)(this,void 0,void 0,function(){var e,n=this;return Object(Ii.d)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Ju(Qu.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r,i,o,s,a;return Object(Ii.d)(this,function(u){switch(u.label){case 0:return n=oc(t),r=Xh(n.R)+"/documents",i={documents:e.map(function(t){return Qh(n.R,t)})},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){ic(!!e.found);var n=Jh(t,e.found.name),r=Kh(e.found.updateTime),i=new Wc({mapValue:{fields:e.found.fields}});return Qc.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){ic(!!e.missing),ic(!!e.readTime);var n=Jh(t,e.missing),r=Kh(e.readTime);return Qc.newNoDocument(n,r)}(t,e):rc()}(n.R,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());ic(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new hh(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(Ii.b)(this,void 0,void 0,function(){var t,e=this;return Object(Ii.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Nc.fromPath(n);e.mutations.push(new fh(r,e.precondition(r)))}),[4,function(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r,i;return Object(Ii.d)(this,function(o){switch(o.label){case 0:return n=oc(t),r=Xh(n.R)+"/documents",i={writes:e.map(function(t){return rf(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw rc();e=fc.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Ju(Qu.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Jl.updateTime(e):Jl.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(fc.min()))throw new Ju(Qu.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Jl.updateTime(e)}return Jl.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),Pm=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Xp(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Object(Ii.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(Ii.d)(this,function(r){return t=new Rm(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Ac(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!ph(e)}return!1},t}(),Lm=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Rp.UNAUTHENTICATED,this.clientId=ac.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(t){return Object(Ii.b)(r,void 0,void 0,function(){return Object(Ii.d)(this,function(e){switch(e.label){case 0:return Xu("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}})})})}return t.prototype.getConfiguration=function(){return Object(Ii.b)(this,void 0,void 0,function(){return Object(Ii.d)(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Ju(Qu.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Bf;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(Ii.b)(t,void 0,void 0,function(){var t,n;return Object(Ii.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Ng(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Mm(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(Ii.d)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Xu("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(t){return Object(Ii.b)(i,void 0,void 0,function(){return Object(Ii.d)(this,function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,lp(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function Fm(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r;return Object(Ii.d)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Um(t)];case 1:return n=i.sent(),Xu("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(t){return function(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r;return Object(Ii.d)(this,function(i){switch(i.label){case 0:return(n=oc(t)).asyncQueue.verifyOperationInProgress(),Xu("RemoteStore","RemoteStore received new credentials"),r=pg(n),n.Or.add(3),[4,ag(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,sg(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,t)}),t.onlineComponents=e,[2]}})})}function Um(t){return Object(Ii.b)(this,void 0,void 0,function(){return Object(Ii.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Xu("FirestoreClient","Using default OfflineComponentProvider"),[4,Mm(t,new Am)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function Vm(t){return Object(Ii.b)(this,void 0,void 0,function(){return Object(Ii.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Xu("FirestoreClient","Using default OnlineComponentProvider"),[4,Fm(t,new Nm)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function qm(t){return Um(t).then(function(t){return t.persistence})}function Hm(t){return Um(t).then(function(t){return t.localStore})}function Bm(t){return Vm(t).then(function(t){return t.remoteStore})}function zm(t){return Vm(t).then(function(t){return t.syncEngine})}function Gm(t){return Object(Ii.b)(this,void 0,void 0,function(){var e,n;return Object(Ii.d)(this,function(r){switch(r.label){case 0:return[4,Vm(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Zg.bind(null,e.syncEngine),n.onUnlisten=tm.bind(null,e.syncEngine),n)]}})})}function Km(t,e,n){var r=this;void 0===n&&(n={});var i=new Bf;return t.asyncQueue.enqueueAndForget(function(){return Object(Ii.b)(r,void 0,void 0,function(){var r;return Object(Ii.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Dm({next:function(o){e.enqueueAndForget(function(){return Ug(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new Ju(Qu.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Ju(Qu.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Bg(vl(n.path),o,{includeMetadataChanges:!0,so:!0});return Fg(t,s)},[4,Gm(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function Wm(t,e,n){var r=this;void 0===n&&(n={});var i=new Bf;return t.asyncQueue.enqueueAndForget(function(){return Object(Ii.b)(r,void 0,void 0,function(){var r;return Object(Ii.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Dm({next:function(n){e.enqueueAndForget(function(){return Ug(t,s)}),n.fromCache&&"server"===r.source?i.reject(new Ju(Qu.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Bg(n,o,{includeMetadataChanges:!0,so:!0});return Fg(t,s)},[4,Gm(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var $m=function(t,e,n,r,i,o,s,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a},Qm=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Jm=new Map,Ym=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Zm=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(Rp.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Xm=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable(function(){return e(n.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),ty=function(){function t(t){var e=this;this.currentUser=Rp.UNAUTHENTICATED,this.oc=new Bf,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var n=function(t){Xu("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit(function(t){return n(t)}),setTimeout(function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(Xu("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}},0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(Xu("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(ic("string"==typeof n.accessToken),new Ym(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return Object(Ii.b)(n,void 0,void 0,function(){return Object(Ii.d)(this,function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return ic(null===t||"string"==typeof t),new Rp(t)},t}(),ey=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=Rp.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),ny=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new ey(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(Rp.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function ry(t,e,n){if(!n)throw new Ju(Qu.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function iy(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ju(Qu.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function oy(t,e,n,r){if(!0===e&&!0===r)throw new Ju(Qu.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function sy(t){if(!Nc.isDocumentKey(t))throw new Ju(Qu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function ay(t){if(Nc.isDocumentKey(t))throw new Ju(Qu.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function uy(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":rc()}function cy(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ju(Qu.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=uy(t);throw new Ju(Qu.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function ly(t,e){if(e<=0)throw new Ju(Qu.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var hy=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ju(Qu.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ju(Qu.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,oy("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),fy=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hy({}),this._settingsFrozen=!1,t instanceof Qm?(this._databaseId=t,this._credentials=new Zm):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Ju(Qu.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qm(t.options.projectId)}(t),this._credentials=new ty(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Ju(Qu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Ju(Qu.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hy(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Zm;switch(t.type){case"gapi":var e=t.client;return ic(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new ny(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ju(Qu.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Jm.get(this))&&(Xu("ComponentProvider","Removing Datastore"),Jm.delete(this),t.terminate()),Promise.resolve();var t},t}(),dy=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new gy(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),py=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),gy=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,vl(r))||this)._path=r,i.type="collection",i}return Object(Ii.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new dy(this.firestore,null,new Nc(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(py);function my(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(Fi.k)(t),ry("collection","path",e),t instanceof fy)return ay(n=yc.fromString.apply(yc,Object(Ii.f)([e],r))),new gy(t,null,n);if(!(t instanceof dy||t instanceof gy))throw new Ju(Qu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ay(n=yc.fromString.apply(yc,Object(Ii.f)([t.path],r)).child(yc.fromString(e))),new gy(t.firestore,null,n)}function yy(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(Fi.k)(t),1===arguments.length&&(e=ac.u()),ry("doc","path",e),t instanceof fy)return sy(n=yc.fromString.apply(yc,Object(Ii.f)([e],r))),new dy(t,null,new Nc(n));if(!(t instanceof dy||t instanceof gy))throw new Ju(Qu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return sy(n=t._path.child(yc.fromString.apply(yc,Object(Ii.f)([e],r)))),new dy(t.firestore,t instanceof gy?t.converter:null,new Nc(n))}function vy(t,e){return t=Object(Fi.k)(t),e=Object(Fi.k)(e),(t instanceof dy||t instanceof gy)&&(e instanceof dy||e instanceof gy)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function by(t,e){return t=Object(Fi.k)(t),e=Object(Fi.k)(e),t instanceof py&&e instanceof py&&t.firestore===e.firestore&&Cl(t._query,e._query)&&t.converter===e.converter}var wy=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=[],this.Zi=new Xp(this,"async_queue_retry"),this.Tc=function(){var e=Yp();e&&Xu("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Yp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Tc)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ic(),this.Ac(t)},t.prototype.enterRestrictedMode=function(){if(!this._c){this._c=!0;var t=Yp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Tc)}},t.prototype.enqueue=function(t){return this.Ic(),this._c?new Promise(function(t){}):this.Ac(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.wc.push(t),e.Rc()})},t.prototype.Rc=function(){return Object(Ii.b)(this,void 0,void 0,function(){var t,e=this;return Object(Ii.d)(this,function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Qf(t=n.sent()))throw t;return Xu("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return e.Rc()}),n.label=5;case 5:return[2]}})})},t.prototype.Ac=function(t){var e=this,n=this.dc.then(function(){return e.gc=!0,t().catch(function(t){throw e.yc=t,e.gc=!1,tc("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.gc=!1,t})});return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ic(),this.Ec.indexOf(t)>-1&&(e=0);var i=kg.createAndSchedule(this,t,e,n,function(t){return r.bc(t)});return this.mc.push(i),i},t.prototype.Ic=function(){this.yc&&rc()},t.prototype.verifyOperationInProgress=function(){},t.prototype.vc=function(){return Object(Ii.b)(this,void 0,void 0,function(){var t;return Object(Ii.d)(this,function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Pc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Vc=function(t){var e=this;return this.vc().then(function(){e.mc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.vc()})},t.prototype.Sc=function(t){this.Ec.push(t)},t.prototype.bc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function _y(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Bf,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var Sy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new wy,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(Ii.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||Ey(this),this._firestoreClient.terminate()},e}(fy);function Oy(t){return t._firestoreClient||Ey(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Ey(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new $m(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Lm(t._credentials,t._queue,r)}function Ty(t,e,n){var r=this,i=new Bf;return t.asyncQueue.enqueue(function(){return Object(Ii.b)(r,void 0,void 0,function(){var r;return Object(Ii.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Mm(t,n)];case 1:return o.sent(),[4,Fm(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Qu.FAILED_PRECONDITION||t.code===Qu.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Iy(t){if(t._initialized||t._terminated)throw new Ju(Qu.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Cy=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Ju(Qu.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bc(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),xy=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(_c.fromBase64String(e))}catch(e){throw new Ju(Qu.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(_c.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Ay=function(t){this._methodName=t},jy=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ju(Qu.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ju(Qu.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return uc(this._lat,t._lat)||uc(this._long,t._long)},t}(),ky=/^__.*__$/,Ny=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new oh(t,this.data,this.fieldMask,e,this.fieldTransforms):new ih(t,this.data,e,this.fieldTransforms)},t}(),Dy=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new oh(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function Ry(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rc()}}var Py=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Dc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Cc",{get:function(){return this.settings.Cc},enumerable:!1,configurable:!0}),t.prototype.Nc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.xc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Nc({path:n,Fc:!1});return r.kc(t),r},t.prototype.$c=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Nc({path:n,Fc:!1});return r.Dc(),r},t.prototype.Oc=function(t){return this.Nc({path:void 0,Fc:!0})},t.prototype.Mc=function(t){return ev(t,this.settings.methodName,this.settings.Lc||!1,this.path,this.settings.Bc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Dc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.kc(this.path.get(t))},t.prototype.kc=function(t){if(0===t.length)throw this.Mc("Document fields must not be empty");if(Ry(this.Cc)&&ky.test(t))throw this.Mc('Document fields cannot begin and end with "__"')},t}(),Ly=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Zp(t)}return t.prototype.qc=function(t,e,n,r){return void 0===r&&(r=!1),new Py({Cc:t,methodName:e,Bc:n,path:bc.emptyPath(),Fc:!1,Lc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function My(t){var e=t._freezeSettings(),n=Zp(t._databaseId);return new Ly(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Fy(t,e,n,r,i,o){void 0===o&&(o={});var s=t.qc(o.merge||o.mergeFields?2:0,e,n,i);Yy("Data must be an object, but it was:",s,r);var a,u,c=Qy(r,s);if(o.merge)a=new wc(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Zy(e,f[h],n);if(!s.contains(d))throw new Ju(Qu.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");nv(l,d)||l.push(d)}a=new wc(l),u=s.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=s.fieldTransforms;return new Ny(new Wc(c),a,u)}var Uy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ii.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Cc)throw t.Mc(1===t.Cc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Ay);function Vy(t,e,n){return new Py({Cc:3,Bc:e.settings.Bc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var qy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ii.c)(e,t),e.prototype._toFieldTransform=function(t){return new $l(t.path,new Vl)},e.prototype.isEqual=function(t){return t instanceof e},e}(Ay),Hy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return Object(Ii.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Vy(this,t,!0),n=this.Uc.map(function(t){return $y(t,e)}),r=new ql(n);return new $l(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Ay),By=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return Object(Ii.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Vy(this,t,!0),n=this.Uc.map(function(t){return $y(t,e)}),r=new Bl(n);return new $l(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Ay),zy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return Object(Ii.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new Gl(t.R,Pl(t.R,this.Kc));return new $l(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Ay);function Gy(t,e,n,r){var i=t.qc(1,e,n);Yy("Data must be an object, but it was:",i,r);var o=[],s=Wc.empty();pc(r,function(t,r){var a=tv(e,t,n);r=Object(Fi.k)(r);var u=i.$c(a);if(r instanceof Uy)o.push(a);else{var c=$y(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new wc(o);return new Dy(s,a,i.fieldTransforms)}function Ky(t,e,n,r,i,o){var s=t.qc(1,e,n),a=[Zy(e,r,n)],u=[i];if(o.length%2!=0)throw new Ju(Qu.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Zy(e,o[c])),u.push(o[c+1]);for(var l=[],h=Wc.empty(),f=a.length-1;f>=0;--f)if(!nv(l,a[f])){var d=a[f],p=u[f];p=Object(Fi.k)(p);var g=s.$c(d);if(p instanceof Uy)l.push(d);else{var m=$y(p,g);null!=m&&(l.push(d),h.set(d,m))}}var y=new wc(l);return new Dy(h,y,s.fieldTransforms)}function Wy(t,e,n,r){return void 0===r&&(r=!1),$y(n,t.qc(r?4:3,e))}function $y(t,e){if(Jy(t=Object(Fi.k)(t)))return Yy("Unsupported field value:",e,t),Qy(t,e);if(t instanceof Ay)return function(t,e){if(!Ry(e.Cc))throw e.Mc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Mc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Cc)throw e.Mc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=$y(o[i],e.Oc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(Fi.k)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Pl(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=hc.fromDate(t);return{timestampValue:Bh(e.R,n)}}if(t instanceof hc)return n=new hc(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Bh(e.R,n)};if(t instanceof jy)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof xy)return{bytesValue:zh(e.R,t._byteString)};if(t instanceof dy){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Mc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Wh(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Mc("Unsupported field value: "+uy(t))}(t,e)}function Qy(t,e){var n={};return gc(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pc(t,function(t,r){var i=$y(r,e.xc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Jy(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof hc||t instanceof jy||t instanceof xy||t instanceof dy||t instanceof Ay)}function Yy(t,e,n){if(!Jy(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=uy(n);throw e.Mc("an object"===r?t+" a custom object":t+" "+r)}}function Zy(t,e,n){if((e=Object(Fi.k)(e))instanceof Cy)return e._internalPath;if("string"==typeof e)return tv(t,e);throw ev("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Xy=new RegExp("[~\\*/\\[\\]]");function tv(t,e,n){if(e.search(Xy)>=0)throw ev("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Cy.bind.apply(Cy,Object(Ii.f)([void 0],e.split(".")))))._internalPath}catch(eb){throw ev("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function ev(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new Ju(Qu.INVALID_ARGUMENT,(a+=". ")+t+u)}function nv(t,e){return t.some(function(t){return t.isEqual(e)})}var rv=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new dy(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new iv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(ov("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),iv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ii.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(rv);function ov(t,e){return"string"==typeof e?tv(t,e):e instanceof Cy?e._internalPath:e._delegate._internalPath}var sv=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),av=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return Object(Ii.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new uv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(ov("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(rv),uv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ii.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(av),cv=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new sv(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new uv(n._firestore,n._userDataWriter,r.key,r,new sv(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ju(Qu.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new uv(t._firestore,t._userDataWriter,e.doc.key,e.doc,new sv(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new uv(t._firestore,t._userDataWriter,e.doc.key,e.doc,new sv(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:lv(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function lv(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rc()}}function hv(t,e){return t instanceof av&&e instanceof av?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof cv&&e instanceof cv&&t._firestore===e._firestore&&by(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function fv(t){if(wl(t)&&0===t.explicitOrderBy.length)throw new Ju(Qu.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var dv=function(){};function pv(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var gv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qc=e,i.jc=n,i.Wc=r,i.type="where",i}return Object(Ii.c)(e,t),e.prototype._apply=function(t){var e=My(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Ju(Qu.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Sv(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(_v(r,t,l[c]));a={arrayValue:{values:u}}}else a=_v(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Sv(s,o),a=Wy(n,"where",s,"in"===o||"not-in"===o);var h=el.create(i,o,a);return function(t,e){if(e.g()){var n=Sl(t);if(null!==n&&!n.isEqual(e.field))throw new Ju(Qu.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=_l(t);null!==r&&Ov(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Ju(Qu.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Qc,this.jc,this.Wc);return new py(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new ml(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(dv),mv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qc=e,r.Gc=n,r.type="orderBy",r}return Object(Ii.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Ju(Qu.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Ju(Qu.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new fl(e,n);return function(t,e){if(null===_l(t)){var n=Sl(t);null!==n&&Ov(0,n,e.field)}}(t,r),r}(t._query,this.Qc,this.Gc);return new py(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new ml(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(dv),yv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.zc=n,i.Hc=r,i}return Object(Ii.c)(e,t),e.prototype._apply=function(t){return new py(t.firestore,t.converter,Il(t._query,this.zc,this.Hc))},e}(dv),vv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Jc=n,i.Yc=r,i}return Object(Ii.c)(e,t),e.prototype._apply=function(t){var e=wv(t,this.type,this.Jc,this.Yc);return new py(t.firestore,t.converter,function(t,e){return new ml(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(dv),bv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Jc=n,i.Yc=r,i}return Object(Ii.c)(e,t),e.prototype._apply=function(t){var e=wv(t,this.type,this.Jc,this.Yc);return new py(t.firestore,t.converter,function(t,e){return new ml(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(dv);function wv(t,e,n,r){if(n[0]=Object(Fi.k)(n[0]),n[0]instanceof rv)return function(t,e,n,r,i){if(!r)throw new Ju(Qu.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=El(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(Vc(e,r.key));else{var c=r.data.field(u.field);if(Ic(c))throw new Ju(Qu.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Ju(Qu.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new ll(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=My(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new Ju(Qu.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new Ju(Qu.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Ol(t)&&-1!==c.indexOf("/"))throw new Ju(Qu.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(yc.fromString(c));if(!Nc.isDocumentKey(l))throw new Ju(Qu.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Nc(l);a.push(Vc(e,h))}else{var f=Wy(n,r,c);a.push(f)}}return new ll(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function _v(t,e,n){if("string"==typeof(n=Object(Fi.k)(n))){if(""===n)throw new Ju(Qu.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ol(e)&&-1!==n.indexOf("/"))throw new Ju(Qu.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(yc.fromString(n));if(!Nc.isDocumentKey(r))throw new Ju(Qu.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Vc(t,new Nc(r))}if(n instanceof dy)return Vc(t,n._key);throw new Ju(Qu.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+uy(n)+".")}function Sv(t,e){if(!Array.isArray(t)||0===t.length)throw new Ju(Qu.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Ju(Qu.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Ov(t,e,n){if(!n.isEqual(e))throw new Ju(Qu.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Ev=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Dc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ec(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Tc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw rc()}},t.prototype.convertObject=function(t,e){var n=this,r={};return pc(t.fields,function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new jy(Ec(t.latitude),Ec(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=Cc(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(xc(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Oc(t);return new hc(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=yc.fromString(t);ic(bf(n));var r=new Qm(n.get(1),n.get(3)),i=new Nc(n.popFirst(5));return r.isEqual(e)||tc("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function Tv(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Iv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ii.c)(e,t),e.prototype.convertBytes=function(t){return new xy(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new dy(this.firestore,null,e)},e}(Ev),Cv=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=My(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=xv(t,this._firestore),i=Tv(r.converter,e,n),o=Fy(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Jl.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=xv(t,this._firestore);return o="string"==typeof(e=Object(Fi.k)(e))||e instanceof Cy?Ky(this._dataReader,"WriteBatch.update",s._key,e,n,r):Gy(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,Jl.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=xv(t,this._firestore);return this._mutations=this._mutations.concat(new hh(e._key,Jl.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Ju(Qu.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function xv(t,e){if((t=Object(Fi.k)(t)).firestore!==e)throw new Ju(Qu.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Av=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ii.c)(e,t),e.prototype.convertBytes=function(t){return new xy(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new dy(this.firestore,null,e)},e}(Ev);function jv(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=cy(t,dy);var o=cy(t.firestore,Sy),s=My(o);return Nv(o,[("string"==typeof(e=Object(Fi.k)(e))||e instanceof Cy?Ky(s,"updateDoc",t._key,e,n,r):Gy(s,"updateDoc",t._key,e)).toMutation(t._key,Jl.exists(!0))])}function kv(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Object(Fi.k)(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||_y(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(_y(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof dy)c=cy(t.firestore,Sy),l=vl(t._key.path),u={next:function(e){i[a]&&i[a](Dv(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=cy(t,py);c=cy(d.firestore,Sy),l=d._query;var p=new Av(c);u={next:function(t){i[a]&&i[a](new cv(c,p,d,t))},error:i[a+1],complete:i[a+2]},fv(t._query)}return function(t,e,n,r){var i=this,o=new Dm(r),s=new Bg(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return Object(Ii.b)(i,void 0,void 0,function(){var e;return Object(Ii.d)(this,function(n){switch(n.label){case 0:return e=Fg,[4,Gm(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(Ii.b)(i,void 0,void 0,function(){var e;return Object(Ii.d)(this,function(n){switch(n.label){case 0:return e=Ug,[4,Gm(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(Oy(c),l,h,u)}function Nv(t,e){return function(t,e){var n=this,r=new Bf;return t.asyncQueue.enqueueAndForget(function(){return Object(Ii.b)(n,void 0,void 0,function(){var n;return Object(Ii.d)(this,function(i){switch(i.label){case 0:return n=em,[4,zm(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(Oy(t),e)}function Dv(t,e,n){var r=n.docs.get(e._key),i=new Av(t);return new av(t,i,e._key,r,new sv(n.hasPendingWrites,n.fromCache),e.converter)}var Rv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(Ii.c)(e,t),e.prototype.get=function(e){var n=this,r=xv(e,this._firestore),i=new Av(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new av(n._firestore,i,r._key,t._document,new sv(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=My(t)}return t.prototype.get=function(t){var e=this,n=xv(t,this._firestore),r=new Iv(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return rc();var i=t[0];if(i.isFoundDocument())return new rv(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new rv(e._firestore,r,n._key,null,n.converter);throw rc()})},t.prototype.set=function(t,e,n){var r=xv(t,this._firestore),i=Tv(r.converter,e,n),o=Fy(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=xv(t,this._firestore);return o="string"==typeof(e=Object(Fi.k)(e))||e instanceof Cy?Ky(this._dataReader,"Transaction.update",s._key,e,n,r):Gy(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=xv(t,this._firestore);return this._transaction.delete(e._key),this},t}());function Pv(){if("undefined"==typeof Uint8Array)throw new Ju(Qu.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Lv(){if("undefined"==typeof atob)throw new Ju(Qu.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Mv=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return Lv(),new t(xy.fromBase64String(e))},t.fromUint8Array=function(e){return Pv(),new t(xy.fromUint8Array(e))},t.prototype.toBase64=function(){return Lv(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return Pv(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),Fv=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Iy(t=cy(t,Sy));var n=Oy(t),r=t._freezeSettings(),i=new Nm;return Ty(n,i,new jm(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Iy(t=cy(t,Sy));var e=Oy(t),n=t._freezeSettings(),r=new Nm;return Ty(e,r,new km(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Ju(Qu.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Bf;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(Ii.b)(e,void 0,void 0,function(){var e;return Object(Ii.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Ii.b)(this,void 0,void 0,function(){return Object(Ii.d)(this,function(e){switch(e.label){case 0:return Kf.yt()?[4,Kf.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(rp(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),Uv=function(){function t(t,e,n){var r=this;this._delegate=e,this.Xc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Qm||(this.Zc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||ec("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=cy(t,fy))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&ec("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o=Object(Fi.g)(r.mockUserToken),s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Ju(Qu.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new Xm(new Ym(o,new Rp(s)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(Ii.b)(e,void 0,void 0,function(){var e,n;return Object(Ii.d)(this,function(r){switch(r.label){case 0:return[4,qm(t)];case 1:return e=r.sent(),[4,Bm(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=oc(t);return e.Or.delete(0),sg(e)}(n))]}})})})}(Oy(cy(this._delegate,Sy)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(Ii.b)(e,void 0,void 0,function(){var e,n;return Object(Ii.d)(this,function(r){switch(r.label){case 0:return[4,qm(t)];case 1:return e=r.sent(),[4,Bm(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(Ii.b)(this,void 0,void 0,function(){var e;return Object(Ii.d)(this,function(n){switch(n.label){case 0:return(e=oc(t)).Or.add(0),[4,ag(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(Oy(cy(this._delegate,Sy)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&oy("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Xc.enableMultiTabIndexedDbPersistence(this):this.Xc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Xc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Zc&&(this.Zc._removeServiceInstance("firestore"),this.Zc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Bf;return t.asyncQueue.enqueueAndForget(function(){return Object(Ii.b)(e,void 0,void 0,function(){var e;return Object(Ii.d)(this,function(r){switch(r.label){case 0:return e=am,[4,zm(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Oy(cy(this._delegate,Sy)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Dm(e);return t.asyncQueue.enqueueAndForget(function(){return Object(Ii.b)(n,void 0,void 0,function(){var e;return Object(Ii.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){oc(t).Gr.add(e),e.next()},[4,Gm(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(Ii.b)(n,void 0,void 0,function(){var e;return Object(Ii.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){oc(t).Gr.delete(e)},[4,Gm(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(Oy(t=cy(t,Sy)),_y(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Zc)throw new Ju(Qu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Zc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Xv(this,my(this._delegate,t))}catch(t){throw Gv(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new zv(this,yy(this._delegate,t))}catch(t){throw Gv(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new Jv(this,function(t,e){if(t=cy(t,fy),ry("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ju(Qu.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new py(t,null,function(t){return new ml(yc.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw Gv(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Bf;return t.asyncQueue.enqueueAndForget(function(){return Object(Ii.b)(n,void 0,void 0,function(){var n;return Object(Ii.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return Vm(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new Pm(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(Oy(t),function(n){return e(new Rv(t,n))})}(this._delegate,function(n){return t(new qv(e,n))})},t.prototype.batch=function(){var t=this;return Oy(this._delegate),new Hv(new Cv(this._delegate,function(e){return Nv(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new Ju(Qu.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Ju(Qu.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),Vv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ii.c)(e,t),e.prototype.convertBytes=function(t){return new Mv(new xy(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return zv.tu(e,this.firestore,null)},e}(Ev),qv=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Vv(t)}return t.prototype.get=function(t){var e=this,n=tb(t);return this._delegate.get(n).then(function(t){return new $v(e._firestore,new av(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=tb(t);return n?(iy("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=tb(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(Ii.f)([s,e,n],i)),this},t.prototype.delete=function(t){var e=tb(t);return this._delegate.delete(e),this},t}(),Hv=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=tb(t);return n?(iy("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=tb(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(Ii.f)([s,e,n],i)),this},t.prototype.delete=function(t){var e=tb(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),Bv=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new uv(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Qv(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.eu=function(e,n){var r=t.nu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new Vv(e),n),i.set(n,o)),o},t}();Bv.nu=new WeakMap;var zv=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Vv(t)}return t.su=function(e,n,r){if(e.length%2!=0)throw new Ju(Qu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new dy(n._delegate,r,new Nc(e)))},t.tu=function(e,n,r){return new t(n,new dy(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Xv(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Xv(this.firestore,my(this._delegate,t))}catch(t){throw Gv(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(Fi.k)(t))instanceof dy&&vy(this._delegate,t)},t.prototype.set=function(t,e){e=iy("DocumentReference.set",e);try{return function(t,e,n){t=cy(t,dy);var r=cy(t.firestore,Sy),i=Tv(t.converter,e,n);return Nv(r,[Fy(My(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Jl.none())])}(this._delegate,t,e)}catch(t){throw Gv(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?jv(this._delegate,t):jv.apply(void 0,Object(Ii.f)([this._delegate,t,e],n))}catch(t){throw Gv(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Nv(cy((t=this._delegate).firestore,Sy),[new hh(t._key,Jl.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Kv(e),i=Wv(e,function(e){return new $v(t.firestore,new av(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return kv(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=cy(t,dy);var e=cy(t.firestore,Sy),n=Oy(e),r=new Av(e);return function(t,e){var n=this,r=new Bf;return t.asyncQueue.enqueueAndForget(function(){return Object(Ii.b)(n,void 0,void 0,function(){var n;return Object(Ii.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Ii.b)(this,void 0,void 0,function(){var r,i;return Object(Ii.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=oc(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Ju(Qu.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Ng(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Hm(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new av(e,r,t._key,n,new sv(null!==n&&n.hasLocalMutations,!0),t.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=cy(t,dy);var e=cy(t.firestore,Sy);return Km(Oy(e),t._key,{source:"server"}).then(function(n){return Dv(e,t,n)})}(this._delegate):function(t){t=cy(t,dy);var e=cy(t.firestore,Sy);return Km(Oy(e),t._key).then(function(n){return Dv(e,t,n)})}(this._delegate)).then(function(t){return new $v(e.firestore,new av(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Bv.eu(this.firestore,e):null))},t}();function Gv(t,e,n){return t.message=t.message.replace(e,n),t}function Kv(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!_y(r))return r}return{}}function Wv(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=_y(t[0])?t[0]:_y(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var $v=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new zv(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return hv(this._delegate,t._delegate)},t}(),Qv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ii.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}($v),Jv=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Vv(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,pv(this._delegate,function(t,e,n){var r=e,i=ov("where",t);return new gv(i,r,n)}(e,n,r)))}catch(e){throw Gv(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,pv(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=ov("orderBy",t);return new mv(r,n)}(e,n)))}catch(e){throw Gv(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,pv(this._delegate,function(t){return ly("limit",t),new yv("limit",t,"F")}(e)))}catch(e){throw Gv(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,pv(this._delegate,function(t){return ly("limitToLast",t),new yv("limitToLast",t,"L")}(e)))}catch(e){throw Gv(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,pv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new vv("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw Gv(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,pv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new vv("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw Gv(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,pv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new bv("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw Gv(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,pv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new bv("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw Gv(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return by(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=cy(t,py);var e=cy(t.firestore,Sy),n=Oy(e),r=new Av(e);return function(t,e){var n=this,r=new Bf;return t.asyncQueue.enqueueAndForget(function(){return Object(Ii.b)(n,void 0,void 0,function(){var n;return Object(Ii.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Ii.b)(this,void 0,void 0,function(){var r,i,o,s,a;return Object(Ii.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,vp(t,e,!0)];case 1:return a=u.sent(),r=new $g(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=Ng(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,Hm(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new cv(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=cy(t,py);var e=cy(t.firestore,Sy),n=Oy(e),r=new Av(e);return Wm(n,t._query,{source:"server"}).then(function(n){return new cv(e,r,t,n)})}(this._delegate):function(t){t=cy(t,py);var e=cy(t.firestore,Sy),n=Oy(e),r=new Av(e);return fv(t._query),Wm(n,t._query).then(function(n){return new cv(e,r,t,n)})}(this._delegate)).then(function(t){return new Zv(e.firestore,new cv(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Kv(e),i=Wv(e,function(e){return new Zv(t.firestore,new cv(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return kv(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Bv.eu(this.firestore,e):null))},t}(),Yv=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Qv(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),Zv=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new Jv(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new Qv(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new Yv(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new Qv(n._firestore,r))})},t.prototype.isEqual=function(t){return hv(this._delegate,t._delegate)},t}(),Xv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(Ii.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new zv(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new zv(this.firestore,void 0===t?yy(this._delegate):yy(this._delegate,t))}catch(t){throw Gv(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=cy(t.firestore,Sy),r=yy(t),i=Tv(t.converter,e);return Nv(n,[Fy(My(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Jl.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new zv(e.firestore,t)})},e.prototype.isEqual=function(t){return vy(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Bv.eu(this.firestore,t):null))},e}(Jv);function tb(t){return cy(t,dy)}var eb,nb=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Cy.bind.apply(Cy,Object(Ii.f)([void 0],t)))}return t.documentId=function(){return new t(bc.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(Fi.k)(t))instanceof Cy&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),rb=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new qy("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new Uy("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Hy("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new By("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new zy("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),ib=n("/6Yf"),ob={Firestore:Uv,GeoPoint:jy,Timestamp:hc,Blob:Mv,Transaction:qv,WriteBatch:Hv,DocumentReference:zv,DocumentSnapshot:$v,Query:Jv,QueryDocumentSnapshot:Qv,QuerySnapshot:Zv,CollectionReference:Xv,FieldPath:nb,FieldValue:rb,setLogLevel:function(t){Yu.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new ib.a("firestore",function(t){return function(t,e){return new Uv(t,new Sy(t,e),new Fv)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},ob)))})(eb=Mi.a),eb.registerVersion("@firebase/firestore","2.3.8");var sb=n("VRyK"),ab=n("qgXg"),ub=n("Ylt2");class cb extends Ct.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new lb(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new xt.a;if(this.isStopped||this.hasError?o=Ce.a.EMPTY:(this.observers.push(t),o=new ub.a(this,t)),r&&t.add(t=new Ri.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||ab.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class lb{constructor(t,e){this.time=t,this.value=e}}function hb(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){let l;s++,!i||a?(a=!1,i=new cb(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}}),u&&(o=void 0)):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),l=void 0,o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}function fb(t,e){return e?Qt(()=>t,e):Qt(()=>t)}var db=n("tf+s");const pb=new r.q("angularfire2.auth.use-emulator"),gb=new r.q("angularfire2.auth.settings"),mb=new r.q("angularfire2.auth.tenant-id"),yb=new r.q("angularfire2.auth.langugage-code"),vb=new r.q("angularfire2.auth.use-device-language"),bb=new r.q("angularfire.auth.persistence");let wb=(()=>{class t{constructor(t,e,r,i,o,s,a,u,c,l){const h=new Pi.e(i),f=Object(Pi.i)(h),d=new Ct.a,p=Object(It.a)(void 0).pipe(Object(Ri.b)(h.outsideAngular),Qt(()=>i.runOutsideAngular(()=>n.e(5).then(n.bind(null,"6nsN")))),Object(Wt.a)(()=>Object(Pi.h)(t,i,e)),Object(Wt.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(Pi.g)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());if(e&&r.useEmulator("http://"+e.join(":")),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n)for(const[t,e]of Object.entries(n))r.settings[t]=e;return l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),hb({bufferSize:1,refCount:!1}));if(z(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(It.a)(null);else{p.pipe(Te()).subscribe();const t=p.pipe(Qt(t=>t.getRedirectResult().then(t=>t,()=>null)),f,hb({bufferSize:1,refCount:!1})),e=t=>new Lt.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(Qt(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(Qt(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(fb(n),Object(db.a)(h.outsideAngular),Object(Ri.b)(h.insideAngular)),this.user=t.pipe(fb(r),Object(db.a)(h.outsideAngular),Object(Ri.b)(h.insideAngular)),this.idToken=this.user.pipe(Qt(t=>t?Object(Tt.a)(t.getIdToken()):Object(It.a)(null))),this.idTokenResult=this.user.pipe(Qt(t=>t?Object(Tt.a)(t.getIdTokenResult()):Object(It.a)(null))),this.credential=Object(sb.a)(t,d,this.authState.pipe(se(t=>!t))).pipe(Object(Wt.a)(t=>(null==t?void 0:t.user)?t:null),Object(db.a)(h.outsideAngular),Object(Ri.b)(h.insideAngular))}return Object(Pi.j)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Pi.c),r.Jb(Pi.b,8),r.Jb(r.B),r.Jb(r.z),r.Jb(pb,8),r.Jb(gb,8),r.Jb(mb,8),r.Jb(yb,8),r.Jb(vb,8),r.Jb(bb,8))},t.\u0275prov=r.Ab({factory:function(){return new t(r.Jb(Pi.c),r.Jb(Pi.b,8),r.Jb(r.B),r.Jb(r.z),r.Jb(pb,8),r.Jb(gb,8),r.Jb(mb,8),r.Jb(yb,8),r.Jb(vb,8),r.Jb(bb,8))},token:t,providedIn:"any"}),t})();function _b(t,e){return function(t,e=Ci.a){return new Lt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function Sb(t,e){return _b(t,e).pipe(Object(Wt.a)(t=>({payload:t,type:"query"})))}function Ob(t,e){return Sb(t,e).pipe(ne(void 0),xi(),Object(Wt.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function Eb(t,e,n){return Ob(t,n).pipe(re((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Tb(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Tb(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Tb(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),ki(),Object(Wt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function Tb(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function Ib(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(Pi.f)(wb,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class Cb{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=Ob(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Wt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(ne(void 0),xi(),se(([t,e])=>e.length>0||!t),Object(Wt.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(re((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Ib(t);return Eb(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Sb(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Wt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Tt.a)(this.query.get(t)).pipe(Object(Ri.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new xb(this.ref.doc(t),this.afs)}}class xb{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=Rb(n,e);return new Cb(r,i,this.afs)}snapshotChanges(){return _b(this.ref,this.afs.schedulers.outsideAngular).pipe(ne(void 0),xi(),Object(Wt.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Wt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(Tt.a)(this.ref.get(t)).pipe(Object(Ri.b)(this.afs.schedulers.insideAngular))}}class Ab{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Ob(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Wt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),se(t=>t.length>0),this.afs.keepUnstableUntilFirst):Ob(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(re((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Ib(t);return Eb(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Sb(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Wt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Tt.a)(this.query.get(t)).pipe(Object(Ri.b)(this.afs.schedulers.insideAngular))}}const jb=new r.q("angularfire2.enableFirestorePersistence"),kb=new r.q("angularfire2.firestore.persistenceSettings"),Nb=new r.q("angularfire2.firestore.settings"),Db=new r.q("angularfire2.firestore.use-emulator");function Rb(t,e=(t=>t)){return{query:e(t),ref:t}}let Pb=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new Pi.e(o),this.keepUnstableUntilFirst=Object(Pi.i)(this.schedulers);const c=Object(Pi.h)(t,o,e);!Li.a.auth&&u&&Object(Pi.k)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(Pi.g)(c.name+".firestore","AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!z(i)){const e=()=>{try{return Object(Tt.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(eb){return"undefined"!=typeof console&&console.warn(eb),Object(It.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(It.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=Rb(n,e),o=this.schedulers.ngZone.run(()=>r);return new Cb(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new Ab(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new xb(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Pi.c),r.Jb(Pi.b,8),r.Jb(jb,8),r.Jb(Nb,8),r.Jb(r.B),r.Jb(r.z),r.Jb(kb,8),r.Jb(Db,8),r.Jb(pb,8))},t.\u0275prov=r.Ab({factory:function(){return new t(r.Jb(Pi.c),r.Jb(Pi.b,8),r.Jb(jb,8),r.Jb(Nb,8),r.Jb(r.B),r.Jb(r.z),r.Jb(kb,8),r.Jb(Db,8),r.Jb(pb,8))},token:t,providedIn:"any"}),t})(),Lb=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:jb,useValue:!0},{provide:kb,useValue:e}]}}}return t.\u0275mod=r.Cb({type:t}),t.\u0275inj=r.Bb({factory:function(e){return new(e||t)},providers:[Pb]}),t})(),Mb=(()=>{class t{constructor(t){this.db=t}getAllCategories(){return new Promise(t=>{this.db.collection("categories").valueChanges({idField:"id"}).subscribe(e=>t(e))})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Pb))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Fb=(()=>{class t{constructor(t){this.db=t}getAllTags(){return new Promise(t=>{this.db.collection("tags").valueChanges({idField:"id"}).subscribe(e=>t(e))})}getTagByCategory(t){return new Promise(e=>{this.db.collection("tags",e=>e.where("categoryName","==",t)).valueChanges().subscribe(t=>e(t))})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Pb))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Ub=(()=>{class t{constructor(t){this.db=t}getDocumentaryByTag(t){return new Promise(e=>{this.db.collection("documentaries",e=>e.where("tagName","==",t)).valueChanges().subscribe(t=>e(t))})}getDocumentaryByCategory(t){return new Promise(e=>{this.db.collection("documentaries",e=>e.where("categoryName","==",t)).valueChanges().subscribe(t=>e(t))})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Pb))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Vb(t,e){if(1&t&&(r.Hb(0,"h2",3),r.Zb(1),r.Gb()),2&t){const t=r.Ob().$implicit;r.vb(1),r.ac(t[0].categoryName)}}function qb(t,e){if(1&t&&(r.Hb(0,"h2",4),r.Zb(1),r.Gb()),2&t){const t=r.Ob().$implicit;r.vb(1),r.bc("",t[0].categoryName," ")}}function Hb(t,e){if(1&t&&(r.Hb(0,"p",3),r.Zb(1),r.Gb()),2&t){const t=r.Ob().$implicit;r.vb(1),r.ac(t.name)}}function Bb(t,e){if(1&t&&(r.Hb(0,"p",4),r.Zb(1),r.Gb()),2&t){const t=r.Ob().$implicit;r.vb(1),r.ac(t.name)}}function zb(t,e){if(1&t&&(r.Hb(0,"div"),r.Yb(1,Hb,2,1,"p",1),r.Yb(2,Bb,2,1,"p",2),r.Gb()),2&t){const t=e.$implicit,n=r.Ob(2);r.vb(1),r.Sb("ngIf",n.selected==t.name),r.vb(1),r.Sb("ngIf",n.selected!=t.name)}}function Gb(t,e){if(1&t&&(r.Hb(0,"div"),r.Yb(1,Vb,2,1,"h2",1),r.Yb(2,qb,2,1,"h2",2),r.Yb(3,zb,3,2,"div",0),r.Gb()),2&t){const t=e.$implicit,n=r.Ob();r.vb(1),r.Sb("ngIf",n.selected==t[0].categoryName),r.vb(1),r.Sb("ngIf",n.selected!=t[0].categoryName),r.vb(1),r.Sb("ngForOf",t)}}let Kb=(()=>{class t{constructor(t,e,n,r){this.route=t,this.categoryService=e,this.tagService=n,this.docoService=r,this.sideBarOptions=new Map,this.tagList=new Array,this.isCategory=!0,this.route.params.subscribe(t=>{this.getSelectedParams().then(()=>{this.getCategoryList().then(()=>{this.buildSideBarOptions().then(()=>{this.listDocos()})})})})}ngOnInit(){this.getSelectedParams().then(()=>{this.getCategoryList().then(()=>{this.buildSideBarOptions().then(()=>{this.listDocos()})})})}getCategoryList(){return Object(Ii.b)(this,void 0,void 0,function*(){this.allCategories=yield this.categoryService.getAllCategories()})}buildSideBarOptions(){return Object(Ii.b)(this,void 0,void 0,function*(){for(let t=0;t<this.allCategories.length;t++)this.sideBarOptions.set(this.allCategories[t].name,yield this.tagService.getTagByCategory(this.allCategories[t].name));this.tagList=Array.from(this.sideBarOptions.values())})}listDocos(){this.tagList.forEach(t=>Object(Ii.b)(this,void 0,void 0,function*(){t[0].name==this.selected&&(this.isCategory=!1,this.docoList=yield this.docoService.getDocumentaryByTag(this.selected),console.log(this.docoList))})),this.allCategories.forEach(t=>Object(Ii.b)(this,void 0,void 0,function*(){t.name==this.selected&&(this.isCategory=!0,this.docoList=yield this.docoService.getDocumentaryByCategory(this.selected),console.log(this.docoList))}))}getSelectedParams(){return Object(Ii.b)(this,void 0,void 0,function*(){let t=document.location.href;t=t.substring(t.lastIndexOf("/")+1,t.length),t=t.split("-").join(" "),t=t.split("%28").join("("),t=t.split("%29").join(")"),this.selected=t})}}return t.\u0275fac=function(e){return new(e||t)(r.Eb(Ln),r.Eb(Mb),r.Eb(Fb),r.Eb(Ub))},t.\u0275cmp=r.yb({type:t,selectors:[["ng-component"]],decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],["style","color:green",4,"ngIf"],["style","color:black",4,"ngIf"],[2,"color","green"],[2,"color","black"]],template:function(t,e){1&t&&r.Yb(0,Gb,4,3,"div",0),2&t&&r.Sb("ngForOf",e.tagList)},directives:[j,N],styles:[""]}),t})(),Wb=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.yb({type:t,selectors:[["app-searchbar"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Hb(0,"p"),r.Zb(1,"searchbar works!"),r.Gb())},styles:["p[_ngcontent-%COMP%]{color:#8a888f}"]}),t})();const $b=function(t){return[t]};let Qb=(()=>{class t{constructor(){}ngOnInit(){this.navLink="/documentaries"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.yb({type:t,selectors:[["app-button"]],inputs:{navLink:"navLink"},decls:2,vars:3,consts:[[1,"mt-5","mb-5",3,"routerLink"]],template:function(t,e){1&t&&(r.Hb(0,"button",0),r.Zb(1,"ALL DOCUMENTARIES"),r.Gb()),2&t&&r.Sb("routerLink",r.Ub(1,$b,e.navLink))},directives:[ni],styles:["button[_ngcontent-%COMP%]{background-color:orange;padding:10px 20px;border:none;color:#fff;border-radius:5px;font-weight:900}"]}),t})();const Jb=function(t){return[t]};let Yb=(()=>{class t{constructor(){this.navLink=""}ngOnInit(){this.navLink="/documentaries/"+this.paramName.split(" ").join("-")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.yb({type:t,selectors:[["app-tag"]],inputs:{paramName:"paramName"},decls:3,vars:4,consts:[[1,"tag"],[1,"mt-0","mb-0",3,"routerLink"]],template:function(t,e){1&t&&(r.Hb(0,"div",0),r.Hb(1,"button",1),r.Zb(2),r.Gb(),r.Gb()),2&t&&(r.vb(1),r.Sb("routerLink",r.Ub(2,Jb,e.navLink)),r.vb(1),r.ac(e.paramName))},directives:[ni],styles:[".tag[_ngcontent-%COMP%]{text-align:center}.tag[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:orange;padding:10px;border:none;color:#fff;border-radius:25px;font-weight:900}"]}),t})();const Zb=function(t){return[t]};let Xb=(()=>{class t{constructor(){this.navLink=""}ngOnInit(){this.navLink="/documentaries/"+this.categoryLink.split(" ").join("-")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.yb({type:t,selectors:[["app-card"]],inputs:{categoryName:"categoryName",categoryDescription:"categoryDescription",categoryLink:"categoryLink"},decls:7,vars:6,consts:[[1,"categoryCard"],[1,"pt-3"],[3,"routerLink"]],template:function(t,e){1&t&&(r.Hb(0,"div",0),r.Hb(1,"h6",1),r.Zb(2),r.Gb(),r.Hb(3,"p"),r.Zb(4),r.Gb(),r.Hb(5,"a",2),r.Zb(6),r.Gb(),r.Gb()),2&t&&(r.vb(2),r.ac(e.categoryName),r.vb(2),r.ac(e.categoryDescription),r.vb(1),r.Sb("routerLink",r.Ub(4,Zb,e.navLink)),r.vb(1),r.ac(e.categoryLink))},directives:[ri],styles:[".categoryCard[_ngcontent-%COMP%]{background-image:url(cards-dark.cd6499604967d6087cec.jpg);background-repeat:no-repeat;background-size:cover;height:250px;box-shadow:0 4px 8px 0 rgba(0,0,0,.2);padding:16px;text-align:center}.categoryCard[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background:none}.categoryCard[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{background:none;font-weight:700}"]}),t})();function tw(t,e){if(1&t&&(r.Hb(0,"div",12),r.Hb(1,"div",13),r.Fb(2,"app-tag",14),r.Gb(),r.Gb()),2&t){const t=e.$implicit;r.vb(2),r.Sb("paramName",t.name)}}function ew(t,e){if(1&t&&(r.Hb(0,"div",15),r.Fb(1,"app-card",16),r.Gb()),2&t){const t=e.$implicit;r.vb(1),r.Sb("categoryName",t.name)("categoryDescription",t.categoryDescription)("categoryLink",t.name)}}const nw=[{path:"",component:(()=>{class t{constructor(t,e){this.tagService=t,this.categoryService=e,this.documentariesLink="/documentaries"}ngOnInit(){this.getTagsList(),this.getCategoryList()}getTagsList(){return Object(Ii.b)(this,void 0,void 0,function*(){this.tagsList=yield this.tagService.getAllTags()})}getCategoryList(){return Object(Ii.b)(this,void 0,void 0,function*(){this.categoryList=yield this.categoryService.getAllCategories()})}}return t.\u0275fac=function(e){return new(e||t)(r.Eb(Fb),r.Eb(Mb))},t.\u0275cmp=r.yb({type:t,selectors:[["ng-component"]],decls:28,vars:11,consts:[[1,"jumbo-styling"],[1,"pb-3","pt-5"],[1,"pb-5"],[3,"navLink"],[1,"browseByTags","pb-3","mb-5"],["role","listitem",4,"ngFor","ngForOf"],["routerLink","/documentaries",1,"darkGreyText"],[1,"browseByCategories","pb-3","mb-5"],[1,"pb-5","pt-5"],[1,"row"],["class","column","role","listitem",4,"ngFor","ngForOf"],["routerLink","/documentaries",1,"mt-5","pt-5","darkGreyText"],["role","listitem"],[1,"browseByTags","pb-3","mb-2"],[3,"paramName"],["role","listitem",1,"column"],[3,"categoryName","categoryDescription","categoryLink"]],template:function(t,e){1&t&&(r.Hb(0,"div",0),r.Hb(1,"h1",1),r.Zb(2,"DocoSummaries"),r.Gb(),r.Hb(3,"p",2),r.Zb(4," A place where you can learn about new documentaries, watch documentaries for free, or read their summaries. Search for quick summaries or videos from different categories! "),r.Gb(),r.Fb(5,"app-searchbar",2),r.Hb(6,"app-button",3),r.Zb(7,"All Documentaries"),r.Gb(),r.Gb(),r.Hb(8,"div",4),r.Hb(9,"h2",1),r.Zb(10,"Browse By "),r.Hb(11,"span"),r.Zb(12,"Tags"),r.Gb(),r.Gb(),r.Yb(13,tw,3,1,"div",5),r.Pb(14,"slice"),r.Hb(15,"a",6),r.Zb(16,"View All"),r.Gb(),r.Gb(),r.Hb(17,"div",7),r.Hb(18,"h2",8),r.Zb(19,"Browse By "),r.Hb(20,"span"),r.Zb(21,"Categories"),r.Gb(),r.Gb(),r.Hb(22,"div",9),r.Yb(23,ew,2,3,"div",10),r.Pb(24,"slice"),r.Gb(),r.Fb(25,"br"),r.Hb(26,"a",11),r.Zb(27,"View All"),r.Gb(),r.Gb()),2&t&&(r.vb(6),r.Sb("navLink",e.documentariesLink),r.vb(7),r.Sb("ngForOf",r.Rb(14,3,e.tagsList,0,6)),r.vb(10),r.Sb("ngForOf",r.Rb(24,7,e.categoryList,0,3)))},directives:[Wb,Qb,j,ri,Yb,Xb],pipes:[q],styles:['.jumbo-styling[_ngcontent-%COMP%]{color:#fff;line-height:2;letter-spacing:1px;text-align:center}@media only screen and (min-width:600px) and (max-width:1199px){.jumbo-styling[_ngcontent-%COMP%]{padding-left:10%;padding-right:10%}}@media only screen and (min-width:1200px){.jumbo-styling[_ngcontent-%COMP%]{padding-left:30%;padding-right:30%}}.browseByCategories[_ngcontent-%COMP%], .browseByTags[_ngcontent-%COMP%]{text-align:center;color:#fff}h1[_ngcontent-%COMP%]{font-size:35pt;font-weight:700}@media only screen and (max-width:600px){h1[_ngcontent-%COMP%]{font-size:20pt;font-weight:700}}@media only screen and (max-width:300px){h1[_ngcontent-%COMP%]{font-size:14pt;font-weight:700}}h2[_ngcontent-%COMP%]{font-size:30pt;font-weight:700}@media only screen and (max-width:600px){h2[_ngcontent-%COMP%]{font-size:20pt;font-weight:700}}@media only screen and (max-width:300px){h2[_ngcontent-%COMP%]{font-size:14pt;font-weight:700}}p[_ngcontent-%COMP%]{font-size:10pt}span[_ngcontent-%COMP%]{color:orange}.row[_ngcontent-%COMP%]{margin:0 -5px}.row[_ngcontent-%COMP%]:after{content:"";display:table;clear:both}.column[_ngcontent-%COMP%]{text-align:center;width:33%;padding:0 50px}@media screen and (max-width:1200px){.column[_ngcontent-%COMP%]{width:100%;display:block;margin-bottom:20px}}']}),t})()},{path:"about",component:Ei},{path:"contact",component:Ti},{path:"documentaries",component:Kb},{path:"documentaries/:item",component:Kb}];let rw=(()=>{class t{}return t.\u0275mod=r.Cb({type:t}),t.\u0275inj=r.Bb({factory:function(e){return new(e||t)},imports:[[gi.forRoot(nw)],gi]}),t})();function iw(t,e){1&t&&(r.Hb(0,"li",11),r.Hb(1,"a",12),r.Hb(2,"p"),r.Zb(3,"Home"),r.Gb(),r.Gb(),r.Gb())}function ow(t,e){1&t&&(r.Hb(0,"li",11),r.Hb(1,"a",13),r.Hb(2,"p"),r.Zb(3,"Home"),r.Gb(),r.Gb(),r.Gb())}function sw(t,e){1&t&&(r.Hb(0,"li",11),r.Hb(1,"a",14),r.Hb(2,"p"),r.Zb(3,"Summaries"),r.Gb(),r.Gb(),r.Gb())}function aw(t,e){1&t&&(r.Hb(0,"li",11),r.Hb(1,"a",15),r.Hb(2,"p"),r.Zb(3,"Summaries"),r.Gb(),r.Gb(),r.Gb())}function uw(t,e){1&t&&(r.Hb(0,"li",11),r.Hb(1,"a",16),r.Hb(2,"p"),r.Zb(3,"About"),r.Gb(),r.Gb(),r.Gb())}function cw(t,e){1&t&&(r.Hb(0,"li",11),r.Hb(1,"a",17),r.Hb(2,"p"),r.Zb(3,"About"),r.Gb(),r.Gb(),r.Gb())}function lw(t,e){1&t&&(r.Hb(0,"li",11),r.Hb(1,"a",18),r.Hb(2,"p"),r.Zb(3,"Contact"),r.Gb(),r.Gb(),r.Gb())}function hw(t,e){1&t&&(r.Hb(0,"li",11),r.Hb(1,"a",19),r.Hb(2,"p"),r.Zb(3,"Contact"),r.Gb(),r.Gb(),r.Gb())}let fw=(()=>{class t{constructor(t){this.route=t}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Eb(Ln))},t.\u0275cmp=r.yb({type:t,selectors:[["app-navbar"]],decls:21,vars:8,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-main","nav-style"],["routerLink","",1,"navbar-brand","pr-5","pt-3","padding-custom","title"],[1,"font-18"],["type","button","data-toggle","collapse","data-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item","active"],["href","#",1,"nav-link"],[1,"navbar-nav","padding-custom"],["class","nav-item",4,"ngIf"],[1,"nav-item"],["routerLink","",1,"nav-link","pr-5","font-14","activeLink"],["routerLink","",1,"nav-link","pr-5","font-14"],["routerLink","/documentaries",1,"nav-link","pr-5","font-14","activeLink"],["routerLink","/documentaries",1,"nav-link","pr-5","font-14"],["routerLink","/about",1,"nav-link","pr-5","font-14","activeLink"],["routerLink","/about",1,"nav-link","pr-5","font-14"],["routerLink","/contact",1,"nav-link","pr-5","font-14","activeLink"],["routerLink","/contact",1,"nav-link","pr-5","font-14"]],template:function(t,e){1&t&&(r.Hb(0,"div",0),r.Hb(1,"a",1),r.Hb(2,"p",2),r.Zb(3,"DS"),r.Gb(),r.Gb(),r.Hb(4,"button",3),r.Fb(5,"span",4),r.Gb(),r.Hb(6,"div",5),r.Hb(7,"ul",6),r.Hb(8,"li",7),r.Fb(9,"a",8),r.Gb(),r.Hb(10,"li",7),r.Fb(11,"app-searchbar"),r.Gb(),r.Gb(),r.Hb(12,"ul",9),r.Yb(13,iw,4,0,"li",10),r.Yb(14,ow,4,0,"li",10),r.Yb(15,sw,4,0,"li",10),r.Yb(16,aw,4,0,"li",10),r.Yb(17,uw,4,0,"li",10),r.Yb(18,cw,4,0,"li",10),r.Yb(19,lw,4,0,"li",10),r.Yb(20,hw,4,0,"li",10),r.Gb(),r.Gb(),r.Gb()),2&t&&(r.vb(13),r.Sb("ngIf",""==e.currentRoute),r.vb(1),r.Sb("ngIf",""!=e.currentRoute),r.vb(1),r.Sb("ngIf","documentaries"==e.currentRoute),r.vb(1),r.Sb("ngIf","documentaries"!=e.currentRoute),r.vb(1),r.Sb("ngIf","about"==e.currentRoute),r.vb(1),r.Sb("ngIf","about"!=e.currentRoute),r.vb(1),r.Sb("ngIf","contact"==e.currentRoute),r.vb(1),r.Sb("ngIf","contact"!=e.currentRoute))},directives:[ri,Wb,N],styles:[".nav-style[_ngcontent-%COMP%]{border-bottom:.5px solid #6f6f70;padding:10px 50px}@media only screen and (min-width:1600px){.padding-custom[_ngcontent-%COMP%]{padding:20px 200px}}.font-14[_ngcontent-%COMP%]{font-size:14pt}.font-18[_ngcontent-%COMP%]{font-size:18pt}.activeLink[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{border-bottom:5px solid orange;color:#fff}@media only screen and (max-width:995px){.activeLink[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{border-bottom:none}}.nav-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:hover, .navbar-brand[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:hover{color:orange}"]}),t})();function dw(t,e){if(1&t&&(r.Hb(0,"div",10),r.Hb(1,"a",11),r.Zb(2),r.Gb(),r.Gb()),2&t){const t=e.$implicit;r.vb(1),r.Tb("routerLink","/documentaries/",t.name.split(" ").join("-"),""),r.vb(1),r.ac(t.name)}}function pw(t,e){if(1&t&&(r.Hb(0,"div",10),r.Hb(1,"a",11),r.Zb(2),r.Gb(),r.Gb()),2&t){const t=e.$implicit;r.vb(1),r.Tb("routerLink","/documentaries/",t.name.split(" ").join("-"),""),r.vb(1),r.ac(t.name)}}let gw=(()=>{class t{constructor(t,e){this.categoryService=t,this.tagService=e}ngOnInit(){this.getCategoryList(),this.getTagsList(),this.getDocumentaryList()}getTagsList(){this.tagsList=this.tagService.getAllTags()}getCategoryList(){this.categoryList=this.categoryService.getAllCategories()}getDocumentaryList(){this.documentaryList=this.categoryService.getAllCategories()}}return t.\u0275fac=function(e){return new(e||t)(r.Eb(Mb),r.Eb(Fb))},t.\u0275cmp=r.yb({type:t,selectors:[["app-footer"]],decls:30,vars:14,consts:[[1,"footer","content","pt-5"],[1,"container"],[1,"row"],[1,"col-md-6","col-lg-3"],[1,"footer-links"],["class","link","role","listitem",4,"ngFor","ngForOf"],[1,"link"],["routerLink","/about"],["routerLink","/contact"],[1,"mt-5","pt-3"],["role","listitem",1,"link"],[3,"routerLink"]],template:function(t,e){1&t&&(r.Hb(0,"div",0),r.Hb(1,"div",1),r.Hb(2,"div",2),r.Hb(3,"div",3),r.Hb(4,"div",4),r.Hb(5,"h6"),r.Zb(6,"Categories"),r.Gb(),r.Yb(7,dw,3,2,"div",5),r.Pb(8,"slice"),r.Pb(9,"async"),r.Gb(),r.Gb(),r.Hb(10,"div",3),r.Hb(11,"div",4),r.Hb(12,"h6"),r.Zb(13,"Tags"),r.Gb(),r.Yb(14,pw,3,2,"div",5),r.Pb(15,"slice"),r.Pb(16,"async"),r.Gb(),r.Gb(),r.Hb(17,"div",3),r.Hb(18,"div",4),r.Hb(19,"h6"),r.Zb(20,"DocoSummaries"),r.Gb(),r.Hb(21,"div",6),r.Hb(22,"a",7),r.Zb(23,"About"),r.Gb(),r.Gb(),r.Hb(24,"div",6),r.Hb(25,"a",8),r.Zb(26,"Contact"),r.Gb(),r.Gb(),r.Gb(),r.Gb(),r.Hb(27,"div",3),r.Hb(28,"div",9),r.Fb(29,"app-searchbar"),r.Gb(),r.Gb(),r.Gb(),r.Gb(),r.Gb()),2&t&&(r.vb(7),r.Sb("ngForOf",r.Rb(8,2,r.Qb(9,6,e.categoryList),0,4)),r.vb(7),r.Sb("ngForOf",r.Rb(15,8,r.Qb(16,12,e.tagsList),0,4)))},directives:[j,ri,Wb],pipes:[q,V],styles:["a[_ngcontent-%COMP%]{transition:.3s}.footer[_ngcontent-%COMP%]{position:relative;padding-top:20px;font-size:10pt}.footer[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]{margin-bottom:45px;color:#999}.footer[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{position:relative;margin-bottom:20px;padding-bottom:10px;font-size:16px;font-weight:600}.footer[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;margin-bottom:12px;color:#999}.footer[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:last-child{margin:0}.footer[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:orange;text-decoration:none}.footer[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{position:absolute;font-family:Font Awesome\\ 5 Free;font-weight:900;left:0}"]}),t})(),mw=(()=>{class t{constructor(){this.title="docosummaries"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.yb({type:t,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"bg-main"],[1,"content"]],template:function(t,e){1&t&&(r.Hb(0,"div",0),r.Fb(1,"app-navbar"),r.Hb(2,"div",1),r.Fb(3,"router-outlet"),r.Gb(),r.Fb(4,"app-footer"),r.Gb())},directives:[fw,oi,gw],styles:[""]}),t})();class yw{constructor(t,e,n,r){this.keySelector=t,this.elementSelector=e,this.durationSelector=n,this.subjectSelector=r}call(t,e){return e.subscribe(new vw(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class vw extends Nt.a{constructor(t,e,n,r,i){super(t),this.keySelector=e,this.elementSelector=n,this.durationSelector=r,this.subjectSelector=i,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(t){let e;try{e=this.keySelector(t)}catch(n){return void this.error(n)}this._group(t,e)}_group(t,e){let n=this.groups;n||(n=this.groups=new Map);let r,i=n.get(e);if(this.elementSelector)try{r=this.elementSelector(t)}catch(o){this.error(o)}else r=t;if(!i){i=this.subjectSelector?this.subjectSelector():new Ct.a,n.set(e,i);const t=new ww(e,i,this);if(this.destination.next(t),this.durationSelector){let t;try{t=this.durationSelector(new ww(e,i))}catch(o){return void this.error(o)}this.add(t.subscribe(new bw(e,i,this)))}}i.closed||i.next(r)}_error(t){const e=this.groups;e&&(e.forEach((e,n)=>{e.error(t)}),e.clear()),this.destination.error(t)}_complete(){const t=this.groups;t&&(t.forEach((t,e)=>{t.complete()}),t.clear()),this.destination.complete()}removeGroup(t){this.groups.delete(t)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class bw extends Nt.a{constructor(t,e,n){super(e),this.key=t,this.group=e,this.parent=n}_next(t){this.complete()}_unsubscribe(){const{parent:t,key:e}=this;this.key=this.parent=null,t&&t.removeGroup(e)}}class ww extends Lt.a{constructor(t,e,n){super(),this.key=t,this.groupSubject=e,this.refCountSubscription=n}_subscribe(t){const e=new Ce.a,{refCountSubscription:n,groupSubject:r}=this;return n&&!n.closed&&e.add(new _w(n)),e.add(r.subscribe(t)),e}}class _w extends Ce.a{constructor(t){super(),this.parent=t,t.count++}unsubscribe(){const t=this.parent;t.closed||this.closed||(super.unsubscribe(),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())}}const Sw=new r.q("angularfire2.analytics.analyticsCollectionEnabled"),Ow=new r.q("angularfire2.analytics.appVersion"),Ew=new r.q("angularfire2.analytics.appName"),Tw=new r.q("angularfire2.analytics.debugMode"),Iw=new r.q("angularfire2.analytics.config");let Cw=(()=>{class t{constructor(t,e,r,i,o,s,a,u){if(this.analyticsInitialized=new Promise(()=>{}),B(a)){window.dataLayer=window.dataLayer||[];const t=(...t)=>"config"===t[0]&&"firebase"===t[2].origin&&(this.measurementId=t[1],!0),e=t=>{window.gtag=(...e)=>{t&&t(...e),"event"===e[0]&&e[2].send_to===this.measurementId&&(i&&(e[2].app_name=i),r&&(e[2].app_version=r)),o&&"undefined"!=typeof console&&console.info(...e),function(...t){window.dataLayer.push(arguments)}(...e)}};window.dataLayer.some(t)?(this.analyticsInitialized=Promise.resolve(),e()):this.analyticsInitialized=new Promise(n=>{e((...e)=>{t(...e)&&n()})}),s&&this.updateConfig(s),o&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const c=Object(It.a)(void 0).pipe(Object(Ri.b)(new Pi.e(u).outsideAngular),Qt(()=>B(a)?u.runOutsideAngular(()=>n.e(4).then(n.bind(null,"AAub"))):Gt.a),Object(Wt.a)(()=>Object(Pi.g)("analytics","AngularFireAnalytics",t,()=>{const n=t.analytics();return!1===e&&n.setAnalyticsCollectionEnabled(!1),n},[t,e,s,o])),hb({bufferSize:1,refCount:!1}));return Object(Pi.j)(this,c,u)}updateConfig(t){return Object(Ii.b)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},t),{update:!0}))})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Pi.d),r.Jb(Sw,8),r.Jb(Ow,8),r.Jb(Ew,8),r.Jb(Tw,8),r.Jb(Iw,8),r.Jb(r.B),r.Jb(r.z))},t.\u0275prov=r.Ab({factory:function(){return new t(r.Jb(Pi.d),r.Jb(Sw,8),r.Jb(Ow,8),r.Jb(Ew,8),r.Jb(Tw,8),r.Jb(Iw,8),r.Jb(r.B),r.Jb(r.z))},token:t,providedIn:"any"}),t})();Object(Pi.f)(Cw,[{app:null,logEvent:null,setCurrentScreen:null,setUserId:null,setUserProperties:null,setAnalyticsCollectionEnabled:null}]);let xw=(()=>{class t{constructor(t,e,n,r){if(this.disposables=[],z(e))this.initialized=Promise.resolve();else{let e;this.initialized=r.runOutsideAngular(()=>new Promise(t=>e=t)),this.disposables=[n.authState.subscribe(n=>{t.setUserId(null==n?void 0:n.uid),e()}),n.credential.subscribe(e=>{if(e){const n=e.user.isAnonymous?"anonymous":e.additionalUserInfo.providerId;e.additionalUserInfo.isNewUser&&t.logEvent("sign_up",{method:n}),t.logEvent("login",{method:n})}})]}}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Cw),r.Jb(r.B),r.Jb(wb),r.Jb(r.z))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})();const Aw="screen_class";let jw=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const kw={},Nw=t=>{const e=[t.screen_class,t.outlet].join("#");if(kw.hasOwnProperty(e))return kw[e];{const t=jw++;return kw[e]=t,t}};let Dw=(()=>{class t{constructor(t,e,n,r,i,o,s){if(!e||!B(i))return this;o.runOutsideAngular(()=>{const i=e.events.pipe(se(t=>t instanceof Ge));var o;this.disposable=i.pipe(Qt(t=>{var i;const o=(null===(i=e.parseUrl(e.url.replace(/(?:\().+(?:\))/g,t=>t.replace("://",":///"))).root.children[t.snapshot.outlet])||void 0===i?void 0:i.toString())||"",s=e.routerState.root.children.map(t=>t).find(e=>e.outlet===t.snapshot.outlet);if(!s)return Object(It.a)(null);let a=s;for(;a.firstChild;)a=a.firstChild;const u=a.pathFromRoot.map(t=>{var e;return null===(e=t.routeConfig)||void 0===e?void 0:e.path}).filter(t=>t).join("/")||"/",c={screen_name:u,page_path:"/"+o,firebase_event_origin:"auto",firebase_screen:u,outlet:t.snapshot.outlet};n&&(c.page_title=n.getTitle());let l=s.component;if(l){if(l===hr){let e=t.snapshot;for(;e.firstChild;)e=e.firstChild;l=e.component}}else l=t.snapshot.component;if("string"==typeof l)return Object(It.a)(Object.assign(Object.assign({},c),{[Aw]:l}));if(l){const t=r.resolveComponentFactory(l);return Object(It.a)(Object.assign(Object.assign({},c),{[Aw]:t.selector}))}return Object(It.a)(null)}),se(t=>t),Object(Wt.a)(t=>Object.assign({firebase_screen_class:t.screen_class,firebase_screen_id:Nw(t)},t)),(o=t=>t.outlet,t=>t.lift(new yw(o,void 0,void 0,void 0))),Object(fe.a)(e=>e.pipe(ki((t,e)=>JSON.stringify(t)===JSON.stringify(e)),ne(void 0),xi(),Object(Wt.a)(([t,e])=>t?Object.assign({firebase_previous_class:t.screen_class,firebase_previous_screen:t.screen_name,firebase_previous_id:t.firebase_screen_id},e):e),Qt(e=>Object(Ii.b)(this,void 0,void 0,function*(){return s&&(yield s.initialized),yield t.logEvent("screen_view",e)}))))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Cw),r.Jb(ei,8),r.Jb(Et,8),r.Jb(r.j),r.Jb(r.B),r.Jb(r.z),r.Jb(xw,8))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})(),Rw=(()=>{class t{constructor(t,e,n){t.app.then(()=>{})}}return t.\u0275mod=r.Cb({type:t}),t.\u0275inj=r.Bb({factory:function(e){return new(e||t)(r.Jb(Cw),r.Jb(Dw,8),r.Jb(xw,8))},providers:[Cw]}),t})(),Pw=(()=>{class t{}return t.\u0275mod=r.Cb({type:t}),t.\u0275inj=r.Bb({factory:function(e){return new(e||t)},imports:[[H,rw]]}),t})(),Lw=(()=>{class t{}return t.\u0275mod=r.Cb({type:t}),t.\u0275inj=r.Bb({factory:function(e){return new(e||t)},imports:[[H,Pw,rw]]}),t})(),Mw=(()=>{class t{}return t.\u0275mod=r.Cb({type:t}),t.\u0275inj=r.Bb({factory:function(e){return new(e||t)},imports:[[H,Pw]]}),t})(),Fw=(()=>{class t{}return t.\u0275mod=r.Cb({type:t}),t.\u0275inj=r.Bb({factory:function(e){return new(e||t)},imports:[[H,Pw]]}),t})(),Uw=(()=>{class t{}return t.\u0275mod=r.Cb({type:t}),t.\u0275inj=r.Bb({factory:function(e){return new(e||t)},imports:[[H,Pw]]}),t})(),Vw=(()=>{class t{}return t.\u0275mod=r.Cb({type:t,bootstrap:[mw]}),t.\u0275inj=r.Bb({factory:function(e){return new(e||t)},providers:[],imports:[[St,rw,Pw,Lw,Mw,Fw,Uw,Pi.a.initializeApp(i),Rw,Lb]]}),t})();Object(r.S)(),wt().bootstrapModule(Vw).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(e.closed)return;if(t instanceof i.a)return t.subscribe(e);let n;try{n=Object(o.a)(t)(e)}catch(r){e.error(r)}return n}}},[[0,0]]]);